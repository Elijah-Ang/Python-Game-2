{
  "1": {
    "id": 1,
    "title": "What is a Variable?",
    "content": "# \ud83d\udce6 What is a Variable?\n\n## Definition\nA **variable** is a named container that stores data in your computer's memory. Think of it like a labeled box where you can put things and retrieve them later.\n\n## Why Do We Need Variables?\n\nImagine you're calculating someone's age. Without variables, you'd have to remember the number (like 25) and type it every time. With a variable, you give it a name (like `age`) and the computer remembers it for you!\n\n## Real-World Analogy\n\nThink of a variable like a **sticky note on a box**:\n- The **box** holds something (a piece of data)\n- The **sticky note** has a name written on it (the variable name)\n- When you need what's inside, you just look for the note!\n\n## How to Create a Variable\n\nIn Python, creating a variable is simple:\n\n```python\n# variable_name = value\nage = 25\nname = \"Alice\"\nprice = 19.99\n```\n\nThe `=` sign means \"store this value in this variable name.\"\n\n## Key Vocabulary\n\n| Term | Meaning |\n| --- | --- |\n| **Variable** | A named container for data |\n| **Value** | The actual data stored (like 25 or \"Alice\") |\n| **Assignment** | The act of storing a value in a variable using `=` |\n\n---\n\n## \ud83c\udfaf Your Task\n\nCreate a variable called `student` and set it to `\"Alice\"`. Then print it!\n",
    "starter_code": "# Create a variable called student with value \"Alice\"\n\n\n# Print the variable\n",
    "solution_code": "# Create a variable called student with value \"Alice\"\nstudent = \"Alice\"\n\n# Print the variable\nprint(student)",
    "expected_output": "Alice",
    "chapter_id": 1,
    "chapter_title": "Variables, Types & Memory"
  },
  "2": {
    "id": 2,
    "title": "Naming Variables",
    "content": "# \ud83c\udff7\ufe0f How to Name Variables\n\n## Why Does Naming Matter?\n\nGood variable names make your code **readable**. Compare:\n\n```python\n# Bad - What is x? What is y?\nx = 25\ny = 75000\n\n# Good - Clear what each variable represents!\nage = 25\nsalary = 75000\n```\n\nWhen you (or someone else) read the code later, good names save time and prevent confusion.\n\n## Python's Naming Rules\n\nThese are rules you MUST follow or Python will give an error:\n\n| Rule | \u2705 Valid | \u274c Invalid |\n| --- | --- | --- |\n| Can start with letter or _ | `name`, `_count` | \u2014 |\n| Cannot start with number | \u2014 | `2name` |\n| No spaces allowed | `my_name` | `my name` |\n| Only letters, numbers, _ | `user_1` | `user-name` |\n| Case sensitive | `Age` \u2260 `age` | \u2014 |\n\n## Naming Conventions (Best Practices)\n\nThese aren't required, but make your code professional:\n\n```python\n# \u2705 Use snake_case (lowercase with underscores)\nuser_name = \"Alice\"\ntotal_price = 99.99\n\n# \u274c Avoid starting with uppercase (reserved for classes)\nUserName = \"Alice\"  # Works but not conventional\n\n# \u2705 Be descriptive\ncustomer_email = \"alice@email.com\"\n\n# \u274c Avoid single letters (except for loops)\ne = \"alice@email.com\"  # What is 'e'?\n```\n\n---\n\n## \ud83c\udfaf Your Task\n\nCreate these two properly named variables:\n- `first_name` = `\"John\"`\n- `last_name` = `\"Doe\"`\n\nThen print both.\n",
    "starter_code": "# Create first_name variable\n\n\n# Create last_name variable\n\n\n# Print both\n",
    "solution_code": "# Create first_name variable\nfirst_name = \"John\"\n\n# Create last_name variable\nlast_name = \"Doe\"\n\n# Print both\nprint(first_name)\nprint(last_name)",
    "expected_output": "John\nDoe",
    "chapter_id": 1,
    "chapter_title": "Variables, Types & Memory"
  },
  "3": {
    "id": 3,
    "title": "Reassigning Variables",
    "content": "# \ud83d\udd04 Changing Variable Values\n\n## What is Reassignment?\n\nVariables can change! You can update a variable by assigning a new value:\n\n```python\nscore = 0          # Start at 0\nprint(score)       # Output: 0\n\nscore = 100        # Now it's 100!\nprint(score)       # Output: 100\n```\n\n## Why Does This Matter?\n\nIn real programs, values change constantly:\n- A player's score goes up\n- A shopping cart total increases\n- A countdown timer decreases\n\n## How It Works in Memory\n\nWhen you reassign:\n1. Python finds the variable name\n2. Throws away the old value\n3. Stores the new value\n\n```python\ntemperature = 72   # Box now holds 72\ntemperature = 85   # Box now holds 85 (72 is gone!)\n```\n\n## Using the Current Value\n\nYou can use a variable's current value to calculate a new one:\n\n```python\ncount = 5\ncount = count + 1  # Take current (5), add 1, store result (6)\nprint(count)       # Output: 6\n```\n\nShorthand version:\n```python\ncount += 1  # Same as: count = count + 1\n```\n\n---\n\n## \ud83c\udfaf Your Task\n\n1. Start with `points = 0`\n2. Add 10 to points using `+=`\n3. Add 5 more to points using `+=`\n4. Print the final value (should be 15)\n",
    "starter_code": "# Start with 0 points\npoints = 0\n\n# Add 10 points\n\n\n# Add 5 more points\n\n\n# Print final value\n",
    "solution_code": "# Start with 0 points\npoints = 0\n\n# Add 10 points\npoints += 10\n\n# Add 5 more points\npoints += 5\n\n# Print final value\nprint(points)",
    "expected_output": "15",
    "chapter_id": 1,
    "chapter_title": "Variables, Types & Memory"
  },
  "4": {
    "id": 4,
    "title": "Multiple Variables",
    "content": "# \ud83d\udccb Working with Multiple Variables\n\n## Assigning Multiple Variables\n\nYou can create several variables at once:\n\n```python\n# One per line (most clear)\nname = \"Alice\"\nage = 25\ncity = \"New York\"\n\n# All on one line (for related values)\nx, y, z = 10, 20, 30\n```\n\n## Swapping Variables\n\nSometimes you need to swap two values. Python makes this easy:\n\n```python\na = 5\nb = 10\n\n# Swap them!\na, b = b, a\n\nprint(a)  # 10\nprint(b)  # 5\n```\n\nIn other languages, you'd need a temporary variable. Python handles it elegantly!\n\n## Using Variables Together\n\nVariables can reference each other:\n\n```python\nprice = 20\nquantity = 3\ntotal = price * quantity  # total is now 60\n\nprint(f\"Total: ${total}\")\n```\n\n---\n\n## \ud83c\udfaf Your Task\n\nCreate variables for a product's name, price, and quantity:\n- `product` = `\"Laptop\"`\n- `price` = `999`\n- `quantity` = `2`\n\nCalculate `total` as price \u00d7 quantity, then print:\n```\nProduct: Laptop\nTotal: 1998\n```\n",
    "starter_code": "# Product information\nproduct = \"Laptop\"\nprice = 999\nquantity = 2\n\n# Calculate total\n\n\n# Print product and total\n",
    "solution_code": "# Product information\nproduct = \"Laptop\"\nprice = 999\nquantity = 2\n\n# Calculate total\ntotal = price * quantity\n\n# Print product and total\nprint(f\"Product: {product}\")\nprint(f\"Total: {total}\")",
    "expected_output": "Product: Laptop\nTotal: 1998",
    "chapter_id": 1,
    "chapter_title": "Variables, Types & Memory"
  },
  "5": {
    "id": 5,
    "title": "What are Strings?",
    "content": "# \ud83d\udcdd What is a String?\n\n## Definition\n\nA **string** is a sequence of characters (letters, numbers, symbols, spaces) surrounded by quotes. It's how we represent text in programming.\n\n```python\nmessage = \"Hello, World!\"\nname = 'Alice'  # Single or double quotes both work\n```\n\n## Why Do We Need Strings?\n\nNearly every program works with text:\n- User names, emails, addresses\n- Messages and notifications\n- File paths and URLs\n- Any data that isn't purely numeric\n\n## Types of Quotes\n\nPython accepts three types:\n\n```python\n# Single quotes\ngreeting = 'Hello'\n\n# Double quotes (same as single)\ngreeting = \"Hello\"\n\n# Triple quotes (for multi-line text)\npoem = \"\"\"Roses are red,\nViolets are blue,\nPython is awesome,\nAnd so are you!\"\"\"\n```\n\n## When to Use Which?\n\n```python\n# Use double quotes if string contains single quote\nsentence = \"It's a beautiful day\"\n\n# Use single quotes if string contains double quote\nhtml = '<div class=\"container\">'\n```\n\n---\n\n## \ud83c\udfaf Your Task\n\nCreate these strings:\n- `greeting` = `\"Hello\"`\n- `name` = `\"Python\"`\n\nPrint: `Hello, Python!`\n",
    "starter_code": "# Create greeting\ngreeting = \"Hello\"\n\n# Create name\nname = \"Python\"\n\n# Print greeting, name!\n",
    "solution_code": "# Create greeting\ngreeting = \"Hello\"\n\n# Create name\nname = \"Python\"\n\n# Print greeting, name!\nprint(f\"{greeting}, {name}!\")",
    "expected_output": "Hello, Python!",
    "chapter_id": 1,
    "chapter_title": "Variables, Types & Memory"
  },
  "6": {
    "id": 6,
    "title": "String Concatenation",
    "content": "# \ud83d\udd17 Joining Strings Together\n\n## What is Concatenation?\n\n**Concatenation** means joining strings end-to-end. Use the `+` operator:\n\n```python\nfirst = \"Hello\"\nsecond = \"World\"\ncombined = first + second\nprint(combined)  # HelloWorld\n```\n\n## Adding Spaces\n\nNotice there's no automatic space! You must add it:\n\n```python\ncombined = first + \" \" + second\nprint(combined)  # Hello World\n```\n\n## Why Use Concatenation?\n\nBuilding messages with dynamic data:\n\n```python\nname = \"Alice\"\nmessage = \"Welcome, \" + name + \"!\"\nprint(message)  # Welcome, Alice!\n```\n\n## Repeating Strings\n\nUse `*` to repeat a string:\n\n```python\nline = \"-\" * 20\nprint(line)  # --------------------\n\ncheer = \"Hip \" * 2 + \"Hooray!\"\nprint(cheer)  # Hip Hip Hooray!\n```\n\n---\n\n## \ud83c\udfaf Your Task\n\nGiven:\n- `first_name` = `\"Jane\"`\n- `last_name` = `\"Smith\"`\n\nCreate `full_name` by joining them with a space.\nThen print: `Welcome, Jane Smith!`\n",
    "starter_code": "# Given names\nfirst_name = \"Jane\"\nlast_name = \"Smith\"\n\n# Join them into full_name\n\n\n# Print welcome message\n",
    "solution_code": "# Given names\nfirst_name = \"Jane\"\nlast_name = \"Smith\"\n\n# Join them into full_name\nfull_name = first_name + \" \" + last_name\n\n# Print welcome message\nprint(\"Welcome, \" + full_name + \"!\")",
    "expected_output": "Welcome, Jane Smith!",
    "chapter_id": 1,
    "chapter_title": "Variables, Types & Memory"
  },
  "7": {
    "id": 7,
    "title": "F-Strings (Formatted Strings)",
    "content": "# \u2728 F-Strings: The Modern Way\n\n## What are F-Strings?\n\nF-strings (formatted string literals) let you embed variables directly in text. Just add `f` before the quote and put variables in `{}`:\n\n```python\nname = \"Alice\"\nage = 25\nmessage = f\"My name is {name} and I'm {age} years old.\"\nprint(message)\n# Output: My name is Alice and I'm 25 years old.\n```\n\n## Why F-Strings are Better\n\nCompare concatenation vs f-strings:\n\n```python\n# Old way (messy)\nmessage = \"Hello, \" + name + \"! You have \" + str(score) + \" points.\"\n\n# F-string way (clean!)\nmessage = f\"Hello, {name}! You have {score} points.\"\n```\n\nF-strings are:\n- Easier to read\n- Less error-prone\n- No need to convert numbers to strings\n\n## Expressions Inside F-Strings\n\nYou can put any expression in `{}`:\n\n```python\nprice = 19.99\nquantity = 3\nprint(f\"Total: ${price * quantity}\")  # Total: $59.97\n\n# Formatting numbers\nprint(f\"Price: ${price:.2f}\")  # Price: $19.99 (2 decimal places)\n```\n\n---\n\n## \ud83c\udfaf Your Task\n\nGiven:\n- `item` = `\"Coffee\"`\n- `price` = `4.50`\n\nUse an f-string to print: `Coffee costs $4.5`\n",
    "starter_code": "# Given data\nitem = \"Coffee\"\nprice = 4.50\n\n# Print using f-string\n",
    "solution_code": "# Given data\nitem = \"Coffee\"\nprice = 4.50\n\n# Print using f-string\nprint(f\"{item} costs ${price}\")",
    "expected_output": "Coffee costs $4.5",
    "chapter_id": 1,
    "chapter_title": "Variables, Types & Memory"
  },
  "8": {
    "id": 8,
    "title": "String Methods",
    "content": "# \ud83d\udee0\ufe0f String Methods\n\n## What are Methods?\n\nMethods are **actions** you can perform on strings. Use dot notation: `string.method()`\n\n## Common String Methods\n\n```python\ntext = \"Hello World\"\n\ntext.upper()      # \"HELLO WORLD\"\ntext.lower()      # \"hello world\"\ntext.title()      # \"Hello World\"\ntext.strip()      # Removes whitespace from ends\ntext.replace(\"Hello\", \"Hi\")  # \"Hi World\"\ntext.split(\" \")   # [\"Hello\", \"World\"]\nlen(text)         # 11 (length - not a method, but useful!)\n```\n\n## Why These Are Useful\n\n| Method | Use Case |\n| --- | --- |\n| `.upper()/.lower()` | Case-insensitive comparison |\n| `.strip()` | Clean user input |\n| `.replace()` | Find and replace text |\n| `.split()` | Break text into parts |\n\n## Example: Cleaning User Input\n\n```python\nuser_input = \"  Alice  \"\nclean_name = user_input.strip().title()\nprint(clean_name)  # \"Alice\"\n```\n\n## Chaining Methods\n\nMethods return new strings, so you can chain them:\n\n```python\nmessy = \"   hELLo wORLD   \"\nclean = messy.strip().lower().title()\nprint(clean)  # \"Hello World\"\n```\n\n---\n\n## \ud83c\udfaf Your Task\n\nGiven: `messy_email = \"  JOHN@EMAIL.COM  \"`\n\nClean it up:\n1. Remove extra spaces with `.strip()`\n2. Convert to lowercase with `.lower()`\n3. Print the result: `john@email.com`\n",
    "starter_code": "# Messy email\nmessy_email = \"  JOHN@EMAIL.COM  \"\n\n# Clean it: strip and lowercase\n\n\n# Print cleaned email\n",
    "solution_code": "# Messy email\nmessy_email = \"  JOHN@EMAIL.COM  \"\n\n# Clean it: strip and lowercase\nclean_email = messy_email.strip().lower()\n\n# Print cleaned email\nprint(clean_email)",
    "expected_output": "john@email.com",
    "chapter_id": 1,
    "chapter_title": "Variables, Types & Memory"
  },
  "9": {
    "id": 9,
    "title": "Numbers: Integers and Floats",
    "content": "# \ud83d\udd22 Numbers in Python\n\n## Two Main Types of Numbers\n\nPython has two types of numbers:\n\n| Type | Definition | Examples |\n| --- | --- | --- |\n| **Integer (int)** | Whole numbers, no decimal | `10`, `-5`, `0`, `1000` |\n| **Float** | Numbers with decimals | `3.14`, `-2.5`, `0.0` |\n\n## Why Two Types?\n\n- **Integers** are precise and faster (good for counting)\n- **Floats** are needed for measurements, science, money\n\n```python\ncount = 42       # Integer - exact count\nprice = 19.99    # Float - needs decimals\ntemperature = 98.6\n```\n\n## Python Auto-Detects the Type\n\n```python\nwhole = 10      # Python sees int\ndecimal = 10.0  # Python sees float\n\n# Check the type\nprint(type(whole))    # <class 'int'>\nprint(type(decimal))  # <class 'float'>\n```\n\n## Converting Between Types\n\n```python\nx = 10\ny = float(x)    # 10.0 (now a float)\n\nz = 10.7\nw = int(z)      # 10 (decimals cut off, not rounded!)\n```\n\n---\n\n## \ud83c\udfaf Your Task\n\nCreate:\n- `quantity` = `5` (integer)\n- `unit_price` = `12.50` (float)\n- `total` = quantity \u00d7 unit_price\n\nPrint: `Total: 62.5`\n",
    "starter_code": "# Create quantity (integer)\nquantity = 5\n\n# Create unit_price (float)\nunit_price = 12.50\n\n# Calculate total\n\n\n# Print total\n",
    "solution_code": "# Create quantity (integer)\nquantity = 5\n\n# Create unit_price (float)\nunit_price = 12.50\n\n# Calculate total\ntotal = quantity * unit_price\n\n# Print total\nprint(f\"Total: {total}\")",
    "expected_output": "Total: 62.5",
    "chapter_id": 1,
    "chapter_title": "Variables, Types & Memory"
  },
  "10": {
    "id": 10,
    "title": "Math Operations",
    "content": "# \u2795 Math in Python\n\n## Basic Operations\n\nPython supports all standard math:\n\n| Operator | Name | Example | Result |\n| --- | --- | --- | --- |\n| `+` | Addition | `5 + 3` | `8` |\n| `-` | Subtraction | `5 - 3` | `2` |\n| `*` | Multiplication | `5 * 3` | `15` |\n| `/` | Division | `5 / 2` | `2.5` |\n| `**` | Power | `5 ** 2` | `25` |\n| `//` | Floor Division | `5 // 2` | `2` |\n| `%` | Modulo (remainder) | `5 % 2` | `1` |\n\n## Understanding Floor Division and Modulo\n\n- `//` gives the **whole number** part of division\n- `%` gives the **remainder**\n\n```python\n17 // 5  # 3 (17 goes into 5 three times)\n17 % 5   # 2 (with 2 left over)\n```\n\n## Order of Operations (PEMDAS)\n\nPython follows standard math order:\n1. **P**arentheses `()`\n2. **E**xponents `**`\n3. **M**ultiplication & **D**ivision `* / // %`\n4. **A**ddition & **S**ubtraction `+ -`\n\n```python\nresult = 2 + 3 * 4      # 14 (not 20!)\nresult = (2 + 3) * 4    # 20 (parentheses first)\n```\n\n---\n\n## \ud83c\udfaf Your Task\n\nCalculate a restaurant tip:\n- `bill` = `80.00`\n- `tip_percent` = `20`\n- Calculate `tip` as 20% of bill\n- Calculate `total` as bill + tip\n\nPrint: `Tip: 16.0` and `Total: 96.0`\n",
    "starter_code": "# Bill amount\nbill = 80.00\ntip_percent = 20\n\n# Calculate tip (20% of bill)\n\n\n# Calculate total\n\n\n# Print tip and total\n",
    "solution_code": "# Bill amount\nbill = 80.00\ntip_percent = 20\n\n# Calculate tip (20% of bill)\ntip = bill * (tip_percent / 100)\n\n# Calculate total\ntotal = bill + tip\n\n# Print tip and total\nprint(f\"Tip: {tip}\")\nprint(f\"Total: {total}\")",
    "expected_output": "Tip: 16.0\nTotal: 96.0",
    "chapter_id": 1,
    "chapter_title": "Variables, Types & Memory"
  },
  "11": {
    "id": 11,
    "title": "Compound Assignment",
    "content": "# \ud83d\udcdd Shorthand Math Operations\n\n## What is Compound Assignment?\n\nInstead of writing `x = x + 5`, Python has shorter versions:\n\n| Long Form | Shorthand | Meaning |\n| --- | --- | --- |\n| `x = x + 5` | `x += 5` | Add 5 to x |\n| `x = x - 5` | `x -= 5` | Subtract 5 from x |\n| `x = x * 5` | `x *= 5` | Multiply x by 5 |\n| `x = x / 5` | `x /= 5` | Divide x by 5 |\n| `x = x ** 2` | `x **= 2` | Square x |\n\n## Why Use Shorthand?\n\n1. Less typing\n2. Clearer intent (you're modifying, not replacing)\n3. Industry standard practice\n\n```python\nscore = 0\nscore += 10   # Player earns 10 points\nscore += 25   # Player earns 25 more\nscore -= 5    # Player loses 5 points\nprint(score)  # 30\n```\n\n## Common Use: Counters and Accumulators\n\n```python\n# Counting\ncount = 0\ncount += 1\ncount += 1\ncount += 1\nprint(count)  # 3\n\n# Running total\ntotal = 0\ntotal += 100\ntotal += 50\ntotal += 25\nprint(total)  # 175\n```\n\n---\n\n## \ud83c\udfaf Your Task\n\nSimulate a game:\n1. Start `health = 100`\n2. Take 25 damage (use `-=`)\n3. Heal 10 health (use `+=`)\n4. Print final health (should be 85)\n",
    "starter_code": "# Start with full health\nhealth = 100\n\n# Take 25 damage\n\n\n# Heal 10 health\n\n\n# Print final health\n",
    "solution_code": "# Start with full health\nhealth = 100\n\n# Take 25 damage\nhealth -= 25\n\n# Heal 10 health\nhealth += 10\n\n# Print final health\nprint(health)",
    "expected_output": "85",
    "chapter_id": 1,
    "chapter_title": "Variables, Types & Memory"
  },
  "12": {
    "id": 12,
    "title": "Booleans and Type Conversion",
    "content": "# \u2b55 Booleans: True or False\n\n## What is a Boolean?\n\nA **Boolean** (named after mathematician George Boole) can only be one of two values:\n- `True`\n- `False`\n\n```python\nis_sunny = True\nis_raining = False\n```\n\n## Why Are Booleans Important?\n\nBooleans are the foundation of **decision making** in code:\n\n```python\nis_adult = age >= 18\nis_logged_in = True\nhas_permission = user_role == \"admin\"\n```\n\nWe'll use these extensively in the Logic chapter!\n\n## Type Conversion\n\nYou can convert between types:\n\n```python\n# To integer\nint(\"42\")       # 42\nint(3.7)        # 3 (truncates, doesn't round!)\n\n# To float\nfloat(\"3.14\")   # 3.14\nfloat(5)        # 5.0\n\n# To string\nstr(42)         # \"42\"\nstr(3.14)       # \"3.14\"\n\n# To boolean\nbool(1)         # True\nbool(0)         # False\nbool(\"\")        # False (empty string)\nbool(\"hello\")   # True (non-empty string)\n```\n\n## Common Use: User Input\n\n```python\n# input() always returns a string!\nage_text = \"25\"\nage = int(age_text)  # Convert to number for math\n```\n\n---\n\n## \ud83c\udfaf Your Task\n\nGiven: `age_text = \"25\"`\n\n1. Convert it to an integer using `int()`\n2. Add 5 to get age in 5 years\n3. Print the future age (should be 30)\n",
    "starter_code": "# Age as a string\nage_text = \"25\"\n\n# Convert to integer\n\n\n# Add 5 years\n\n\n# Print future age\n",
    "solution_code": "# Age as a string\nage_text = \"25\"\n\n# Convert to integer\nage = int(age_text)\n\n# Add 5 years\nfuture_age = age + 5\n\n# Print future age\nprint(future_age)",
    "expected_output": "30",
    "chapter_id": 1,
    "chapter_title": "Variables, Types & Memory"
  },
  "13": {
    "id": 13,
    "title": "For Loop Basics",
    "content": "# \ud83d\udd01 For Loops: Repeat Actions\n\n## What is a Loop?\n\nA **loop** lets you repeat code multiple times without writing it over and over. It's one of the most powerful tools in programming!\n\n## Real-World Analogy\n\nImagine you need to greet 100 guests at a party. Instead of saying \"Hello\" 100 times manually, you'd use a loop: \"For each guest, say Hello.\"\n\n## The For Loop\n\nA `for` loop repeats code for each item in a sequence:\n\n```python\n# For each item in the sequence...\nfor item in sequence:\n    # Do something with item\n    print(item)\n```\n\n## Example: Looping Through a List\n\n```python\nfruits = [\"apple\", \"banana\", \"cherry\"]\nfor fruit in fruits:\n    print(fruit)\n```\n\nOutput:\n```\napple\nbanana\ncherry\n```\n\n## How It Works Step by Step\n\n1. Python takes the first item (\"apple\") and stores it in `fruit`\n2. Runs the indented code (prints \"apple\")\n3. Takes the next item (\"banana\") and stores it in `fruit`\n4. Runs the indented code (prints \"banana\")\n5. Continues until no items left\n\n---\n\n## \ud83c\udfaf Your Task\n\nGiven this list:\n```python\ncolors = [\"red\", \"green\", \"blue\"]\n```\n\nUse a for loop to print each color on a new line.\n",
    "starter_code": "colors = [\"red\", \"green\", \"blue\"]\n\n# Print each color\n",
    "solution_code": "colors = [\"red\", \"green\", \"blue\"]\n\n# Print each color\nfor color in colors:\n    print(color)",
    "expected_output": "red\ngreen\nblue",
    "chapter_id": 2,
    "chapter_title": "Loops (Iteration)"
  },
  "14": {
    "id": 14,
    "title": "Looping Through Strings",
    "content": "# \ud83d\udcdd Looping Through Strings\n\n## Strings Are Sequences Too!\n\nA string is actually a sequence of characters. You can loop through it just like a list:\n\n```python\nword = \"Hello\"\nfor letter in word:\n    print(letter)\n```\n\nOutput:\n```\nH\ne\nl\nl\no\n```\n\n## Why Loop Through Strings?\n\nCommon use cases:\n- Counting specific characters\n- Checking each character for validity\n- Transforming characters one by one\n- Finding patterns\n\n## Example: Count Vowels\n\n```python\ntext = \"hello world\"\nvowel_count = 0\nfor char in text:\n    if char in \"aeiou\":\n        vowel_count += 1\nprint(f\"Vowels: {vowel_count}\")  # Vowels: 3\n```\n\n## Understanding Characters\n\nEach loop iteration gives you ONE character:\n\n```python\nfor char in \"ABC\":\n    print(f\"Character: '{char}'\")\n# Output:\n# Character: 'A'\n# Character: 'B'\n# Character: 'C'\n```\n\n---\n\n## \ud83c\udfaf Your Task\n\nLoop through the word `\"Python\"` and print each letter on a separate line.\n",
    "starter_code": "word = \"Python\"\n\n# Print each letter\n",
    "solution_code": "word = \"Python\"\n\n# Print each letter\nfor letter in word:\n    print(letter)",
    "expected_output": "P\ny\nt\nh\no\nn",
    "chapter_id": 2,
    "chapter_title": "Loops (Iteration)"
  },
  "15": {
    "id": 15,
    "title": "Accumulating Values",
    "content": "# \u2795 Accumulating Values in Loops\n\n## The Accumulator Pattern\n\nOne of the most common loop patterns: start with a value, then update it each iteration.\n\n```python\n# Start with an initial value\ntotal = 0\n\n# Loop and accumulate\nfor num in [1, 2, 3, 4, 5]:\n    total += num  # Add each number\n\nprint(total)  # 15\n```\n\n## How It Works Step by Step\n\n| Iteration | `num` | `total` before | Action | `total` after |\n| --- | --- | --- | --- | --- |\n| 1 | 1 | 0 | 0 + 1 | 1 |\n| 2 | 2 | 1 | 1 + 2 | 3 |\n| 3 | 3 | 3 | 3 + 3 | 6 |\n| 4 | 4 | 6 | 6 + 4 | 10 |\n| 5 | 5 | 10 | 10 + 5 | 15 |\n\n## Other Accumulator Examples\n\n```python\n# Product\nproduct = 1\nfor num in [2, 3, 4]:\n    product *= num\nprint(product)  # 24\n\n# String building\nsentence = \"\"\nwords = [\"Hello\", \"World\", \"!\"]\nfor word in words:\n    sentence += word + \" \"\nprint(sentence)  # \"Hello World ! \"\n```\n\n---\n\n## \ud83c\udfaf Your Task\n\nGiven: `numbers = [10, 20, 30, 40]`\n\nCalculate and print the sum using the accumulator pattern.\n",
    "starter_code": "numbers = [10, 20, 30, 40]\ntotal = 0\n\n# Add each number to total\n\n\n# Print the sum\n",
    "solution_code": "numbers = [10, 20, 30, 40]\ntotal = 0\n\n# Add each number to total\nfor num in numbers:\n    total += num\n\n# Print the sum\nprint(total)",
    "expected_output": "100",
    "chapter_id": 2,
    "chapter_title": "Loops (Iteration)"
  },
  "16": {
    "id": 16,
    "title": "Using range()",
    "content": "# \ud83d\udcca The range() Function\n\n## What is range()?\n\n`range()` generates a sequence of numbers. It's perfect when you need to repeat something a specific number of times.\n\n```python\nfor i in range(5):\n    print(i)\n# Output: 0, 1, 2, 3, 4\n```\n\n## Why Start at 0?\n\nPython (like most languages) uses **zero-based indexing**. This means counting starts at 0, not 1.\n\n```python\nrange(5)  # Generates: 0, 1, 2, 3, 4 (that's 5 numbers!)\n```\n\n## Common Pattern: Repeat N Times\n\nIf you just want to repeat something:\n\n```python\nfor i in range(3):\n    print(\"Hello!\")\n# Output: Hello! Hello! Hello!\n```\n\n## range() Returns a Special Object\n\nNote: `range()` doesn't create a list immediately (to save memory). But it works in for loops!\n\n```python\nprint(range(5))       # range(0, 5) - the object\nprint(list(range(5))) # [0, 1, 2, 3, 4] - converted to list\n```\n\n---\n\n## \ud83c\udfaf Your Task\n\nUse `range(5)` to print numbers 0 through 4, each on a new line.\n",
    "starter_code": "# Print 0 through 4 using range\n",
    "solution_code": "# Print 0 through 4 using range\nfor i in range(5):\n    print(i)",
    "expected_output": "0\n1\n2\n3\n4",
    "chapter_id": 2,
    "chapter_title": "Loops (Iteration)"
  },
  "17": {
    "id": 17,
    "title": "range() with Start and End",
    "content": "# \ud83d\udcc8 range(start, end)\n\n## Two Arguments: Start and Stop\n\nWith two arguments, you control where to start:\n\n```python\nrange(start, stop)  # From start up to (but not including) stop\n```\n\n## Example\n\n```python\nfor i in range(2, 5):\n    print(i)\n# Output: 2, 3, 4\n```\n\nNotice: 5 is NOT included! Python ranges are **exclusive** of the end value.\n\n## Mental Model\n\nThink of it as: \"start here, stop BEFORE this\"\n\n```python\nrange(1, 4)   # 1, 2, 3 (stops before 4)\nrange(5, 10)  # 5, 6, 7, 8, 9 (stops before 10)\n```\n\n## To Include the End Number\n\nIf you want 1-10 inclusive, use `range(1, 11)`:\n\n```python\nfor i in range(1, 11):\n    print(i, end=\" \")\n# Output: 1 2 3 4 5 6 7 8 9 10\n```\n\n---\n\n## \ud83c\udfaf Your Task\n\nPrint numbers from 5 to 10 (inclusive).\nUse `range(5, 11)` since the end is exclusive.\n",
    "starter_code": "# Print 5 through 10\n",
    "solution_code": "# Print 5 through 10\nfor i in range(5, 11):\n    print(i)",
    "expected_output": "5\n6\n7\n8\n9\n10",
    "chapter_id": 2,
    "chapter_title": "Loops (Iteration)"
  },
  "18": {
    "id": 18,
    "title": "range() with Step",
    "content": "# \ud83e\udd98 range(start, end, step)\n\n## Three Arguments: Adding a Step\n\nThe third argument controls how much to increment:\n\n```python\nrange(start, stop, step)\n```\n\n## Example: Skip by 2\n\n```python\nfor i in range(0, 10, 2):\n    print(i)\n# Output: 0, 2, 4, 6, 8\n```\n\n## Common Step Patterns\n\n```python\n# Even numbers (0-10)\nrange(0, 11, 2)  # 0, 2, 4, 6, 8, 10\n\n# Odd numbers (1-9)\nrange(1, 10, 2)  # 1, 3, 5, 7, 9\n\n# Count by 5s\nrange(0, 26, 5)  # 0, 5, 10, 15, 20, 25\n\n# Count by 10s\nrange(10, 101, 10)  # 10, 20, 30, ... 100\n```\n\n## Counting Backwards\n\nUse a negative step to go in reverse:\n\n```python\nfor i in range(10, 0, -1):\n    print(i)\n# Output: 10, 9, 8, 7, 6, 5, 4, 3, 2, 1\n```\n\n---\n\n## \ud83c\udfaf Your Task\n\nPrint even numbers from 2 to 10 (inclusive).\nUse `range(2, 11, 2)`.\n",
    "starter_code": "# Print even numbers 2 to 10\n",
    "solution_code": "# Print even numbers 2 to 10\nfor i in range(2, 11, 2):\n    print(i)",
    "expected_output": "2\n4\n6\n8\n10",
    "chapter_id": 2,
    "chapter_title": "Loops (Iteration)"
  },
  "19": {
    "id": 19,
    "title": "While Loop Basics",
    "content": "# \u23f3 While Loops\n\n## For vs While\n\n| Loop Type | Use Case |\n| --- | --- |\n| `for` | When you know how many times to loop |\n| `while` | When you loop until a condition changes |\n\n## While Loop Syntax\n\n```python\nwhile condition:\n    # Do something\n    # Update something (to eventually stop!)\n```\n\n## Example\n\n```python\ncount = 0\nwhile count < 5:\n    print(count)\n    count += 1\n# Output: 0, 1, 2, 3, 4\n```\n\n## \u26a0\ufe0f Warning: Infinite Loops!\n\nIf the condition never becomes False, the loop runs forever!\n\n```python\n# DANGER! Never stops!\nwhile True:\n    print(\"Forever...\")\n\n# SAFE: Will eventually stop\nx = 0\nwhile x < 10:\n    print(x)\n    x += 1  # This makes x eventually reach 10\n```\n\n## When to Use While\n\n- User input validation (keep asking until valid)\n- Game loops (run until game over)\n- Processing data until a condition is met\n\n---\n\n## \ud83c\udfaf Your Task\n\nStart with `x = 1`. \nUse a while loop to print x and double it (`x *= 2`) while x <= 16.\n",
    "starter_code": "x = 1\n\n# While x <= 16, print x and double it\n",
    "solution_code": "x = 1\n\n# While x <= 16, print x and double it\nwhile x <= 16:\n    print(x)\n    x *= 2",
    "expected_output": "1\n2\n4\n8\n16",
    "chapter_id": 2,
    "chapter_title": "Loops (Iteration)"
  },
  "20": {
    "id": 20,
    "title": "Loop Control: break",
    "content": "# \ud83d\uded1 Breaking Out of Loops\n\n## The break Statement\n\n`break` immediately exits the loop, even if there are more items:\n\n```python\nfor i in range(10):\n    if i == 5:\n        break  # Exit NOW!\n    print(i)\n# Output: 0, 1, 2, 3, 4\n```\n\n## Why Use break?\n\n- **Early exit**: Stop when you find what you're looking for\n- **Performance**: Don't process unnecessary items\n- **Error handling**: Exit if something goes wrong\n\n## Example: Find First Match\n\n```python\nnames = [\"Alice\", \"Bob\", \"Charlie\", \"Diana\"]\ntarget = \"Charlie\"\n\nfor name in names:\n    if name == target:\n        print(f\"Found {target}!\")\n        break\n    print(f\"Checking {name}...\")\n\n# Output:\n# Checking Alice...\n# Checking Bob...\n# Found Charlie!\n```\n\nNotice: We never check Diana because we broke out early!\n\n---\n\n## \ud83c\udfaf Your Task\n\nLoop through `[1, 2, 3, 4, 5, 6, 7]`.\nPrint each number, but use `break` to exit when you reach 5.\n",
    "starter_code": "numbers = [1, 2, 3, 4, 5, 6, 7]\n\n# Print each, break at 5\n",
    "solution_code": "numbers = [1, 2, 3, 4, 5, 6, 7]\n\n# Print each, break at 5\nfor num in numbers:\n    if num == 5:\n        break\n    print(num)",
    "expected_output": "1\n2\n3\n4",
    "chapter_id": 2,
    "chapter_title": "Loops (Iteration)"
  },
  "21": {
    "id": 21,
    "title": "Loop Control: continue",
    "content": "# \u23ed\ufe0f Skipping with continue\n\n## The continue Statement\n\n`continue` skips the rest of the current iteration and moves to the next one:\n\n```python\nfor i in range(5):\n    if i == 2:\n        continue  # Skip 2\n    print(i)\n# Output: 0, 1, 3, 4\n```\n\n## break vs continue\n\n| Statement | What It Does |\n| --- | --- |\n| `break` | **EXIT** the entire loop |\n| `continue` | **SKIP** to next iteration |\n\n## Example: Skip Negative Numbers\n\n```python\nnumbers = [1, -2, 3, -4, 5]\nfor num in numbers:\n    if num < 0:\n        continue  # Skip negatives\n    print(num)\n# Output: 1, 3, 5\n```\n\n## When to Use continue\n\n- Skip invalid data\n- Filter out unwanted items\n- Process only items that meet criteria\n\n```python\n# Process only adults\nfor person in people:\n    if person.age < 18:\n        continue\n    # ... process adult ...\n```\n\n---\n\n## \ud83c\udfaf Your Task\n\nPrint numbers 1-5, but skip 3 using `continue`.\n",
    "starter_code": "# Print 1-5, skip 3\n",
    "solution_code": "# Print 1-5, skip 3\nfor i in range(1, 6):\n    if i == 3:\n        continue\n    print(i)",
    "expected_output": "1\n2\n4\n5",
    "chapter_id": 2,
    "chapter_title": "Loops (Iteration)"
  },
  "22": {
    "id": 22,
    "title": "If Statements",
    "content": "# \ud83c\udfaf If Statements: Making Decisions\n\n## What is an If Statement?\n\nAn `if` statement lets your code make decisions. It runs code ONLY when a condition is True.\n\n## Real-World Analogy\n\nThink of a bouncer at a club:\n- **IF** you're 21 or older \u2192 you can enter\n- Otherwise \u2192 you're turned away\n\nIn Python:\n```python\nage = 25\nif age >= 21:\n    print(\"Welcome!\")\n```\n\n## The Basic Syntax\n\n```python\nif condition:\n    # This code runs if condition is True\n    # Notice the indentation!\n```\n\n**Important**: The colon `:` and indentation are required!\n\n## How Python Evaluates Conditions\n\nPython checks if the condition is `True` or `False`:\n\n```python\nage = 20\nif age >= 18:  # 20 >= 18 is True\n    print(\"You're an adult!\")  # This runs!\n\nif age >= 21:  # 20 >= 21 is False\n    print(\"You can drink!\")  # This does NOT run\n```\n\n---\n\n## \ud83c\udfaf Your Task\n\nGiven `score = 85`:\n- If score >= 70, print `\"Pass\"`\n",
    "starter_code": "score = 85\n\n# If score >= 70, print Pass\n",
    "solution_code": "score = 85\n\n# If score >= 70, print Pass\nif score >= 70:\n    print(\"Pass\")",
    "expected_output": "Pass",
    "chapter_id": 3,
    "chapter_title": "Logic & Control Flow"
  },
  "23": {
    "id": 23,
    "title": "If-Else",
    "content": "# \u2696\ufe0f If-Else: Two Paths\n\n## Adding an Alternative\n\nWhat if you want to do something when the condition is False? Use `else`:\n\n```python\nif condition:\n    # Runs if True\nelse:\n    # Runs if False\n```\n\n## Example\n\n```python\nage = 15\nif age >= 18:\n    print(\"You can vote!\")\nelse:\n    print(\"Too young to vote\")\n# Output: Too young to vote\n```\n\n## Only ONE Path Runs\n\nWith if-else, exactly ONE block runs - never both, never neither:\n\n```python\ntemperature = 75\nif temperature > 80:\n    print(\"Hot!\")\nelse:\n    print(\"Nice weather!\")\n# Output: Nice weather! (only this one runs)\n```\n\n## Common Mistake\n\nDon't use two separate `if` statements when you want if-else:\n\n```python\n# WRONG - both might run!\nif x > 0:\n    print(\"Positive\")\nif x <= 0:\n    print(\"Non-positive\")\n\n# RIGHT - only one runs\nif x > 0:\n    print(\"Positive\")\nelse:\n    print(\"Non-positive\")\n```\n\n---\n\n## \ud83c\udfaf Your Task\n\nGiven `temperature = 35`:\n- If temperature > 30, print `\"Hot\"`\n- Else print `\"Nice\"`\n",
    "starter_code": "temperature = 35\n\n# Check if hot or nice\n",
    "solution_code": "temperature = 35\n\n# Check if hot or nice\nif temperature > 30:\n    print(\"Hot\")\nelse:\n    print(\"Nice\")",
    "expected_output": "Hot",
    "chapter_id": 3,
    "chapter_title": "Logic & Control Flow"
  },
  "24": {
    "id": 24,
    "title": "If-Elif-Else",
    "content": "# \ud83d\udcca Multiple Conditions with Elif\n\n## When You Have More Than Two Options\n\n`elif` (short for \"else if\") lets you check multiple conditions:\n\n```python\nif condition1:\n    # First choice\nelif condition2:\n    # Second choice\nelif condition3:\n    # Third choice\nelse:\n    # Default (if nothing else matches)\n```\n\n## Example: Letter Grades\n\n```python\nscore = 85\n\nif score >= 90:\n    grade = \"A\"\nelif score >= 80:\n    grade = \"B\"\nelif score >= 70:\n    grade = \"C\"\nelif score >= 60:\n    grade = \"D\"\nelse:\n    grade = \"F\"\n\nprint(grade)  # B\n```\n\n## Order Matters!\n\nPython checks conditions from top to bottom and stops at the first True:\n\n```python\nscore = 95\n\n# WRONG order - 95 >= 60 is True, so prints D!\nif score >= 60: print(\"D\")\nelif score >= 70: print(\"C\")\nelif score >= 80: print(\"B\")\nelif score >= 90: print(\"A\")\n\n# CORRECT order - checks highest first\nif score >= 90: print(\"A\")\nelif score >= 80: print(\"B\")\nelif score >= 70: print(\"C\")\nelif score >= 60: print(\"D\")\n```\n\n---\n\n## \ud83c\udfaf Your Task\n\nGiven `score = 75`:\n- >= 90: print `\"A\"`\n- >= 80: print `\"B\"`\n- >= 70: print `\"C\"`\n- else: print `\"F\"`\n",
    "starter_code": "score = 75\n\n# Determine grade\n",
    "solution_code": "score = 75\n\n# Determine grade\nif score >= 90:\n    print(\"A\")\nelif score >= 80:\n    print(\"B\")\nelif score >= 70:\n    print(\"C\")\nelse:\n    print(\"F\")",
    "expected_output": "C",
    "chapter_id": 3,
    "chapter_title": "Logic & Control Flow"
  },
  "25": {
    "id": 25,
    "title": "Comparison Operators",
    "content": "# \u2696\ufe0f Comparison Operators\n\n## Comparing Values\n\nComparison operators compare two values and return `True` or `False`:\n\n| Operator | Meaning | Example | Result |\n| --- | --- | --- | --- |\n| `==` | Equal to | `5 == 5` | `True` |\n| `!=` | Not equal to | `5 != 3` | `True` |\n| `>` | Greater than | `5 > 3` | `True` |\n| `<` | Less than | `5 < 3` | `False` |\n| `>=` | Greater or equal | `5 >= 5` | `True` |\n| `<=` | Less or equal | `5 <= 3` | `False` |\n\n## Common Mistake: = vs ==\n\n```python\n# = is ASSIGNMENT (storing a value)\nx = 5\n\n# == is COMPARISON (checking equality)\nif x == 5:\n    print(\"x is five!\")\n```\n\n## Comparing Strings\n\nYou can compare strings too:\n\n```python\nname = \"Alice\"\nif name == \"Alice\":\n    print(\"Hello, Alice!\")\n\n# Alphabetical comparison\n\"apple\" < \"banana\"  # True (a comes before b)\n```\n\n---\n\n## \ud83c\udfaf Your Task\n\nGiven `a = 10` and `b = 10`:\nCheck if they are equal and print: `Equal: True`\n",
    "starter_code": "a = 10\nb = 10\n\n# Check if equal\nresult = a == b\nprint(f\"Equal: {result}\")",
    "solution_code": "a = 10\nb = 10\n\n# Check if equal\nresult = a == b\nprint(f\"Equal: {result}\")",
    "expected_output": "Equal: True",
    "chapter_id": 3,
    "chapter_title": "Logic & Control Flow"
  },
  "26": {
    "id": 26,
    "title": "Logical AND",
    "content": "# \ud83d\udd17 Logical AND\n\n## Combining Conditions\n\n`and` requires BOTH conditions to be True:\n\n```python\nif condition1 and condition2:\n    # Runs only if BOTH are True\n```\n\n## Real-World Example\n\nTo enter a bar, you need to be 21+ AND have ID:\n\n```python\nage = 25\nhas_id = True\n\nif age >= 21 and has_id:\n    print(\"Welcome!\")\nelse:\n    print(\"Sorry, can't enter\")\n```\n\n## Truth Table for AND\n\n| A | B | A and B |\n| --- | --- | --- |\n| True | True | **True** |\n| True | False | False |\n| False | True | False |\n| False | False | False |\n\nOnly True if BOTH are True!\n\n## Multiple ANDs\n\nYou can chain multiple conditions:\n\n```python\nif age >= 18 and has_license and not is_suspended:\n    print(\"You can drive!\")\n```\n\n---\n\n## \ud83c\udfaf Your Task\n\nGiven:\n- `age = 25`\n- `has_ticket = True`\n\nIf age >= 18 AND has_ticket, print `\"Can enter\"`\n",
    "starter_code": "age = 25\nhas_ticket = True\n\n# Check both conditions\n",
    "solution_code": "age = 25\nhas_ticket = True\n\n# Check both conditions\nif age >= 18 and has_ticket:\n    print(\"Can enter\")",
    "expected_output": "Can enter",
    "chapter_id": 3,
    "chapter_title": "Logic & Control Flow"
  },
  "27": {
    "id": 27,
    "title": "Logical OR",
    "content": "# \ud83d\udd00 Logical OR\n\n## Either Condition\n\n`or` requires AT LEAST ONE condition to be True:\n\n```python\nif condition1 or condition2:\n    # Runs if EITHER (or both) is True\n```\n\n## Real-World Example\n\nFree shipping if order is $50+ OR member is premium:\n\n```python\norder_total = 35\nis_premium = True\n\nif order_total >= 50 or is_premium:\n    print(\"Free shipping!\")\nelse:\n    print(\"Shipping: $5\")\n```\n\n## Truth Table for OR\n\n| A | B | A or B |\n| --- | --- | --- |\n| True | True | True |\n| True | False | True |\n| False | True | True |\n| False | False | **False** |\n\nOnly False if BOTH are False!\n\n## Combining AND and OR\n\nUse parentheses for clarity:\n\n```python\nif (is_weekend or is_holiday) and not is_working:\n    print(\"Day off!\")\n```\n\n---\n\n## \ud83c\udfaf Your Task\n\nGiven:\n- `is_member = False`\n- `has_coupon = True`\n\nIf is_member OR has_coupon, print `\"Discount applied\"`\n",
    "starter_code": "is_member = False\nhas_coupon = True\n\n# Check if either is true\n",
    "solution_code": "is_member = False\nhas_coupon = True\n\n# Check if either is true\nif is_member or has_coupon:\n    print(\"Discount applied\")",
    "expected_output": "Discount applied",
    "chapter_id": 3,
    "chapter_title": "Logic & Control Flow"
  },
  "28": {
    "id": 28,
    "title": "Logical NOT",
    "content": "# \u274c Logical NOT\n\n## Reversing Conditions\n\n`not` flips True to False and False to True:\n\n```python\nis_raining = False\nif not is_raining:\n    print(\"No umbrella needed!\")\n```\n\n## Truth Table for NOT\n\n| A | not A |\n| --- | --- |\n| True | False |\n| False | True |\n\n## When to Use NOT\n\n```python\n# Instead of checking for False\nif logged_in == False:  # Works but awkward\n    print(\"Please log in\")\n\n# Use NOT (more Pythonic!)\nif not logged_in:\n    print(\"Please log in\")\n```\n\n## NOT with Collections\n\n```python\n# Check if list is empty\nitems = []\nif not items:  # Empty list is \"falsy\"\n    print(\"Cart is empty!\")\n\n# Check if string is empty\nname = \"\"\nif not name:\n    print(\"Name is required!\")\n```\n\n---\n\n## \ud83c\udfaf Your Task\n\nGiven `is_blocked = False`:\nIf NOT blocked, print `\"Welcome!\"`\n",
    "starter_code": "is_blocked = False\n\n# If not blocked\n",
    "solution_code": "is_blocked = False\n\n# If not blocked\nif not is_blocked:\n    print(\"Welcome!\")",
    "expected_output": "Welcome!",
    "chapter_id": 3,
    "chapter_title": "Logic & Control Flow"
  },
  "29": {
    "id": 29,
    "title": "Nested Conditionals",
    "content": "# \ud83e\ude86 Nested If Statements\n\n## If Inside If\n\nYou can put if statements inside other if statements:\n\n```python\nif has_account:\n    if is_verified:\n        print(\"Full access\")\n    else:\n        print(\"Please verify your email\")\nelse:\n    print(\"Please create an account\")\n```\n\n## When to Nest\n\nUseful when second check only makes sense if first is True:\n\n```python\nif user_input:  # First check: did they enter anything?\n    if user_input.isdigit():  # Only check this if there's input\n        print(\"Valid number!\")\n    else:\n        print(\"Not a number\")\nelse:\n    print(\"No input provided\")\n```\n\n## Avoid Deep Nesting\n\nToo many levels becomes hard to read:\n\n```python\n# BAD - too nested!\nif a:\n    if b:\n        if c:\n            if d:\n                do_something()\n\n# BETTER - use AND\nif a and b and c and d:\n    do_something()\n```\n\n---\n\n## \ud83c\udfaf Your Task\n\nGiven:\n- `logged_in = True`\n- `is_admin = True`\n\nIf logged_in, check if is_admin:\n- If admin: print `\"Admin panel\"`\n- Else: print `\"User dashboard\"`\n",
    "starter_code": "logged_in = True\nis_admin = True\n\n# Nested check\n",
    "solution_code": "logged_in = True\nis_admin = True\n\n# Nested check\nif logged_in:\n    if is_admin:\n        print(\"Admin panel\")\n    else:\n        print(\"User dashboard\")",
    "expected_output": "Admin panel",
    "chapter_id": 3,
    "chapter_title": "Logic & Control Flow"
  },
  "30": {
    "id": 30,
    "title": "Ternary Operator",
    "content": "# \u26a1 One-Line Conditionals\n\n## The Ternary Operator\n\nPython has a shorthand for simple if-else:\n\n```python\nvalue_if_true if condition else value_if_false\n```\n\n## Example\n\n```python\nage = 20\nstatus = \"Adult\" if age >= 18 else \"Minor\"\nprint(status)  # Adult\n```\n\nThis is equivalent to:\n```python\nif age >= 18:\n    status = \"Adult\"\nelse:\n    status = \"Minor\"\n```\n\n## When to Use\n\n\u2705 Good for simple, short conditions:\n```python\nresult = \"Pass\" if score >= 70 else \"Fail\"\nmessage = f\"Welcome, {name}!\" if name else \"Welcome, Guest!\"\n```\n\n\u274c Avoid for complex logic:\n```python\n# Too complex for ternary - use regular if-else\ngrade = \"A\" if score >= 90 else \"B\" if score >= 80 else \"C\" if score >= 70 else \"F\"\n```\n\n---\n\n## \ud83c\udfaf Your Task\n\nGiven `points = 150`:\nSet `level` to `\"Gold\"` if points >= 100, else `\"Silver\"`.\nPrint the level.\n",
    "starter_code": "points = 150\n\n# Set level using ternary\n\n\n# Print level\n",
    "solution_code": "points = 150\n\n# Set level using ternary\nlevel = \"Gold\" if points >= 100 else \"Silver\"\n\n# Print level\nprint(level)",
    "expected_output": "Gold",
    "chapter_id": 3,
    "chapter_title": "Logic & Control Flow"
  },
  "31": {
    "id": 31,
    "title": "Defining Functions",
    "content": "# \ud83d\udd27 Creating Functions\n\n## What is a Function?\n\nA **function** is a reusable block of code that performs a specific task. Instead of writing the same code over and over, you define it once and call it whenever needed.\n\n## Real-World Analogy\n\nThink of a function like a **recipe**:\n- You write the recipe once\n- Every time you want that dish, you follow the same recipe\n- You don't have to figure it out from scratch each time!\n\n## Why Use Functions?\n\n1. **Reusability**: Write once, use many times\n2. **Organization**: Break complex code into manageable pieces\n3. **Readability**: Give meaningful names to code blocks\n4. **Maintenance**: Fix bugs in one place\n\n## Defining a Function\n\n```python\ndef function_name():\n    # Code inside the function\n    print(\"Hello from the function!\")\n```\n\n- `def` keyword starts the definition\n- `function_name` is what you call it\n- `():` parentheses and colon are required\n- Indented code is the function body\n\n## Calling a Function\n\nThe function doesn't run until you **call** it:\n\n```python\ndef greet():\n    print(\"Hello!\")\n\ngreet()  # Call the function - output: Hello!\ngreet()  # Call it again!\n```\n\n---\n\n## \ud83c\udfaf Your Task\n\nDefine a function called `say_hello` that prints `\"Hello, World!\"`.\nThen call it.\n",
    "starter_code": "# Define the function\n\n\n# Call the function\n",
    "solution_code": "# Define the function\ndef say_hello():\n    print(\"Hello, World!\")\n\n# Call the function\nsay_hello()",
    "expected_output": "Hello, World!",
    "chapter_id": 4,
    "chapter_title": "Functions"
  },
  "32": {
    "id": 32,
    "title": "Function Parameters",
    "content": "# \ud83d\udce5 Parameters: Passing Data to Functions\n\n## What are Parameters?\n\nParameters let you pass data INTO a function. They're like ingredients for a recipe - different ingredients, different results!\n\n```python\ndef greet(name):  # 'name' is a parameter\n    print(f\"Hello, {name}!\")\n\ngreet(\"Alice\")  # Output: Hello, Alice!\ngreet(\"Bob\")    # Output: Hello, Bob!\n```\n\n## Parameters vs Arguments\n\n| Term | Definition |\n| --- | --- |\n| **Parameter** | Variable in function definition |\n| **Argument** | Actual value passed when calling |\n\n```python\ndef greet(name):    # 'name' is the PARAMETER\n    print(f\"Hello, {name}!\")\n\ngreet(\"Alice\")      # \"Alice\" is the ARGUMENT\n```\n\n## Multiple Parameters\n\nFunctions can have multiple parameters:\n\n```python\ndef add(a, b):\n    result = a + b\n    print(result)\n\nadd(5, 3)  # Output: 8\nadd(10, 20)  # Output: 30\n```\n\n---\n\n## \ud83c\udfaf Your Task\n\nDefine `greet(name)` that prints `\"Welcome, {name}!\"`.\nCall it with `\"Python\"`.\n",
    "starter_code": "# Define greet with name parameter\n\n\n# Call with \"Python\"\n",
    "solution_code": "# Define greet with name parameter\ndef greet(name):\n    print(f\"Welcome, {name}!\")\n\n# Call with \"Python\"\ngreet(\"Python\")",
    "expected_output": "Welcome, Python!",
    "chapter_id": 4,
    "chapter_title": "Functions"
  },
  "33": {
    "id": 33,
    "title": "Return Values",
    "content": "# \ud83d\udce4 Return Values: Getting Data Back\n\n## What is Return?\n\n`return` sends a value back to where the function was called. This value can be stored, used in calculations, or printed.\n\n```python\ndef add(a, b):\n    return a + b  # Send the result back\n\nresult = add(5, 3)  # result now equals 8\nprint(result)       # Output: 8\n```\n\n## Return vs Print\n\n| `print()` | `return` |\n| --- | --- |\n| Shows output to screen | Sends value back to caller |\n| Value is lost after printing | Value can be used further |\n| Debugging/user display | Building blocks for programs |\n\n```python\n# With print - can't use the result\ndef add_print(a, b):\n    print(a + b)\n\nx = add_print(5, 3)  # Prints 8, but x is None!\n\n# With return - can use the result\ndef add_return(a, b):\n    return a + b\n\ny = add_return(5, 3)  # y equals 8\nz = y * 2             # z equals 16\n```\n\n## Return Ends the Function\n\nCode after `return` doesn't run:\n\n```python\ndef example():\n    return \"Done\"\n    print(\"This never runs!\")  # Unreachable!\n```\n\n---\n\n## \ud83c\udfaf Your Task\n\nDefine `double(n)` that returns `n * 2`.\nCall it with `7` and print the result.\n",
    "starter_code": "# Define double function\n\n\n# Call with 7 and print\n",
    "solution_code": "# Define double function\ndef double(n):\n    return n * 2\n\n# Call with 7 and print\nresult = double(7)\nprint(result)",
    "expected_output": "14",
    "chapter_id": 4,
    "chapter_title": "Functions"
  },
  "34": {
    "id": 34,
    "title": "Multiple Parameters",
    "content": "# \ud83d\udcca Working with Multiple Parameters\n\n## Functions with Several Inputs\n\nFunctions often need multiple pieces of data:\n\n```python\ndef calculate_area(width, height):\n    return width * height\n\narea = calculate_area(5, 3)\nprint(area)  # 15\n```\n\n## Order Matters (Positional Arguments)\n\nArguments are matched to parameters by position:\n\n```python\ndef greet(first_name, last_name):\n    print(f\"Hello, {first_name} {last_name}!\")\n\ngreet(\"John\", \"Doe\")    # Hello, John Doe!\ngreet(\"Doe\", \"John\")    # Hello, Doe John! (wrong order!)\n```\n\n## Practical Example\n\n```python\ndef create_email(username, domain):\n    return f\"{username}@{domain}\"\n\nemail = create_email(\"alice\", \"gmail.com\")\nprint(email)  # alice@gmail.com\n```\n\n---\n\n## \ud83c\udfaf Your Task\n\nDefine `calculate_area(width, height)` that returns `width * height`.\nCall it with `5` and `3`, print the result.\n",
    "starter_code": "# Define calculate_area\n\n\n# Call with 5, 3 and print\n",
    "solution_code": "# Define calculate_area\ndef calculate_area(width, height):\n    return width * height\n\n# Call with 5, 3 and print\narea = calculate_area(5, 3)\nprint(area)",
    "expected_output": "15",
    "chapter_id": 4,
    "chapter_title": "Functions"
  },
  "35": {
    "id": 35,
    "title": "Default Parameters",
    "content": "# \u2699\ufe0f Default Parameter Values\n\n## What are Default Values?\n\nYou can give parameters default values. If no argument is passed, the default is used:\n\n```python\ndef greet(name=\"Guest\"):\n    print(f\"Hello, {name}!\")\n\ngreet(\"Alice\")  # Hello, Alice!\ngreet()         # Hello, Guest! (uses default)\n```\n\n## Why Use Defaults?\n\n- Make functions more flexible\n- Reduce required arguments\n- Provide sensible fallbacks\n\n## Rules for Default Parameters\n\nDefault parameters must come AFTER non-default ones:\n\n```python\n# CORRECT - default at the end\ndef greet(name, greeting=\"Hello\"):\n    print(f\"{greeting}, {name}!\")\n\n# ERROR - default before non-default\ndef greet(greeting=\"Hello\", name):  # SyntaxError!\n    print(f\"{greeting}, {name}!\")\n```\n\n---\n\n## \ud83c\udfaf Your Task\n\nDefine `power(base, exp=2)` that returns `base ** exp`.\nCall it with just `4` (should return 16 since exp defaults to 2).\n",
    "starter_code": "# Define power with default exp=2\n\n\n# Call with just 4\n",
    "solution_code": "# Define power with default exp=2\ndef power(base, exp=2):\n    return base ** exp\n\n# Call with just 4\nresult = power(4)\nprint(result)",
    "expected_output": "16",
    "chapter_id": 4,
    "chapter_title": "Functions"
  },
  "36": {
    "id": 36,
    "title": "Keyword Arguments",
    "content": "# \ud83c\udff7\ufe0f Keyword Arguments\n\n## What are Keyword Arguments?\n\nYou can specify arguments by name, not just position:\n\n```python\ndef greet(name, greeting):\n    print(f\"{greeting}, {name}!\")\n\n# Using keyword arguments\ngreet(name=\"Alice\", greeting=\"Hi\")\ngreet(greeting=\"Hello\", name=\"Bob\")  # Order doesn't matter!\n```\n\n## Why Use Keyword Arguments?\n\n1. **Clarity**: Makes code more readable\n2. **Flexibility**: Call in any order\n3. **Skip defaults**: Override only specific defaults\n\n```python\ndef create_user(name, age, email, is_admin=False):\n    # ...\n    \n# Skip to the argument you need\ncreate_user(\"Alice\", 25, \"a@b.com\", is_admin=True)\n```\n\n## Mixing Positional and Keyword\n\nPositional arguments must come before keyword arguments:\n\n```python\ndef func(a, b, c):\n    print(a, b, c)\n\nfunc(1, 2, c=3)      # OK\nfunc(1, b=2, c=3)    # OK\nfunc(a=1, 2, 3)      # ERROR!\n```\n\n---\n\n## \ud83c\udfaf Your Task\n\nDefine `describe(item, price)` that prints `\"{item}: ${price}\"`.\nCall it with keyword arguments: `price=9.99, item=\"Book\"`.\n",
    "starter_code": "# Define describe\n\n\n# Call with keyword arguments\n",
    "solution_code": "# Define describe\ndef describe(item, price):\n    print(f\"{item}: ${price}\")\n\n# Call with keyword arguments\ndescribe(price=9.99, item=\"Book\")",
    "expected_output": "Book: $9.99",
    "chapter_id": 4,
    "chapter_title": "Functions"
  },
  "37": {
    "id": 37,
    "title": "Lambda Functions",
    "content": "# \u26a1 Lambda Functions: One-Line Functions\n\n## What is a Lambda?\n\nA **lambda** is a small anonymous function defined in one line:\n\n```python\n# Regular function\ndef square(x):\n    return x ** 2\n\n# Lambda equivalent\nsquare = lambda x: x ** 2\n```\n\n## Lambda Syntax\n\n```python\nlambda arguments: expression\n```\n\n- No `def` or `return` keywords\n- Expression is automatically returned\n- Can have multiple arguments\n\n## Examples\n\n```python\n# One argument\ndouble = lambda x: x * 2\nprint(double(5))  # 10\n\n# Two arguments\nadd = lambda a, b: a + b\nprint(add(3, 4))  # 7\n\n# Conditional\nis_adult = lambda age: \"Adult\" if age >= 18 else \"Minor\"\nprint(is_adult(20))  # Adult\n```\n\n## When to Use Lambda\n\n- Short, simple operations\n- Passing to other functions (like `sort`, `map`, `filter`)\n- One-time use functions\n\n---\n\n## \ud83c\udfaf Your Task\n\nCreate a lambda function `triple` that multiplies by 3.\nCall it with `10` and print the result.\n",
    "starter_code": "# Create lambda triple\n\n\n# Call with 10\n",
    "solution_code": "# Create lambda triple\ntriple = lambda x: x * 3\n\n# Call with 10\nprint(triple(10))",
    "expected_output": "30",
    "chapter_id": 4,
    "chapter_title": "Functions"
  },
  "38": {
    "id": 38,
    "title": "Docstrings",
    "content": "# \ud83d\udcdd Documenting Functions with Docstrings\n\n## What is a Docstring?\n\nA **docstring** is a string that describes what your function does. It goes right after the function definition:\n\n```python\ndef add(a, b):\n    \"\"\"Returns the sum of a and b.\"\"\"\n    return a + b\n```\n\n## Why Write Docstrings?\n\n1. Help other developers understand your code\n2. Remind yourself what the function does\n3. Tools can auto-generate documentation\n4. Shows up in `help()` function!\n\n```python\nhelp(add)\n# Output:\n# add(a, b)\n#     Returns the sum of a and b.\n```\n\n## Multi-line Docstrings\n\nFor more complex functions:\n\n```python\ndef calculate_tip(bill, tip_percent=15):\n    \"\"\"\n    Calculate the tip amount for a bill.\n    \n    Args:\n        bill: Total bill amount\n        tip_percent: Tip percentage (default 15)\n    \n    Returns:\n        The tip amount as a float\n    \"\"\"\n    return bill * (tip_percent / 100)\n```\n\n---\n\n## \ud83c\udfaf Your Task\n\nDefine `multiply(a, b)` with a docstring.\nReturn `a * b` and call with `6, 7`.\n",
    "starter_code": "# Define multiply with docstring\n\n\n# Call with 6, 7\n",
    "solution_code": "# Define multiply with docstring\ndef multiply(a, b):\n    \"\"\"Returns the product of a and b.\"\"\"\n    return a * b\n\n# Call with 6, 7\nprint(multiply(6, 7))",
    "expected_output": "42",
    "chapter_id": 4,
    "chapter_title": "Functions"
  },
  "39": {
    "id": 39,
    "title": "Variable Scope",
    "content": "# \ud83d\udd2d Variable Scope\n\n## What is Scope?\n\n**Scope** determines where a variable can be accessed. Variables created inside a function only exist inside that function!\n\n```python\ndef my_function():\n    x = 10  # Local variable - only exists inside function\n    print(x)\n\nmy_function()  # Output: 10\nprint(x)       # ERROR! x doesn't exist here\n```\n\n## Local vs Global\n\n| Type | Where Created | Where Accessible |\n| --- | --- | --- |\n| **Local** | Inside a function | Only that function |\n| **Global** | Outside all functions | Everywhere |\n\n```python\ny = 20  # Global variable\n\ndef show():\n    print(y)  # Can read global variable\n\nshow()  # Output: 20\n```\n\n## Shadowing\n\nA local variable can have the same name as a global (but it's a different variable!):\n\n```python\nx = 100  # Global\n\ndef test():\n    x = 5  # Local - different variable!\n    print(x)  # 5\n\ntest()\nprint(x)  # 100 (global unchanged)\n```\n\n---\n\n## \ud83c\udfaf Your Task\n\nDefine a function `show_secret()` that:\n1. Creates a local variable `secret = \"Python rocks!\"`\n2. Prints it\n\nCall the function.\n",
    "starter_code": "# Define show_secret\n\n\n# Call it\n",
    "solution_code": "# Define show_secret\ndef show_secret():\n    secret = \"Python rocks!\"\n    print(secret)\n\n# Call it\nshow_secret()",
    "expected_output": "Python rocks!",
    "chapter_id": 4,
    "chapter_title": "Functions"
  },
  "40": {
    "id": 40,
    "title": "\ud83d\udc0d Sand Sphinx Challenge",
    "content": "# \ud83d\udc0d BOSS BATTLE: The Sand Sphinx\n\nThe Sand Sphinx guards the way forward. To pass, you must prove your mastery of the fundamentals!\n\n## The Challenge\n\nCreate a **mini program** that combines everything from Chapters 1-4:\n- Variables & data types\n- String manipulation\n- Math operations\n- Loops\n- Conditionals\n- Functions\n\n## Your Mission\n\nBuild a simple **Number Guessing Game**:\n1. Generate a random number 1-10\n2. Let the user \"guess\" (we'll simulate with a variable)\n3. Tell them if they're too high, too low, or correct\n4. Keep track of attempts\n\n---\n\n## \ud83c\udfaf Complete the Challenge\n\n\n> [!NOTE]\n> **Professor's Tip**: We've added `random.seed(42)` to your code. This ensures the random numbers are the same every time you run it, which is necessary for the auto-grader to work!",
    "starter_code": "import random\n\n# \ud83d\udd12 PROFESSOR'S NOTE: We set a seed so the Sphinx plays the same numbers every time.\n# This helps us verify your solution!\nrandom.seed(42)\n\n# Write your Number Guessing Game here\nimport random\n\n# Step 1: Generate secret number (1-10)\n\n\n# Step 2: Create a list of guesses to simulate user input\n# guesses = [5, 8, 3, 7]\n\n\n# Step 3: Track attempts\n\n\n# Step 4: Loop through guesses and provide feedback\n\n",
    "solution_code": "import random\n\n# Generate secret number\nrandom.seed(42)  # For consistent testing\nsecret = random.randint(1, 10)\nprint(f\"(Secret is: {secret})\")  # For testing\n\n# Simulate user guesses\nguesses = [5, 8, 3, 7]  # Simulated guesses\nattempts = 0\n\nfor guess in guesses:\n    attempts += 1\n    if guess == secret:\n        print(f\"Correct! It took {attempts} attempts.\")\n        break\n    elif guess < secret:\n        print(f\"{guess} is too low!\")\n    else:\n        print(f\"{guess} is too high!\")\nelse:\n    print(f\"Out of guesses! Secret was {secret}\")\n",
    "expected_output": "(Secret is: 2)\n5 is too high!\n8 is too high!\n3 is too high!\nOut of guesses! Secret was 2",
    "chapter_id": 100,
    "chapter_title": "Sand Sphinx Boss"
  },
  "41": {
    "id": 41,
    "title": "Lists Basics",
    "content": "# \ud83d\udccb Lists: Collections of Items\n\n## What is a List?\n\nA **list** is an ordered collection that can hold multiple items. Think of it like a shopping list or a playlist.\n\n```python\nfruits = [\"apple\", \"banana\", \"cherry\"]\nnumbers = [1, 2, 3, 4, 5]\nmixed = [1, \"hello\", 3.14, True]  # Can mix types!\n```\n\n## Why Use Lists?\n\n- Store multiple related items together\n- Access items by position (index)\n- Add, remove, or modify items\n- Loop through all items\n\n## Accessing Items by Index\n\nLists use **zero-based indexing** (counting starts at 0):\n\n```python\nfruits = [\"apple\", \"banana\", \"cherry\"]\n#          [0]       [1]       [2]\n\nprint(fruits[0])  # apple\nprint(fruits[1])  # banana\nprint(fruits[2])  # cherry\nprint(fruits[-1]) # cherry (last item)\n```\n\n## List Length\n\n```python\nprint(len(fruits))  # 3\n```\n\n---\n\n## \ud83c\udfaf Your Task\n\nCreate a list `colors = [\"red\", \"green\", \"blue\"]`.\nPrint the second item (index 1).\n",
    "starter_code": "# Create colors list\n\n\n# Print second item\n",
    "solution_code": "# Create colors list\ncolors = [\"red\", \"green\", \"blue\"]\n\n# Print second item\nprint(colors[1])",
    "expected_output": "green",
    "chapter_id": 7,
    "chapter_title": "Data Structures"
  },
  "42": {
    "id": 42,
    "title": "List Methods",
    "content": "# \ud83d\udcdd Modifying Lists\n\n## Common List Methods\n\n| Method | What It Does | Example |\n| --- | --- | --- |\n| `.append(x)` | Add to end | `list.append(4)` |\n| `.insert(i, x)` | Insert at index | `list.insert(0, \"first\")` |\n| `.remove(x)` | Remove first occurrence | `list.remove(\"apple\")` |\n| `.pop()` | Remove and return last | `last = list.pop()` |\n| `.pop(i)` | Remove at index | `list.pop(0)` |\n| `.sort()` | Sort in place | `list.sort()` |\n| `.reverse()` | Reverse in place | `list.reverse()` |\n\n## Examples\n\n```python\nfruits = [\"apple\", \"banana\"]\n\n# Add items\nfruits.append(\"cherry\")     # [\"apple\", \"banana\", \"cherry\"]\nfruits.insert(0, \"mango\")   # [\"mango\", \"apple\", \"banana\", \"cherry\"]\n\n# Remove items\nfruits.remove(\"banana\")     # [\"mango\", \"apple\", \"cherry\"]\nlast = fruits.pop()         # last = \"cherry\", list = [\"mango\", \"apple\"]\n```\n\n## Modifying Lists Changes the Original\n\nUnlike strings (which are immutable), lists can be changed:\n\n```python\nnums = [3, 1, 2]\nnums.sort()       # nums is now [1, 2, 3]\nnums.reverse()    # nums is now [3, 2, 1]\n```\n\n---\n\n## \ud83c\udfaf Your Task\n\nStart with: `numbers = [1, 2, 3]`\n1. Append `4`\n2. Print the list\n",
    "starter_code": "numbers = [1, 2, 3]\n\n# Append 4\n\n\n# Print list\n",
    "solution_code": "numbers = [1, 2, 3]\n\n# Append 4\nnumbers.append(4)\n\n# Print list\nprint(numbers)",
    "expected_output": "[1, 2, 3, 4]",
    "chapter_id": 7,
    "chapter_title": "Data Structures"
  },
  "43": {
    "id": 43,
    "title": "List Slicing",
    "content": "# \u2702\ufe0f Slicing Lists\n\n## What is Slicing?\n\n**Slicing** extracts a portion of a list:\n\n```python\nlist[start:stop]  # Elements from start up to (not including) stop\n```\n\n## Examples\n\n```python\nnums = [0, 1, 2, 3, 4, 5]\n\nnums[1:4]   # [1, 2, 3]     (index 1, 2, 3)\nnums[:3]    # [0, 1, 2]     (start to index 2)\nnums[3:]    # [3, 4, 5]     (index 3 to end)\nnums[:]     # [0, 1, 2, 3, 4, 5]  (copy entire list)\n```\n\n## Negative Indices\n\n```python\nnums[-3:]   # [3, 4, 5]     (last 3 elements)\nnums[:-2]   # [0, 1, 2, 3]  (all except last 2)\n```\n\n## Step in Slicing\n\n```python\nnums[::2]   # [0, 2, 4]     (every 2nd element)\nnums[::-1]  # [5, 4, 3, 2, 1, 0]  (reversed!)\n```\n\n---\n\n## \ud83c\udfaf Your Task\n\nGiven: `letters = [\"a\", \"b\", \"c\", \"d\", \"e\"]`\nPrint the slice from index 1 to 3 (should be `[\"b\", \"c\", \"d\"]`).\n",
    "starter_code": "letters = [\"a\", \"b\", \"c\", \"d\", \"e\"]\n\n# Print slice [1:4]\n",
    "solution_code": "letters = [\"a\", \"b\", \"c\", \"d\", \"e\"]\n\n# Print slice [1:4]\nprint(letters[1:4])",
    "expected_output": "['b', 'c', 'd']",
    "chapter_id": 7,
    "chapter_title": "Data Structures"
  },
  "44": {
    "id": 44,
    "title": "Dictionaries",
    "content": "# \ud83d\udcd6 Dictionaries: Key-Value Pairs\n\n## What is a Dictionary?\n\nA **dictionary** stores data as key-value pairs. Instead of accessing by index, you access by key name.\n\n```python\nperson = {\n    \"name\": \"Alice\",\n    \"age\": 25,\n    \"city\": \"New York\"\n}\n```\n\n## Why Use Dictionaries?\n\n- Access data by meaningful names (not numbers)\n- Store related information together\n- Fast lookups\n- Real-world mapping (word \u2192 definition, ID \u2192 record)\n\n## Accessing Values\n\n```python\nprint(person[\"name\"])  # Alice\nprint(person[\"age\"])   # 25\n```\n\n## Adding/Modifying\n\n```python\nperson[\"email\"] = \"alice@email.com\"  # Add new key\nperson[\"age\"] = 26                    # Modify existing\n```\n\n## Safe Access with .get()\n\n```python\n# If key doesn't exist:\nperson[\"phone\"]           # KeyError!\nperson.get(\"phone\")       # None (no error)\nperson.get(\"phone\", \"N/A\")  # \"N/A\" (custom default)\n```\n\n---\n\n## \ud83c\udfaf Your Task\n\nCreate a dictionary:\n```python\nbook = {\"title\": \"Python 101\", \"author\": \"John Doe\", \"pages\": 300}\n```\nPrint the author.\n",
    "starter_code": "# Create book dictionary\n\n\n# Print author\n",
    "solution_code": "# Create book dictionary\nbook = {\"title\": \"Python 101\", \"author\": \"John Doe\", \"pages\": 300}\n\n# Print author\nprint(book[\"author\"])",
    "expected_output": "John Doe",
    "chapter_id": 7,
    "chapter_title": "Data Structures"
  },
  "45": {
    "id": 45,
    "title": "Dictionary Methods",
    "content": "# \ud83d\udd27 Dictionary Methods\n\n## Common Methods\n\n| Method | What It Does |\n| --- | --- |\n| `.keys()` | Get all keys |\n| `.values()` | Get all values |\n| `.items()` | Get key-value pairs |\n| `.get(key)` | Safe access |\n| `.update(dict2)` | Merge dictionaries |\n| `.pop(key)` | Remove and return value |\n\n## Examples\n\n```python\nscores = {\"Alice\": 85, \"Bob\": 92}\n\n# Get keys and values\nprint(list(scores.keys()))    # ['Alice', 'Bob']\nprint(list(scores.values()))  # [85, 92]\n\n# Loop through items\nfor name, score in scores.items():\n    print(f\"{name}: {score}\")\n```\n\n## Checking if Key Exists\n\n```python\nif \"Alice\" in scores:\n    print(scores[\"Alice\"])\n```\n\n---\n\n## \ud83c\udfaf Your Task\n\nGiven:\n```python\nscores = {\"Alice\": 85, \"Bob\": 92}\n```\nAdd `\"Charlie\": 78` and print all keys.\n",
    "starter_code": "scores = {\"Alice\": 85, \"Bob\": 92}\n\n# Add Charlie: 78\n\n\n# Print keys\n",
    "solution_code": "scores = {\"Alice\": 85, \"Bob\": 92}\n\n# Add Charlie: 78\nscores[\"Charlie\"] = 78\n\n# Print keys\nprint(list(scores.keys()))",
    "expected_output": "['Alice', 'Bob', 'Charlie']",
    "chapter_id": 7,
    "chapter_title": "Data Structures"
  },
  "46": {
    "id": 46,
    "title": "Tuples",
    "content": "# \ud83d\udccc Tuples: Immutable Sequences\n\n## What is a Tuple?\n\nA **tuple** is like a list, but it **cannot be changed** (immutable):\n\n```python\npoint = (10, 20)\ncolors = (\"red\", \"green\", \"blue\")\n```\n\n## Tuples vs Lists\n\n| Feature | List `[]` | Tuple `()` |\n| --- | --- | --- |\n| Mutable | \u2705 Yes | \u274c No |\n| Use case | Data that changes | Data that shouldn't change |\n| Syntax | `[1, 2, 3]` | `(1, 2, 3)` |\n\n## Why Use Tuples?\n\n- Protect data from accidental changes\n- Dictionary keys (must be immutable)\n- Return multiple values from functions\n- Slightly faster than lists\n\n## Tuple Unpacking\n\nAssign tuple values to multiple variables:\n\n```python\npoint = (100, 200)\nx, y = point  # x=100, y=200\n\n# Swap variables!\na, b = b, a\n```\n\n---\n\n## \ud83c\udfaf Your Task\n\nCreate `coordinates = (100, 200)`.\nUnpack into `x` and `y`.\nPrint `x` and `y`.\n",
    "starter_code": "# Create coordinates tuple\n\n\n# Unpack\n\n\n# Print x and y\n",
    "solution_code": "# Create coordinates tuple\ncoordinates = (100, 200)\n\n# Unpack\nx, y = coordinates\n\n# Print x and y\nprint(x)\nprint(y)",
    "expected_output": "100\n200",
    "chapter_id": 7,
    "chapter_title": "Data Structures"
  },
  "47": {
    "id": 47,
    "title": "Sets",
    "content": "# \ud83c\udfaf Sets: Unique Collections\n\n## What is a Set?\n\nA **set** is an unordered collection of unique items:\n\n```python\nnumbers = {1, 2, 3, 2, 1}  # {1, 2, 3} - duplicates removed!\n```\n\n## Why Use Sets?\n\n- Automatic duplicate removal\n- Fast membership testing\n- Mathematical set operations (union, intersection)\n\n## Set Operations\n\n```python\na = {1, 2, 3}\nb = {2, 3, 4}\n\na | b  # {1, 2, 3, 4}  - Union\na & b  # {2, 3}        - Intersection\na - b  # {1}           - Difference\n```\n\n## Common Methods\n\n```python\ns = {1, 2, 3}\ns.add(4)       # {1, 2, 3, 4}\ns.remove(2)    # {1, 3, 4}\ns.discard(10)  # No error if not found\n```\n\n---\n\n## \ud83c\udfaf Your Task\n\nCreate `letters = {\"a\", \"b\", \"c\"}`.\nAdd `\"d\"` and print the set.\n",
    "starter_code": "# Create set\n\n\n# Add \"d\"\n\n\n# Print set\n",
    "solution_code": "# Create set\nletters = {\"a\", \"b\", \"c\"}\n\n# Add \"d\"\nletters.add(\"d\")\n\n# Print set\nprint(letters)",
    "expected_output": "{'a', 'b', 'c', 'd'}",
    "chapter_id": 7,
    "chapter_title": "Data Structures"
  },
  "48": {
    "id": 48,
    "title": "List Comprehension",
    "content": "# \u26a1 List Comprehension\n\n## What is List Comprehension?\n\nA concise way to create lists:\n\n```python\n# Traditional way\nsquares = []\nfor x in range(5):\n    squares.append(x ** 2)\n\n# List comprehension\nsquares = [x ** 2 for x in range(5)]\n```\n\nBoth produce: `[0, 1, 4, 9, 16]`\n\n## Syntax\n\n```python\n[expression for item in iterable]\n[expression for item in iterable if condition]\n```\n\n## Examples\n\n```python\n# Double each number\n[x * 2 for x in range(5)]  # [0, 2, 4, 6, 8]\n\n# Filter: only evens\n[x for x in range(10) if x % 2 == 0]  # [0, 2, 4, 6, 8]\n\n# Transform strings\nnames = [\"alice\", \"bob\"]\n[name.upper() for name in names]  # [\"ALICE\", \"BOB\"]\n```\n\n---\n\n## \ud83c\udfaf Your Task\n\nCreate a list `doubled` containing each number from 1-5 doubled.\nResult: `[2, 4, 6, 8, 10]`\n",
    "starter_code": "# Create doubled list using comprehension\n\n\n# Print it\n",
    "solution_code": "# Create doubled list using comprehension\ndoubled = [x * 2 for x in range(1, 6)]\n\n# Print it\nprint(doubled)",
    "expected_output": "[2, 4, 6, 8, 10]",
    "chapter_id": 7,
    "chapter_title": "Data Structures"
  },
  "49": {
    "id": 49,
    "title": "Nested Data Structures",
    "content": "# \ud83e\ude86 Nested Data Structures\n\n## Lists of Dictionaries\n\nVery common pattern for storing collections of records:\n\n```python\nstudents = [\n    {\"name\": \"Alice\", \"grade\": 90},\n    {\"name\": \"Bob\", \"grade\": 85},\n    {\"name\": \"Charlie\", \"grade\": 92}\n]\n\n# Access\nprint(students[0][\"name\"])  # Alice\nprint(students[1][\"grade\"]) # 85\n```\n\n## Dictionaries of Lists\n\n```python\ngrades = {\n    \"Alice\": [90, 85, 88],\n    \"Bob\": [78, 82, 80]\n}\n\n# Average for Alice\nprint(sum(grades[\"Alice\"]) / len(grades[\"Alice\"]))  # 87.67\n```\n\n## Looping Through Nested Structures\n\n```python\nfor student in students:\n    print(f\"{student['name']}: {student['grade']}\")\n```\n\n---\n\n## \ud83c\udfaf Your Task\n\nGiven:\n```python\nbooks = [\n    {\"title\": \"Python Guide\", \"pages\": 200},\n    {\"title\": \"Data Science\", \"pages\": 350}\n]\n```\nPrint the pages of the second book.\n",
    "starter_code": "books = [\n    {\"title\": \"Python Guide\", \"pages\": 200},\n    {\"title\": \"Data Science\", \"pages\": 350}\n]\n\n# Print pages of second book\n",
    "solution_code": "books = [\n    {\"title\": \"Python Guide\", \"pages\": 200},\n    {\"title\": \"Data Science\", \"pages\": 350}\n]\n\n# Print pages of second book\nprint(books[1][\"pages\"])",
    "expected_output": "350",
    "chapter_id": 7,
    "chapter_title": "Data Structures"
  },
  "50": {
    "id": 50,
    "title": "Reading Files",
    "content": "# \ud83d\udcd6 Reading Files\n\n## Why Work with Files?\n\nPrograms need to read and write data that persists beyond when they run: configuration files, user data, logs, exports, and more.\n\n## The with Statement\n\nPython's `with` statement automatically handles opening and closing files:\n\n```python\nwith open(\"file.txt\", \"r\") as f:\n    content = f.read()\n    print(content)\n# File automatically closed when block ends\n```\n\n## File Modes\n\n| Mode | Description |\n| --- | --- |\n| `\"r\"` | Read (default) |\n| `\"w\"` | Write (overwrites!) |\n| `\"a\"` | Append |\n| `\"r+\"` | Read and write |\n\nNote: In this browser environment, we'll simulate file operations with strings.\n\n---\n\n## \ud83c\udfaf Your Task\n\nCreate a string `data = \"Hello from file!\"` and print it as if you read it from a file.\n",
    "starter_code": "# Simulate file content\ndata = \"Hello from file!\"\n\n# Print it\n",
    "solution_code": "# Simulate file content\ndata = \"Hello from file!\"\n\n# Print it\nprint(data)",
    "expected_output": "Hello from file!",
    "chapter_id": 8,
    "chapter_title": "File Handling"
  },
  "51": {
    "id": 51,
    "title": "Reading Lines",
    "content": "# \ud83d\udccb Reading Line by Line\n\n## Processing Files Line by Line\n\nFor large files, reading line by line is memory efficient:\n\n```python\nwith open(\"file.txt\") as f:\n    for line in f:\n        print(line.strip())  # strip() removes newline\n```\n\n## Other Reading Methods\n\n```python\nf.read()        # Entire file as one string\nf.readline()    # One line at a time\nf.readlines()   # List of all lines\n```\n\n## Working with Multi-line Strings\n\nIn the browser, we simulate files with multi-line strings:\n\n```python\ncontent = \"\"\"Line 1\nLine 2\nLine 3\"\"\"\n\nfor line in content.split('\\n'):\n    print(line)\n```\n\n---\n\n## \ud83c\udfaf Your Task\n\nGiven this multiline string:\n```python\nfile_content = \"\"\"Line 1\nLine 2\nLine 3\"\"\"\n```\nLoop through each line and print it.\n",
    "starter_code": "file_content = \"\"\"Line 1\nLine 2\nLine 3\"\"\"\n\n# Print each line\n",
    "solution_code": "file_content = \"\"\"Line 1\nLine 2\nLine 3\"\"\"\n\n# Print each line\nfor line in file_content.split('\\n'):\n    print(line)",
    "expected_output": "Line 1\nLine 2\nLine 3",
    "chapter_id": 8,
    "chapter_title": "File Handling"
  },
  "52": {
    "id": 52,
    "title": "CSV Data",
    "content": "# \ud83d\udcca Working with CSV\n\n## What is CSV?\n\n**CSV** (Comma-Separated Values) is a common format for data exchange:\n\n```\nname,age,city\nAlice,25,NYC\nBob,30,LA\n```\n\nEach line is a row, values separated by commas.\n\n## Parsing CSV Manually\n\n```python\ncsv_data = \"name,age\\nAlice,25\\nBob,30\"\nlines = csv_data.split('\\n')\n\nheader = lines[0].split(',')  # ['name', 'age']\nfor line in lines[1:]:\n    values = line.split(',')\n    print(dict(zip(header, values)))\n```\n\n## The csv Module\n\nPython has a built-in module for complex CSV:\n\n```python\nimport csv\nwith open('data.csv') as f:\n    reader = csv.reader(f)\n    for row in reader:\n        print(row)\n```\n\n---\n\n## \ud83c\udfaf Your Task\n\nGiven: `csv_data = \"name,age,city\\nAlice,25,NYC\\nBob,30,LA\"`\nSkip the header and print each person's name.\n",
    "starter_code": "csv_data = \"name,age,city\\nAlice,25,NYC\\nBob,30,LA\"\n\n# Skip header and print names\n",
    "solution_code": "csv_data = \"name,age,city\\nAlice,25,NYC\\nBob,30,LA\"\n\n# Skip header and print names\nlines = csv_data.split('\\n')\nfor line in lines[1:]:\n    name = line.split(',')[0]\n    print(name)",
    "expected_output": "Alice\nBob",
    "chapter_id": 8,
    "chapter_title": "File Handling"
  },
  "53": {
    "id": 53,
    "title": "JSON Basics",
    "content": "# \ud83d\udce6 JSON Data\n\n## What is JSON?\n\n**JSON** (JavaScript Object Notation) is the standard for web data:\n\n```json\n{\"name\": \"Alice\", \"age\": 25, \"skills\": [\"Python\", \"SQL\"]}\n```\n\n## Working with JSON in Python\n\n```python\nimport json\n\n# Parse JSON string \u2192 Python dict\ndata = json.loads('{\"name\": \"Alice\", \"age\": 25}')\nprint(data[\"name\"])  # Alice\n\n# Python dict \u2192 JSON string\njson_str = json.dumps({\"name\": \"Bob\"})\nprint(json_str)  # {\"name\": \"Bob\"}\n```\n\n## JSON and Files\n\n```python\n# Read from file\nwith open(\"data.json\") as f:\n    data = json.load(f)\n\n# Write to file\nwith open(\"output.json\", \"w\") as f:\n    json.dump(data, f)\n```\n\n---\n\n## \ud83c\udfaf Your Task\n\nGiven: `json_str = '{\"name\": \"Alice\", \"score\": 95}'`\nParse it and print the name.\n",
    "starter_code": "import json\n\njson_str = '{\"name\": \"Alice\", \"score\": 95}'\n\n# Parse and print name\n",
    "solution_code": "import json\n\njson_str = '{\"name\": \"Alice\", \"score\": 95}'\n\n# Parse and print name\ndata = json.loads(json_str)\nprint(data[\"name\"])",
    "expected_output": "Alice",
    "chapter_id": 8,
    "chapter_title": "File Handling"
  },
  "54": {
    "id": 54,
    "title": "String Processing",
    "content": "# \ud83d\udd0d Processing Text Data\n\n## Common String Operations\n\nWhen working with file data, you often need to clean and parse text:\n\n```python\ntext = \"  hello world  \"\n\ntext.strip()       # Remove whitespace\ntext.split()       # Split by whitespace\ntext.split(',')    # Split by comma\ntext.replace('a', 'b')\ntext.upper() / text.lower()\n```\n\n## Splitting Strings\n\n```python\n# Split by whitespace (default)\n\"hello world\".split()  # ['hello', 'world']\n\n# Split by specific character\n\"a,b,c\".split(',')     # ['a', 'b', 'c']\n\n# Split with limit\n\"a,b,c,d\".split(',', 2)  # ['a', 'b', 'c,d']\n```\n\n---\n\n## \ud83c\udfaf Your Task\n\nGiven: `text = \"apple,banana,cherry\"`\nSplit by comma and print each fruit.\n",
    "starter_code": "text = \"apple,banana,cherry\"\n\n# Split and print each\n",
    "solution_code": "text = \"apple,banana,cherry\"\n\n# Split and print each\nfruits = text.split(',')\nfor fruit in fruits:\n    print(fruit)",
    "expected_output": "apple\nbanana\ncherry",
    "chapter_id": 8,
    "chapter_title": "File Handling"
  },
  "55": {
    "id": 55,
    "title": "Data Parsing",
    "content": "# \ud83d\udd27 Parsing Structured Data\n\n## Extracting Information\n\nReal data is often messy and needs parsing:\n\n```python\nlog = \"2024-01-15 14:30:00 - User logged in\"\n\n# Split and extract\nparts = log.split(' - ')\ntimestamp = parts[0]  # \"2024-01-15 14:30:00\"\nmessage = parts[1]    # \"User logged in\"\n```\n\n## Multiple Levels of Parsing\n\n```python\ntimestamp = \"2024-01-15 14:30:00\"\ndate, time = timestamp.split(' ')\nyear, month, day = date.split('-')\n```\n\n---\n\n## \ud83c\udfaf Your Task\n\nGiven: `log = \"2024-01-15: User logged in\"`\nExtract and print just the date part.\n",
    "starter_code": "log = \"2024-01-15: User logged in\"\n\n# Extract and print date\n",
    "solution_code": "log = \"2024-01-15: User logged in\"\n\n# Extract and print date\ndate = log.split(':')[0]\nprint(date)",
    "expected_output": "2024-01-15",
    "chapter_id": 8,
    "chapter_title": "File Handling"
  },
  "56": {
    "id": 56,
    "title": "Counting Words",
    "content": "# \ud83d\udcca Word Count\n\n## Counting Elements in Text\n\nWord count is a fundamental text analysis operation:\n\n```python\ntext = \"Hello world hello\"\nwords = text.split()\nprint(len(words))  # 3\n```\n\n## Counting Specific Items\n\n```python\nfrom collections import Counter\nwords = \"the cat sat on the mat\".split()\ncounts = Counter(words)\nprint(counts)  # Counter({'the': 2, 'cat': 1, 'sat': 1, ...})\n```\n\n---\n\n## \ud83c\udfaf Your Task\n\nGiven: `text = \"The quick brown fox jumps\"`\nCount and print the number of words.\n",
    "starter_code": "text = \"The quick brown fox jumps\"\n\n# Count and print\n",
    "solution_code": "text = \"The quick brown fox jumps\"\n\n# Count and print\nwords = text.split()\nprint(len(words))",
    "expected_output": "5",
    "chapter_id": 8,
    "chapter_title": "File Handling"
  },
  "57": {
    "id": 57,
    "title": "Search in Text",
    "content": "# \ud83d\udd0d Finding Text\n\n## Checking for Substrings\n\n```python\ntext = \"Hello, World!\"\n\n# Check if contains\n\"World\" in text      # True\n\"world\" in text      # False (case-sensitive)\n\"world\" in text.lower()  # True (after lowercasing)\n\n# Find position\ntext.find(\"World\")   # 7 (index)\ntext.find(\"xyz\")     # -1 (not found)\n```\n\n## String Methods for Searching\n\n```python\ntext.startswith(\"Hello\")  # True\ntext.endswith(\"!\")        # True\ntext.count(\"l\")           # 3\n```\n\n---\n\n## \ud83c\udfaf Your Task\n\nGiven: `message = \"Welcome to Python programming\"`\nCheck if \"Python\" is in the message. Print `\"Found\"` if yes.\n",
    "starter_code": "message = \"Welcome to Python programming\"\n\n# Check for \"Python\"\n",
    "solution_code": "message = \"Welcome to Python programming\"\n\n# Check for \"Python\"\nif \"Python\" in message:\n    print(\"Found\")",
    "expected_output": "Found",
    "chapter_id": 8,
    "chapter_title": "File Handling"
  },
  "58": {
    "id": 58,
    "title": "Replace Text",
    "content": "# \ud83d\udd04 Replacing Text\n\n## The replace() Method\n\n```python\ntext = \"Hello World\"\nnew_text = text.replace(\"World\", \"Python\")\nprint(new_text)  # Hello Python\n```\n\n## Multiple Replacements\n\n```python\ntext = \"a-b-c-d\"\nclean = text.replace(\"-\", \" \")\nprint(clean)  # a b c d\n```\n\n## Case-Sensitive\n\nReplace is case-sensitive:\n```python\n\"Hello World\".replace(\"world\", \"Python\")  # \"Hello World\" (no change!)\n\"Hello World\".replace(\"World\", \"Python\")  # \"Hello Python\"\n```\n\n---\n\n## \ud83c\udfaf Your Task\n\nGiven: `text = \"Hello World\"`\nReplace \"World\" with \"Python\" and print.\n",
    "starter_code": "text = \"Hello World\"\n\n# Replace and print\n",
    "solution_code": "text = \"Hello World\"\n\n# Replace and print\nnew_text = text.replace(\"World\", \"Python\")\nprint(new_text)",
    "expected_output": "Hello Python",
    "chapter_id": 8,
    "chapter_title": "File Handling"
  },
  "59": {
    "id": 59,
    "title": "Importing Modules",
    "content": "# \ud83d\udce6 Importing Modules\n\n## What is a Module?\n\nA **module** is a file containing Python code (functions, classes, variables) that you can reuse in other programs. Think of it as a toolbox of pre-written code.\n\n## Why Use Modules?\n\n| Benefit | Description |\n| --- | --- |\n| **Don't reinvent the wheel** | Experts have already written tested code |\n| **Organization** | Split large programs into manageable files |\n| **Reusability** | Write once, use everywhere |\n| **Community** | Access thousands of open-source packages |\n\n## Built-in Modules\n\nPython comes with many useful modules:\n\n```python\nimport math\nprint(math.sqrt(16))  # 4.0\nprint(math.pi)        # 3.14159...\nprint(math.floor(3.7))  # 3\nprint(math.ceil(3.2))   # 4\n```\n\n## How Import Works\n\nWhen you write `import math`:\n1. Python finds the module file\n2. Runs the code once\n3. Creates a namespace `math` with all its contents\n4. You access items with `math.something`\n\n---\n\n## \ud83c\udfaf Your Task\n\nImport the `math` module and print the square root of `25`.\n",
    "starter_code": "# Import math\n\n\n# Print sqrt of 25\n",
    "solution_code": "# Import math\nimport math\n\n# Print sqrt of 25\nprint(math.sqrt(25))",
    "expected_output": "5.0",
    "chapter_id": 9,
    "chapter_title": "Modules & Packages"
  },
  "60": {
    "id": 60,
    "title": "From Import",
    "content": "# \ud83c\udfaf Specific Imports\n\n## Import Only What You Need\n\nInstead of importing the entire module, import specific items:\n\n```python\nfrom math import pi, sqrt\n\n# Now use directly - no math. prefix needed!\nprint(pi)       # 3.14159...\nprint(sqrt(16)) # 4.0\n```\n\n## Comparison\n\n| Style | Syntax | Usage |\n| --- | --- | --- |\n| Full import | `import math` | `math.sqrt(16)` |\n| Specific import | `from math import sqrt` | `sqrt(16)` |\n\n## Import All (Use Carefully!)\n\n```python\nfrom math import *  # Imports EVERYTHING\n```\n\n\u26a0\ufe0f **Warning**: This can cause naming conflicts if two modules have functions with the same name!\n\n## Best Practices\n\n```python\n# Good - explicit about what you're using\nfrom math import pi, sqrt, floor\n\n# Good - clear namespace\nimport math\n\n# Risky - unclear what's available\nfrom math import *\n```\n\n---\n\n## \ud83c\udfaf Your Task\n\nFrom the `math` module, import `pi` and print it rounded to 2 decimal places.\n",
    "starter_code": "# Import pi from math\n\n\n# Print rounded to 2 decimals\n",
    "solution_code": "# Import pi from math\nfrom math import pi\n\n# Print rounded to 2 decimals\nprint(round(pi, 2))",
    "expected_output": "3.14",
    "chapter_id": 9,
    "chapter_title": "Modules & Packages"
  },
  "61": {
    "id": 61,
    "title": "Random Module",
    "content": "# \ud83c\udfb2 Random Numbers\n\n## The random Module\n\nGenerate random values for games, simulations, testing, and more!\n\n```python\nimport random\n\nrandom.randint(1, 10)           # Random integer 1-10 (inclusive)\nrandom.random()                  # Random float 0.0 to 1.0\nrandom.choice(['a', 'b', 'c'])  # Random pick from list\nrandom.shuffle(my_list)          # Shuffle list in place\nrandom.sample(my_list, 3)        # Pick 3 random items\n```\n\n## Real-World Uses\n\n- Games: dice rolls, card dealing, enemy spawns\n- Testing: generating test data\n- Statistics: sampling data\n- Security: generating tokens (use `secrets` module for true security)\n\n## Reproducibility with Seeds\n\nFor testing, you often need the same \"random\" results:\n\n```python\nrandom.seed(42)  # Set the seed\nprint(random.randint(1, 100))  # Always 82 with seed 42!\nprint(random.randint(1, 100))  # Always 35 with seed 42!\n```\n\nResetting the seed gives the same sequence every time.\n\n---\n\n## \ud83c\udfaf Your Task\n\nSet `random.seed(42)`, then generate and print a random integer between 1 and 100 (inclusive).\n",
    "starter_code": "import random\n\n# Set seed for consistency\nrandom.seed(42)\n\n# Print random 1-100\n",
    "solution_code": "import random\n\n# Set seed for consistency\nrandom.seed(42)\n\n# Print random 1-100\nprint(random.randint(1, 100))",
    "expected_output": "82",
    "chapter_id": 9,
    "chapter_title": "Modules & Packages"
  },
  "62": {
    "id": 62,
    "title": "Datetime Module",
    "content": "# \ud83d\udcc5 Working with Dates and Times\n\n## The datetime Module\n\nHandle dates, times, and durations:\n\n```python\nfrom datetime import date, datetime, timedelta\n\n# Current date/time\ntoday = date.today()      # 2024-01-15\nnow = datetime.now()      # 2024-01-15 14:30:00\n\n# Create specific dates\nbirthday = date(1995, 6, 15)\nmeeting = datetime(2024, 12, 25, 10, 30)\n```\n\n## Date Formatting\n\nConvert dates to custom string formats:\n\n```python\nnow = datetime.now()\nnow.strftime(\"%Y-%m-%d\")     # \"2024-01-15\"\nnow.strftime(\"%B %d, %Y\")    # \"January 15, 2024\"\nnow.strftime(\"%H:%M:%S\")     # \"14:30:00\"\n```\n\n## Date Arithmetic\n\nAdd or subtract time using `timedelta`:\n\n```python\nfrom datetime import timedelta\n\ntoday = date.today()\ntomorrow = today + timedelta(days=1)\nnext_week = today + timedelta(weeks=1)\n```\n\n---\n\n## \ud83c\udfaf Your Task\n\nCreate a date object for January 1, 2024 using `date(2024, 1, 1)` and print it.\n",
    "starter_code": "from datetime import date\n\n# Create Jan 1, 2024\n\n\n# Print it\n",
    "solution_code": "from datetime import date\n\n# Create Jan 1, 2024\nnew_year = date(2024, 1, 1)\n\n# Print it\nprint(new_year)",
    "expected_output": "2024-01-01",
    "chapter_id": 9,
    "chapter_title": "Modules & Packages"
  },
  "63": {
    "id": 63,
    "title": "Collections Module",
    "content": "# \ud83d\udcca Counter from Collections\n\n## The Counter Class\n\n`Counter` is a specialized dictionary for counting things:\n\n```python\nfrom collections import Counter\n\n# Count items in a list\ncolors = ['red', 'blue', 'red', 'green', 'blue', 'red']\ncounts = Counter(colors)\nprint(counts)  # Counter({'red': 3, 'blue': 2, 'green': 1})\n\n# Count characters in a string\nletter_counts = Counter(\"mississippi\")\n# Counter({'i': 4, 's': 4, 'p': 2, 'm': 1})\n```\n\n## Useful Counter Methods\n\n```python\ncounts.most_common(2)      # [('red', 3), ('blue', 2)]\ncounts['red']              # 3\ncounts['purple']           # 0 (no KeyError!)\ncounts.total()             # Sum of all counts\n```\n\n## Why Use Counter?\n\n- Count word frequencies in text\n- Find most common items\n- Tally votes or scores\n- Analyze data distributions\n\n---\n\n## \ud83c\udfaf Your Task\n\nCount the letters in the word `\"hello\"` using Counter and print the result.\n",
    "starter_code": "from collections import Counter\n\nword = \"hello\"\n\n# Count and print\n",
    "solution_code": "from collections import Counter\n\nword = \"hello\"\n\n# Count and print\ncounts = Counter(word)\nprint(counts)",
    "expected_output": "Counter({'l': 2, 'h': 1, 'e': 1, 'o': 1})",
    "chapter_id": 9,
    "chapter_title": "Modules & Packages"
  },
  "64": {
    "id": 64,
    "title": "Aliases",
    "content": "# \ud83c\udff7\ufe0f Import Aliases\n\n## Shortening Module Names\n\nSome modules have long names. Use `as` to create shorter aliases:\n\n```python\nimport numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\n```\n\n## Why Use Aliases?\n\n1. **Less typing**: `np.array()` vs `numpy.array()`\n2. **Industry standard**: Everyone uses these conventions\n3. **Code readability**: Familiar patterns\n\n## Common Conventions\n\n| Module | Standard Alias |\n| --- | --- |\n| numpy | np |\n| pandas | pd |\n| matplotlib.pyplot | plt |\n| seaborn | sns |\n| tensorflow | tf |\n\n## Creating Your Own Aliases\n\n```python\nimport statistics as stats\nprint(stats.mean([1, 2, 3, 4, 5]))\n\nimport math as m\nprint(m.sqrt(16))  # 4.0\n```\n\n---\n\n## \ud83c\udfaf Your Task\n\nImport `math` with the alias `m` and print `m.floor(7.8)`.\n",
    "starter_code": "# Import math as m\n\n\n# Print floor of 7.8\n",
    "solution_code": "# Import math as m\nimport math as m\n\n# Print floor of 7.8\nprint(m.floor(7.8))",
    "expected_output": "7",
    "chapter_id": 9,
    "chapter_title": "Modules & Packages"
  },
  "65": {
    "id": 65,
    "title": "OS Path",
    "content": "# \ud83d\udcc2 OS Path Operations\n\n## Working with File Paths\n\nThe `os` module helps work with file paths in a **cross-platform** way:\n\n```python\nimport os\n\n# Join paths (works on Windows AND Mac/Linux)\npath = os.path.join(\"folder\", \"subfolder\", \"file.txt\")\n# Windows: folder\\subfolder\\file.txt\n# Mac/Linux: folder/subfolder/file.txt\n```\n\n## Common Path Operations\n\n```python\nimport os\n\n# Check if exists\nos.path.exists(\"file.txt\")     # True/False\n\n# Get parts of a path\nos.path.dirname(\"/a/b/c.txt\")  # \"/a/b\"\nos.path.basename(\"/a/b/c.txt\") # \"c.txt\"\nos.path.splitext(\"data.csv\")   # (\"data\", \".csv\")\n\n# Get current directory\nos.getcwd()\n\n# List files in directory\nos.listdir(\".\")\n```\n\n## Why Use os.path?\n\nNever hardcode paths like `\"folder/file.txt\"` because:\n- Windows uses `\\`, Mac/Linux use `/`\n- `os.path.join()` handles this automatically!\n\n---\n\n## \ud83c\udfaf Your Task\n\nUse `os.path.join()` to combine `\"data\"` and `\"report.csv\"` into a path, then print it.\n",
    "starter_code": "import os\n\n# Join path parts\n\n\n# Print path\n",
    "solution_code": "import os\n\n# Join path parts\npath = os.path.join(\"data\", \"report.csv\")\n\n# Print path\nprint(path)",
    "expected_output": "data/report.csv",
    "chapter_id": 9,
    "chapter_title": "Modules & Packages"
  },
  "66": {
    "id": 66,
    "title": "Itertools",
    "content": "# \ud83d\udd04 Itertools Module\n\n## Powerful Iteration Tools\n\nThe `itertools` module provides advanced iteration utilities:\n\n```python\nfrom itertools import combinations, permutations, product\n\n# Combinations: order doesn't matter\nlist(combinations([1, 2, 3], 2))\n# [(1, 2), (1, 3), (2, 3)]\n\n# Permutations: order matters\nlist(permutations([1, 2, 3], 2))\n# [(1, 2), (1, 3), (2, 1), (2, 3), (3, 1), (3, 2)]\n\n# Product: all combinations of multiple lists\nlist(product(['A', 'B'], [1, 2]))\n# [('A', 1), ('A', 2), ('B', 1), ('B', 2)]\n```\n\n## Other Useful Functions\n\n```python\nfrom itertools import cycle, count, chain\n\n# Infinite repeating\ncolors = cycle(['red', 'green', 'blue'])\nnext(colors)  # 'red', 'green', 'blue', 'red'...\n\n# Chain multiple iterables\nlist(chain([1, 2], [3, 4]))  # [1, 2, 3, 4]\n```\n\n---\n\n## \ud83c\udfaf Your Task\n\nGet all combinations of 2 items from the list `[\"A\", \"B\", \"C\"]` and print the result.\n",
    "starter_code": "from itertools import combinations\n\nletters = [\"A\", \"B\", \"C\"]\n\n# Get pairs and print\n",
    "solution_code": "from itertools import combinations\n\nletters = [\"A\", \"B\", \"C\"]\n\n# Get pairs and print\npairs = list(combinations(letters, 2))\nprint(pairs)",
    "expected_output": "[('A', 'B'), ('A', 'C'), ('B', 'C')]",
    "chapter_id": 9,
    "chapter_title": "Modules & Packages"
  },
  "67": {
    "id": 67,
    "title": "Functools",
    "content": "# \u2699\ufe0f Functools Module\n\n## Functions That Work with Functions\n\n`functools` provides higher-order functions - functions that work on other functions.\n\n## The reduce Function\n\nApplies a function cumulatively to reduce a list to a single value:\n\n```python\nfrom functools import reduce\n\n# Sum all numbers: ((1+2)+3)+4 = 10\nresult = reduce(lambda x, y: x + y, [1, 2, 3, 4])\n\n# Find maximum\nmax_val = reduce(lambda x, y: x if x > y else y, [3, 1, 4, 1, 5])\n# Result: 5\n```\n\n## How reduce Works Step by Step\n\n```python\nreduce(lambda x, y: x * y, [2, 3, 4, 5])\n# Step 1: 2 * 3 = 6\n# Step 2: 6 * 4 = 24\n# Step 3: 24 * 5 = 120\n```\n\n## Other Useful Functions\n\n```python\nfrom functools import partial\n\n# Create a specialized function\ndef power(base, exp):\n    return base ** exp\n\nsquare = partial(power, exp=2)\ncube = partial(power, exp=3)\n\nprint(square(5))  # 25\nprint(cube(5))    # 125\n```\n\n---\n\n## \ud83c\udfaf Your Task\n\nUse `reduce` with a lambda to multiply all numbers in `[2, 3, 4]` together. Print the result (should be 24).\n",
    "starter_code": "from functools import reduce\n\nnumbers = [2, 3, 4]\n\n# Multiply all and print\n",
    "solution_code": "from functools import reduce\n\nnumbers = [2, 3, 4]\n\n# Multiply all and print\nresult = reduce(lambda x, y: x * y, numbers)\nprint(result)",
    "expected_output": "24",
    "chapter_id": 9,
    "chapter_title": "Modules & Packages"
  },
  "68": {
    "id": 68,
    "title": "Creating DataFrames",
    "content": "# \ud83d\udc3c Pandas DataFrames\n\n## What is Pandas?\n\n**Pandas** is Python's premier library for data analysis. It provides powerful tools for working with tabular data (rows and columns).\n\n## What is a DataFrame?\n\nA **DataFrame** is a 2D table with labeled rows and columns - like a spreadsheet or SQL table.\n\n```python\nimport pandas as pd\n\ndata = {\n    \"name\": [\"Alice\", \"Bob\", \"Charlie\"],\n    \"age\": [25, 30, 35],\n    \"city\": [\"NYC\", \"LA\", \"Chicago\"]\n}\n\ndf = pd.DataFrame(data)\nprint(df)\n```\n\nOutput:\n```\n      name  age     city\n0    Alice   25      NYC\n1      Bob   30       LA\n2  Charlie   35  Chicago\n```\n\n## Why Pandas?\n\n| Feature | Benefit |\n| --- | --- |\n| Handles millions of rows | Process big data efficiently |\n| Built-in data cleaning | Handle missing values, duplicates |\n| Powerful grouping | Aggregate and summarize data |\n| File I/O | Read CSV, Excel, JSON, SQL |\n\n---\n\n## \ud83c\udfaf Your Task\n\nCreate a DataFrame from `{\"name\": [\"Alice\", \"Bob\"], \"score\": [85, 90]}` and print it.\n",
    "starter_code": "import pandas as pd\n\ndata = {\"name\": [\"Alice\", \"Bob\"], \"score\": [85, 90]}\n\n# Create DataFrame\n\n\n# Print it\n",
    "solution_code": "import pandas as pd\n\ndata = {\"name\": [\"Alice\", \"Bob\"], \"score\": [85, 90]}\n\n# Create DataFrame\ndf = pd.DataFrame(data)\n\n# Print it\nprint(df)",
    "expected_output": "    name  score\n0  Alice     85\n1    Bob     90",
    "chapter_id": 10,
    "chapter_title": "Pandas & Data Wrangling"
  },
  "69": {
    "id": 69,
    "title": "Selecting Columns",
    "content": "# \ud83d\udcca Selecting Data from DataFrames\n\n## Accessing Columns\n\nThere are several ways to select data:\n\n```python\n# Single column \u2192 returns a Series\ndf[\"name\"]\ndf.name  # Dot notation (if column name is valid identifier)\n\n# Multiple columns \u2192 returns a DataFrame\ndf[[\"name\", \"age\"]]\n```\n\n## Accessing Rows\n\n```python\n# By position (integer index)\ndf.iloc[0]       # First row\ndf.iloc[0:3]     # First 3 rows\ndf.iloc[-1]      # Last row\n\n# By label\ndf.loc[0]        # Row with label 0\ndf.loc[0:2]      # Rows with labels 0 through 2 (inclusive!)\n\n# Handy shortcuts\ndf.head(3)       # First 3 rows\ndf.tail(2)       # Last 2 rows\n```\n\n## Selecting Both Rows and Columns\n\n```python\n# Specific rows and columns\ndf.loc[0:2, [\"name\", \"age\"]]\ndf.iloc[0:3, 0:2]\n```\n\n---\n\n## \ud83c\udfaf Your Task\n\nGiven a DataFrame with name, age, and city columns, print only the \"name\" column.\n",
    "starter_code": "import pandas as pd\n\ndata = {\"name\": [\"Alice\", \"Bob\"], \"age\": [25, 30], \"city\": [\"NYC\", \"LA\"]}\ndf = pd.DataFrame(data)\n\n# Print name column\n",
    "solution_code": "import pandas as pd\n\ndata = {\"name\": [\"Alice\", \"Bob\"], \"age\": [25, 30], \"city\": [\"NYC\", \"LA\"]}\ndf = pd.DataFrame(data)\n\n# Print name column\nprint(df[\"name\"])",
    "expected_output": "0    Alice\n1      Bob\nName: name, dtype: object",
    "chapter_id": 10,
    "chapter_title": "Pandas & Data Wrangling"
  },
  "70": {
    "id": 70,
    "title": "Filtering Rows",
    "content": "# \ud83d\udd0d Filtering Data\n\n## Boolean Indexing\n\nFilter rows based on conditions:\n\n```python\n# Rows where age > 25\ndf[df[\"age\"] > 25]\n\n# Rows where name is \"Alice\"\ndf[df[\"name\"] == \"Alice\"]\n\n# Rows where score is between 80 and 90\ndf[(df[\"score\"] >= 80) & (df[\"score\"] <= 90)]\n```\n\n## Multiple Conditions\n\nUse `&` for AND, `|` for OR (wrap each condition in parentheses):\n\n```python\n# AND: both conditions must be true\ndf[(df[\"age\"] > 25) & (df[\"city\"] == \"NYC\")]\n\n# OR: at least one must be true\ndf[(df[\"age\"] > 40) | (df[\"score\"] > 90)]\n```\n\n## Filtering with isin()\n\n```python\n# Check if value is in a list\ndf[df[\"city\"].isin([\"NYC\", \"LA\"])]\n```\n\n## Filtering String Columns\n\n```python\ndf[df[\"name\"].str.contains(\"li\")]     # Contains \"li\"\ndf[df[\"name\"].str.startswith(\"A\")]    # Starts with \"A\"\n```\n\n---\n\n## \ud83c\udfaf Your Task\n\nFilter rows where score > 80 and print the result.\n",
    "starter_code": "import pandas as pd\n\ndata = {\"name\": [\"Alice\", \"Bob\", \"Charlie\"], \"score\": [85, 70, 95]}\ndf = pd.DataFrame(data)\n\n# Filter score > 80\n",
    "solution_code": "import pandas as pd\n\ndata = {\"name\": [\"Alice\", \"Bob\", \"Charlie\"], \"score\": [85, 70, 95]}\ndf = pd.DataFrame(data)\n\n# Filter score > 80\nprint(df[df[\"score\"] > 80])",
    "expected_output": "      name  score\n0    Alice     85\n2  Charlie     95",
    "chapter_id": 10,
    "chapter_title": "Pandas & Data Wrangling"
  },
  "71": {
    "id": 71,
    "title": "Basic Statistics",
    "content": "# \ud83d\udcc8 Statistics in Pandas\n\n## Quick Column Statistics\n\nPandas makes statistical analysis easy:\n\n```python\ndf[\"column\"].mean()     # Average\ndf[\"column\"].median()   # Middle value\ndf[\"column\"].sum()      # Total\ndf[\"column\"].min()      # Minimum\ndf[\"column\"].max()      # Maximum\ndf[\"column\"].std()      # Standard deviation\ndf[\"column\"].count()    # Count non-null values\n```\n\n## Get All Stats at Once\n\n```python\ndf.describe()\n```\n\nReturns count, mean, std, min, 25%, 50%, 75%, max for all numeric columns!\n\n## Statistics Across the DataFrame\n\n```python\ndf.mean()         # Mean of each column\ndf.sum(axis=1)    # Sum across each row\n```\n\n## Value Distribution\n\n```python\ndf[\"column\"].value_counts()   # Count each unique value\ndf[\"column\"].unique()         # Get unique values\ndf[\"column\"].nunique()        # Count unique values\n```\n\n---\n\n## \ud83c\udfaf Your Task\n\nCalculate and print the mean of the \"value\" column.\n",
    "starter_code": "import pandas as pd\n\ndata = {\"value\": [10, 20, 30, 40, 50]}\ndf = pd.DataFrame(data)\n\n# Print mean\n",
    "solution_code": "import pandas as pd\n\ndata = {\"value\": [10, 20, 30, 40, 50]}\ndf = pd.DataFrame(data)\n\n# Print mean\nprint(df[\"value\"].mean())",
    "expected_output": "30.0",
    "chapter_id": 10,
    "chapter_title": "Pandas & Data Wrangling"
  },
  "72": {
    "id": 72,
    "title": "Adding Columns",
    "content": "# \u2795 Creating New Columns\n\n## Calculate from Existing Columns\n\nCreate new columns based on existing data:\n\n```python\n# Simple calculation\ndf[\"total\"] = df[\"price\"] * df[\"quantity\"]\n\n# Using multiple columns\ndf[\"profit\"] = df[\"revenue\"] - df[\"cost\"]\n\n# Apply a function\ndf[\"age_in_months\"] = df[\"age\"] * 12\n```\n\n## Transform String Columns\n\n```python\ndf[\"name_upper\"] = df[\"name\"].str.upper()\ndf[\"name_length\"] = df[\"name\"].str.len()\ndf[\"first_initial\"] = df[\"name\"].str[0]\n```\n\n## Conditional Columns\n\n```python\n# Using apply with lambda\ndf[\"status\"] = df[\"score\"].apply(lambda x: \"Pass\" if x >= 70 else \"Fail\")\n\n# Using numpy where\nimport numpy as np\ndf[\"status\"] = np.where(df[\"score\"] >= 70, \"Pass\", \"Fail\")\n```\n\n## Modify Existing Columns\n\n```python\ndf[\"price\"] = df[\"price\"] * 1.10  # 10% increase\n```\n\n---\n\n## \ud83c\udfaf Your Task\n\nAdd a \"total\" column that equals price \u00d7 quantity, then print the DataFrame.\n",
    "starter_code": "import pandas as pd\n\ndata = {\"price\": [100, 200], \"quantity\": [2, 3]}\ndf = pd.DataFrame(data)\n\n# Add total column\n\n\n# Print df\n",
    "solution_code": "import pandas as pd\n\ndata = {\"price\": [100, 200], \"quantity\": [2, 3]}\ndf = pd.DataFrame(data)\n\n# Add total column\ndf[\"total\"] = df[\"price\"] * df[\"quantity\"]\n\n# Print df\nprint(df)",
    "expected_output": "   price  quantity  total\n0    100         2    200\n1    200         3    600",
    "chapter_id": 10,
    "chapter_title": "Pandas & Data Wrangling"
  },
  "73": {
    "id": 73,
    "title": "GroupBy",
    "content": "# \ud83d\udcca Grouping and Aggregating\n\n## The Power of GroupBy\n\nGroup data by categories and calculate statistics:\n\n```python\n# Group by one column\ndf.groupby(\"category\").sum()\ndf.groupby(\"category\")[\"value\"].mean()\n\n# Group by multiple columns\ndf.groupby([\"year\", \"category\"]).count()\n```\n\n## How GroupBy Works\n\n1. **Split**: Divide data into groups\n2. **Apply**: Calculate statistic for each group\n3. **Combine**: Merge results\n\n```python\n# Multiple aggregations at once\ndf.groupby(\"category\").agg({\n    \"sales\": \"sum\",\n    \"profit\": \"mean\",\n    \"orders\": \"count\"\n})\n```\n\n## Common Use Cases\n\n- Sales by region\n- Average score by grade level\n- Count of users by country\n- Revenue by product category\n\n---\n\n## \ud83c\udfaf Your Task\n\nGroup the data by category and print the sum of values for each category.\n",
    "starter_code": "import pandas as pd\n\ndata = {\"category\": [\"A\", \"B\", \"A\"], \"value\": [10, 20, 30]}\ndf = pd.DataFrame(data)\n\n# Group and sum\n",
    "solution_code": "import pandas as pd\n\ndata = {\"category\": [\"A\", \"B\", \"A\"], \"value\": [10, 20, 30]}\ndf = pd.DataFrame(data)\n\n# Group and sum\nprint(df.groupby(\"category\").sum())",
    "expected_output": "          value\ncategory       \nA            40\nB            20",
    "chapter_id": 10,
    "chapter_title": "Pandas & Data Wrangling"
  },
  "74": {
    "id": 74,
    "title": "Sorting",
    "content": "# \ud83d\udd04 Sorting DataFrames\n\n## Sort by Column\n\n```python\n# Ascending (default)\ndf.sort_values(\"score\")\n\n# Descending\ndf.sort_values(\"score\", ascending=False)\n\n# Sort by multiple columns\ndf.sort_values([\"grade\", \"score\"], ascending=[True, False])\n```\n\n## Sort by Index\n\n```python\ndf.sort_index()                    # Sort by row labels\ndf.sort_index(ascending=False)     # Reverse order\n```\n\n## Keeping Changes\n\nBy default, sorting returns a new DataFrame:\n\n```python\n# Returns new DataFrame\nsorted_df = df.sort_values(\"score\")\n\n# Modify in place\ndf.sort_values(\"score\", inplace=True)\n```\n\n## Practical Example\n\n```python\n# Top 10 highest scores\ntop_10 = df.sort_values(\"score\", ascending=False).head(10)\n```\n\n---\n\n## \ud83c\udfaf Your Task\n\nSort the DataFrame by score in descending order and print it.\n",
    "starter_code": "import pandas as pd\n\ndata = {\"name\": [\"Alice\", \"Bob\", \"Charlie\"], \"score\": [85, 95, 70]}\ndf = pd.DataFrame(data)\n\n# Sort by score descending\n",
    "solution_code": "import pandas as pd\n\ndata = {\"name\": [\"Alice\", \"Bob\", \"Charlie\"], \"score\": [85, 95, 70]}\ndf = pd.DataFrame(data)\n\n# Sort by score descending\nprint(df.sort_values(\"score\", ascending=False))",
    "expected_output": "      name  score\n1      Bob     95\n0    Alice     85\n2  Charlie     70",
    "chapter_id": 10,
    "chapter_title": "Pandas & Data Wrangling"
  },
  "75": {
    "id": 75,
    "title": "Handling Missing Data",
    "content": "# \u2753 Handling Missing Values\n\n## Detecting Missing Data\n\nIn Pandas, missing values are represented as `NaN` (Not a Number):\n\n```python\nimport numpy as np\n\ndf.isna()           # True where NaN\ndf.notna()          # True where NOT NaN\ndf.isna().sum()     # Count NaN per column\ndf.isna().any()     # Any NaN in each column?\n```\n\n## Dealing with Missing Data\n\n```python\n# Drop rows with any NaN\ndf.dropna()\n\n# Drop rows where specific column is NaN\ndf.dropna(subset=[\"name\"])\n\n# Fill NaN with a value\ndf.fillna(0)\ndf.fillna(df.mean())  # Fill with column mean\ndf.fillna(method=\"ffill\")  # Forward fill\n```\n\n## Real-World Approach\n\nDecide based on context:\n- **Drop**: If few missing and rows not critical\n- **Fill with value**: If you have a sensible default\n- **Fill with statistic**: Mean, median, mode for numeric data\n- **Keep as-is**: Some algorithms handle NaN\n\n---\n\n## \ud83c\udfaf Your Task\n\nFill NaN values with 0 and print the result.\n",
    "starter_code": "import pandas as pd\nimport numpy as np\n\ndata = {\"value\": [1, np.nan, 3]}\ndf = pd.DataFrame(data)\n\n# Fill NaN with 0\n",
    "solution_code": "import pandas as pd\nimport numpy as np\n\ndata = {\"value\": [1, np.nan, 3]}\ndf = pd.DataFrame(data)\n\n# Fill NaN with 0\nprint(df.fillna(0))",
    "expected_output": "   value\n0    1.0\n1    0.0\n2    3.0",
    "chapter_id": 10,
    "chapter_title": "Pandas & Data Wrangling"
  },
  "76": {
    "id": 76,
    "title": "Value Counts",
    "content": "# \ud83d\udcca Counting Unique Values\n\n## value_counts()\n\nSee the distribution of values in a column:\n\n```python\ndf[\"color\"].value_counts()\n# red      10\n# blue      7\n# green     3\n```\n\n## Options\n\n```python\n# Normalize to get percentages\ndf[\"color\"].value_counts(normalize=True)\n# red      0.50\n# blue     0.35\n# green    0.15\n\n# Include NaN values\ndf[\"color\"].value_counts(dropna=False)\n\n# Sort by index instead of count\ndf[\"color\"].value_counts().sort_index()\n```\n\n## Use Cases\n\n- Analyze category distributions\n- Find most common values\n- Detect class imbalance in ML\n- Quality check data\n\n## With groupby\n\n```python\n# Count by multiple columns\ndf.groupby([\"year\", \"category\"]).size()\n```\n\n---\n\n## \ud83c\udfaf Your Task\n\nCount how many times each color appears and print the result.\n",
    "starter_code": "import pandas as pd\n\ndata = {\"color\": [\"red\", \"blue\", \"red\", \"green\", \"blue\", \"red\"]}\ndf = pd.DataFrame(data)\n\n# Count colors\n",
    "solution_code": "import pandas as pd\n\ndata = {\"color\": [\"red\", \"blue\", \"red\", \"green\", \"blue\", \"red\"]}\ndf = pd.DataFrame(data)\n\n# Count colors\nprint(df[\"color\"].value_counts())",
    "expected_output": "color\nred      3\nblue     2\ngreen    1\nName: count, dtype: int64",
    "chapter_id": 10,
    "chapter_title": "Pandas & Data Wrangling"
  },
  "77": {
    "id": 77,
    "title": "Line Plot",
    "content": "# \ud83d\udcc8 Creating Line Charts\n\n## Why Visualize Data?\n\nVisualizations help us:\n- **Understand patterns** at a glance\n- **Communicate insights** to others\n- **Spot trends, outliers, and anomalies**\n- **Tell stories with data**\n\n## Matplotlib: Python's Plotting Library\n\n```python\nimport matplotlib.pyplot as plt\n\n# Create a simple line plot\nx = [1, 2, 3, 4, 5]\ny = [1, 4, 9, 16, 25]  # Squares\n\nplt.plot(x, y)\nplt.show()\n```\n\n## How plt.plot() Works\n\n1. Create a figure and axes\n2. Plot the data points\n3. Connect them with lines\n4. `plt.show()` displays the result\n\n## When to Use Line Charts\n\n- **Time series data** (stock prices over time)\n- **Trends** (website traffic by month)\n- **Continuous data** where order matters\n\n---\n\n## \ud83c\udfaf Your Task\n\nCreate a line plot with x values `[0, 1, 2, 3, 4]` and y values `[0, 1, 4, 9, 16]` (squares).\n",
    "starter_code": "import matplotlib.pyplot as plt\n\nx = [0, 1, 2, 3, 4]\ny = [0, 1, 4, 9, 16]\n\n# Create line plot and show\n",
    "solution_code": "import matplotlib.pyplot as plt\n\nx = [0, 1, 2, 3, 4]\ny = [0, 1, 4, 9, 16]\n\n# Create line plot and show\nplt.plot(x, y)\nplt.show()",
    "expected_output": "[Graph: Line plot showing squares 0-16]",
    "chapter_id": 11,
    "chapter_title": "Data Visualization"
  },
  "78": {
    "id": 78,
    "title": "Bar Chart",
    "content": "# \ud83d\udcca Bar Charts\n\n## When to Use Bar Charts\n\nBar charts are perfect for:\n- **Comparing categories** (sales by region)\n- **Showing quantities** across groups\n- **Discrete, categorical data**\n\n## Creating a Bar Chart\n\n```python\nimport matplotlib.pyplot as plt\n\ncategories = [\"Apples\", \"Oranges\", \"Bananas\"]\nvalues = [25, 40, 30]\n\nplt.bar(categories, values)\nplt.show()\n```\n\n## Customization Options\n\n```python\n# Horizontal bars\nplt.barh(categories, values)\n\n# Custom colors\nplt.bar(categories, values, color=['red', 'orange', 'yellow'])\n\n# Add border\nplt.bar(categories, values, edgecolor='black', linewidth=1)\n```\n\n## Bar Chart vs Line Chart\n\n| Bar Chart | Line Chart |\n| --- | --- |\n| Categorical data | Sequential data |\n| Comparing groups | Showing trends |\n| No inherent order | Order matters |\n\n---\n\n## \ud83c\udfaf Your Task\n\nCreate a bar chart with categories `[\"A\", \"B\", \"C\"]` and values `[25, 40, 30]`.\n",
    "starter_code": "import matplotlib.pyplot as plt\n\ncategories = [\"A\", \"B\", \"C\"]\nvalues = [25, 40, 30]\n\n# Create bar chart\n",
    "solution_code": "import matplotlib.pyplot as plt\n\ncategories = [\"A\", \"B\", \"C\"]\nvalues = [25, 40, 30]\n\n# Create bar chart\nplt.bar(categories, values)\nplt.show()",
    "expected_output": "[Graph: Bar chart with A=25, B=40, C=30]",
    "chapter_id": 11,
    "chapter_title": "Data Visualization"
  },
  "79": {
    "id": 79,
    "title": "Scatter Plot",
    "content": "# \u2b50 Scatter Plots\n\n## When to Use Scatter Plots\n\nScatter plots show the **relationship between two variables**:\n- Do taller people weigh more?\n- Does more advertising lead to more sales?\n- Is there a correlation?\n\n## Creating a Scatter Plot\n\n```python\nimport matplotlib.pyplot as plt\n\nx = [1, 2, 3, 4, 5]\ny = [2, 4, 5, 4, 5]\n\nplt.scatter(x, y)\nplt.show()\n```\n\n## Customization\n\n```python\n# Size and color\nplt.scatter(x, y, s=100, c='red')\n\n# Different sizes per point\nsizes = [20, 50, 100, 200, 500]\nplt.scatter(x, y, s=sizes)\n\n# Color by a third variable\ncolors = [1, 2, 3, 4, 5]\nplt.scatter(x, y, c=colors, cmap='viridis')\nplt.colorbar()  # Add color legend\n```\n\n## Reading Scatter Plots\n\n- **Positive correlation**: Points trend up-right\n- **Negative correlation**: Points trend down-right\n- **No correlation**: Points randomly scattered\n\n---\n\n## \ud83c\udfaf Your Task\n\nCreate a scatter plot with x `[1, 2, 3, 4, 5]` and y `[2, 4, 5, 4, 5]`.\n",
    "starter_code": "import matplotlib.pyplot as plt\n\nx = [1, 2, 3, 4, 5]\ny = [2, 4, 5, 4, 5]\n\n# Create scatter plot\n",
    "solution_code": "import matplotlib.pyplot as plt\n\nx = [1, 2, 3, 4, 5]\ny = [2, 4, 5, 4, 5]\n\n# Create scatter plot\nplt.scatter(x, y)\nplt.show()",
    "expected_output": "[Graph: Scatter plot with 5 points]",
    "chapter_id": 11,
    "chapter_title": "Data Visualization"
  },
  "80": {
    "id": 80,
    "title": "Histogram",
    "content": "# \ud83d\udcca Histograms\n\n## What is a Histogram?\n\nA histogram shows the **distribution** of data - how values are spread across ranges (bins).\n\n## Bar Chart vs Histogram\n\n| Bar Chart | Histogram |\n| --- | --- |\n| Categorical data | Continuous data |\n| Each bar is a category | Each bar is a range |\n| Bars have gaps | Bars touch |\n\n## Creating a Histogram\n\n```python\nimport matplotlib.pyplot as plt\n\nscores = [65, 70, 75, 80, 85, 90, 95, 70, 75, 80]\n\nplt.hist(scores, bins=5)\nplt.show()\n```\n\n## Bins: Dividing Your Data\n\nThe `bins` parameter controls how data is grouped:\n- More bins = more detail\n- Fewer bins = smoother view\n\n```python\nplt.hist(data, bins=10)   # Default\nplt.hist(data, bins=20)   # More detail\nplt.hist(data, bins=[0, 50, 70, 90, 100])  # Custom edges\n```\n\n## Reading Histograms\n\n- **Normal distribution**: Bell curve shape\n- **Skewed right**: Tail extends right\n- **Skewed left**: Tail extends left\n- **Uniform**: All bars similar height\n\n---\n\n## \ud83c\udfaf Your Task\n\nCreate a histogram of exam scores `[65, 70, 75, 80, 85, 90, 95, 70, 75, 80, 85, 80]` with 5 bins.\n",
    "starter_code": "import matplotlib.pyplot as plt\n\nscores = [65, 70, 75, 80, 85, 90, 95, 70, 75, 80, 85, 80]\n\n# Create histogram with 5 bins\n",
    "solution_code": "import matplotlib.pyplot as plt\n\nscores = [65, 70, 75, 80, 85, 90, 95, 70, 75, 80, 85, 80]\n\n# Create histogram with 5 bins\nplt.hist(scores, bins=5)\nplt.show()",
    "expected_output": "[Graph: Histogram of score distribution]",
    "chapter_id": 11,
    "chapter_title": "Data Visualization"
  },
  "81": {
    "id": 81,
    "title": "Pie Chart",
    "content": "# \ud83e\udd67 Pie Charts\n\n## When to Use Pie Charts\n\nPie charts show **parts of a whole**:\n- Market share percentages\n- Budget allocation\n- Survey response distribution\n\n## Creating a Pie Chart\n\n```python\nimport matplotlib.pyplot as plt\n\nlabels = [\"Rent\", \"Food\", \"Transport\", \"Entertainment\"]\nvalues = [30, 25, 20, 25]\n\nplt.pie(values, labels=labels)\nplt.show()\n```\n\n## Customization\n\n```python\n# Add percentages\nplt.pie(values, labels=labels, autopct='%1.1f%%')\n\n# Explode a slice\nexplode = [0.1, 0, 0, 0]  # First slice stands out\nplt.pie(values, labels=labels, explode=explode)\n\n# Custom colors\ncolors = ['#ff9999', '#66b3ff', '#99ff99', '#ffcc99']\nplt.pie(values, labels=labels, colors=colors)\n\n# Make it a circle (equal aspect ratio)\nplt.axis('equal')\n```\n\n## Pie Chart Best Practices\n\n- Use for **5 or fewer categories** (too many is confusing)\n- Label clearly\n- Start largest slice at 12 o'clock\n- Consider bar charts for precise comparisons\n\n---\n\n## \ud83c\udfaf Your Task\n\nCreate a pie chart showing market share with labels `[\"Apple\", \"Google\", \"Microsoft\"]` and values `[30, 45, 25]`.\n",
    "starter_code": "import matplotlib.pyplot as plt\n\nlabels = [\"Apple\", \"Google\", \"Microsoft\"]\nvalues = [30, 45, 25]\n\n# Create pie chart\n",
    "solution_code": "import matplotlib.pyplot as plt\n\nlabels = [\"Apple\", \"Google\", \"Microsoft\"]\nvalues = [30, 45, 25]\n\n# Create pie chart\nplt.pie(values, labels=labels)\nplt.show()",
    "expected_output": "[Graph: Pie chart with 3 segments]",
    "chapter_id": 11,
    "chapter_title": "Data Visualization"
  },
  "82": {
    "id": 82,
    "title": "Adding Labels",
    "content": "# \ud83c\udff7\ufe0f Chart Labels and Titles\n\n## Professional Charts Need Labels\n\nA chart without labels is like a map without names - useless!\n\n```python\nimport matplotlib.pyplot as plt\n\nplt.plot([1, 2, 3], [1, 4, 9])\n\n# Add labels and title\nplt.title(\"My Chart Title\")\nplt.xlabel(\"X Axis Label\")\nplt.ylabel(\"Y Axis Label\")\n\nplt.show()\n```\n\n## More Customization\n\n```python\n# Font sizes\nplt.title(\"Title\", fontsize=16, fontweight='bold')\nplt.xlabel(\"X Label\", fontsize=12)\nplt.ylabel(\"Y Label\", fontsize=12)\n\n# Add a grid\nplt.grid(True)\nplt.grid(True, linestyle='--', alpha=0.7)\n\n# Set axis limits\nplt.xlim(0, 10)\nplt.ylim(0, 100)\n\n# Add text annotation\nplt.text(x, y, \"Label here\")\n```\n\n## Complete Example\n\n```python\nplt.plot(days, temps)\nplt.title(\"Daily Temperature\")\nplt.xlabel(\"Day\")\nplt.ylabel(\"Temperature (\u00b0C)\")\nplt.grid(True)\nplt.show()\n```\n\n---\n\n## \ud83c\udfaf Your Task\n\nPlot temperatures `[20, 22, 25, 23, 21]` over days 1-5. Add title \"Daily Temperature\" and labels \"Day\" and \"Temp (\u00b0C)\".\n",
    "starter_code": "import matplotlib.pyplot as plt\n\ndays = [1, 2, 3, 4, 5]\ntemps = [20, 22, 25, 23, 21]\n\n# Create plot with labels\n",
    "solution_code": "import matplotlib.pyplot as plt\n\ndays = [1, 2, 3, 4, 5]\ntemps = [20, 22, 25, 23, 21]\n\n# Create plot with labels\nplt.plot(days, temps)\nplt.title(\"Daily Temperature\")\nplt.xlabel(\"Day\")\nplt.ylabel(\"Temp (\u00b0C)\")\nplt.show()",
    "expected_output": "[Graph: Line plot with labeled axes]",
    "chapter_id": 11,
    "chapter_title": "Data Visualization"
  },
  "83": {
    "id": 83,
    "title": "Multiple Lines",
    "content": "# \ud83d\udcc8 Plotting Multiple Series\n\n## Comparing Multiple Datasets\n\nPlot multiple lines to compare trends:\n\n```python\nimport matplotlib.pyplot as plt\n\nx = [1, 2, 3, 4]\ny1 = [1, 2, 3, 4]\ny2 = [1, 4, 9, 16]\n\nplt.plot(x, y1, label=\"Linear\")\nplt.plot(x, y2, label=\"Quadratic\")\nplt.legend()  # Show the legend!\nplt.show()\n```\n\n## The Legend\n\nThe `label` parameter names each line, and `plt.legend()` displays them:\n\n```python\nplt.plot(x, y1, label=\"Sales 2023\")\nplt.plot(x, y2, label=\"Sales 2024\")\nplt.legend()\n\n# Position the legend\nplt.legend(loc='upper left')\nplt.legend(loc='best')  # Auto-position\n```\n\n## Different Line Styles\n\n```python\nplt.plot(x, y1, 'b-', label=\"Solid blue\")   # blue, solid\nplt.plot(x, y2, 'r--', label=\"Dashed red\")  # red, dashed\nplt.plot(x, y3, 'g:', label=\"Dotted green\") # green, dotted\n```\n\n---\n\n## \ud83c\udfaf Your Task\n\nPlot two sales lines for months 1-4. Sales A: `[10, 15, 13, 18]`, Sales B: `[8, 12, 16, 14]`. Add a legend.\n",
    "starter_code": "import matplotlib.pyplot as plt\n\nmonths = [1, 2, 3, 4]\nsales_a = [10, 15, 13, 18]\nsales_b = [8, 12, 16, 14]\n\n# Plot both lines with legend\n",
    "solution_code": "import matplotlib.pyplot as plt\n\nmonths = [1, 2, 3, 4]\nsales_a = [10, 15, 13, 18]\nsales_b = [8, 12, 16, 14]\n\n# Plot both lines with legend\nplt.plot(months, sales_a, label=\"Sales A\")\nplt.plot(months, sales_b, label=\"Sales B\")\nplt.legend()\nplt.show()",
    "expected_output": "[Graph: Two line series with legend]",
    "chapter_id": 11,
    "chapter_title": "Data Visualization"
  },
  "84": {
    "id": 84,
    "title": "Colors and Styles",
    "content": "# \ud83c\udfa8 Styling Your Charts\n\n## Color Options\n\nMatplotlib supports many color formats:\n\n```python\n# Named colors\nplt.plot(x, y, color='red')\nplt.plot(x, y, color='skyblue')\n\n# Hex codes\nplt.plot(x, y, color='#FF5733')\n\n# RGB tuples (0-1 range)\nplt.plot(x, y, color=(0.2, 0.4, 0.6))\n```\n\n## Line Styles\n\n| Style | Code |\n| --- | --- |\n| Solid | `'-'` |\n| Dashed | `'--'` |\n| Dotted | `':'` |\n| Dash-dot | `'-.'` |\n\n## Markers\n\n| Marker | Code |\n| --- | --- |\n| Circle | `'o'` |\n| Square | `'s'` |\n| Triangle | `'^'` |\n| X | `'x'` |\n| Plus | `'+'` |\n\n## Combining Styles\n\n```python\nplt.plot(x, y, color='red', linestyle='--', marker='o', \n         linewidth=2, markersize=8)\n```\n\n---\n\n## \ud83c\udfaf Your Task\n\nCreate a line plot with red color, dashed line style, and circle markers for x `[1, 2, 3, 4]`, y `[1, 4, 2, 3]`.\n",
    "starter_code": "import matplotlib.pyplot as plt\n\nx = [1, 2, 3, 4]\ny = [1, 4, 2, 3]\n\n# Plot with red, dashed, circles\n",
    "solution_code": "import matplotlib.pyplot as plt\n\nx = [1, 2, 3, 4]\ny = [1, 4, 2, 3]\n\n# Plot with red, dashed, circles\nplt.plot(x, y, color=\"red\", linestyle=\"--\", marker=\"o\")\nplt.show()",
    "expected_output": "[Graph: Red dashed line with circle markers]",
    "chapter_id": 11,
    "chapter_title": "Data Visualization"
  },
  "85": {
    "id": 85,
    "title": "Subplots",
    "content": "# \ud83d\uddbc\ufe0f Multiple Plots in One Figure\n\n## Why Subplots?\n\nCombine related visualizations for comparison:\n- Before/after comparisons\n- Different metrics side by side\n- Dashboard-style layouts\n\n## Creating Subplots\n\n```python\nimport matplotlib.pyplot as plt\n\n# Create 1 row, 2 columns of plots\nfig, (ax1, ax2) = plt.subplots(1, 2)\n\nax1.plot([1, 2, 3], [1, 4, 9])\nax1.set_title(\"Line Plot\")\n\nax2.bar([\"A\", \"B\", \"C\"], [10, 20, 15])\nax2.set_title(\"Bar Chart\")\n\nplt.tight_layout()  # Prevent overlap\nplt.show()\n```\n\n## Grid Layouts\n\n```python\n# 2 rows, 2 columns\nfig, axes = plt.subplots(2, 2)\n\naxes[0, 0].plot(x, y1)    # Top left\naxes[0, 1].bar(x, y2)     # Top right\naxes[1, 0].scatter(x, y3) # Bottom left\naxes[1, 1].hist(data)     # Bottom right\n```\n\n## Figure Size\n\n```python\nfig, axes = plt.subplots(1, 2, figsize=(12, 4))\n```\n\n---\n\n## \ud83c\udfaf Your Task\n\nCreate 2 side-by-side subplots: left with a line plot of `[1, 2, 3]`, right with a bar chart of categories `[\"A\", \"B\"]` with values `[5, 8]`.\n",
    "starter_code": "import matplotlib.pyplot as plt\n\n# Create 1x2 subplots\n",
    "solution_code": "import matplotlib.pyplot as plt\n\n# Create 1x2 subplots\nfig, (ax1, ax2) = plt.subplots(1, 2)\nax1.plot([1, 2, 3])\nax2.bar([\"A\", \"B\"], [5, 8])\nplt.show()",
    "expected_output": "[Graph: Two subplots side by side]",
    "chapter_id": 11,
    "chapter_title": "Data Visualization"
  },
  "86": {
    "id": 86,
    "title": "Linear Search",
    "content": "# \ud83d\udd0d Linear Search\n\n## What is an Algorithm?\n\nAn **algorithm** is a step-by-step procedure for solving a problem. It's like a recipe - specific instructions to achieve a result.\n\n## Linear Search: The Simplest Search\n\nCheck each element one by one until you find what you're looking for:\n\n```python\ndef linear_search(arr, target):\n    for i, val in enumerate(arr):\n        if val == target:\n            return i  # Found! Return index\n    return -1  # Not found\n```\n\n## How It Works (Step by Step)\n\nSearching for `8` in `[5, 2, 8, 1, 9]`:\n\n| Step | Check | Match? | Action |\n| --- | --- | --- | --- |\n| 1 | 5 | No | Continue |\n| 2 | 2 | No | Continue |\n| 3 | 8 | **Yes!** | Return index 2 |\n\n## Time Complexity\n\n- **Best case**: O(1) - target is first element\n- **Worst case**: O(n) - target is last or not found\n- **Average**: O(n/2) \u2192 O(n)\n\nLinear search is simple but slow for large datasets.\n\n---\n\n## \ud83c\udfaf Your Task\n\nSearch for `8` in `[5, 2, 8, 1, 9]` and print its index.\n",
    "starter_code": "numbers = [5, 2, 8, 1, 9]\ntarget = 8\n\n# Find index of target\n",
    "solution_code": "numbers = [5, 2, 8, 1, 9]\ntarget = 8\n\n# Find index of target\nfor i, val in enumerate(numbers):\n    if val == target:\n        print(i)\n        break",
    "expected_output": "2",
    "chapter_id": 12,
    "chapter_title": "Algorithms"
  },
  "87": {
    "id": 87,
    "title": "Binary Search",
    "content": "# \ud83d\udd0d Binary Search\n\n## The Divide and Conquer Approach\n\nFor **sorted arrays**, binary search is much faster:\n\n1. Look at the middle element\n2. If it's the target, done!\n3. If target is smaller, search left half\n4. If target is larger, search right half\n5. Repeat until found or range is empty\n\n## The Algorithm\n\n```python\ndef binary_search(arr, target):\n    left, right = 0, len(arr) - 1\n    \n    while left <= right:\n        mid = (left + right) // 2\n        \n        if arr[mid] == target:\n            return mid\n        elif arr[mid] < target:\n            left = mid + 1  # Search right half\n        else:\n            right = mid - 1  # Search left half\n    \n    return -1  # Not found\n```\n\n## Example: Finding 7\n\nArray: `[1, 3, 5, 7, 9, 11, 13]`\n\n| Step | Left | Right | Mid | arr[mid] | Action |\n| --- | --- | --- | --- | --- | --- |\n| 1 | 0 | 6 | 3 | 7 | Found! |\n\n## Time Complexity: O(log n)\n\nWith each step, we eliminate half the remaining elements!\n- 1000 items \u2192 ~10 steps\n- 1,000,000 items \u2192 ~20 steps\n\n---\n\n## \ud83c\udfaf Your Task\n\nUse binary search to find index of `7` in `[1, 3, 5, 7, 9, 11, 13]`.\n",
    "starter_code": "sorted_nums = [1, 3, 5, 7, 9, 11, 13]\ntarget = 7\n\nleft, right = 0, len(sorted_nums) - 1\nresult = -1\n\n# Binary search\n",
    "solution_code": "sorted_nums = [1, 3, 5, 7, 9, 11, 13]\ntarget = 7\n\nleft, right = 0, len(sorted_nums) - 1\nresult = -1\n\n# Binary search\nwhile left <= right:\n    mid = (left + right) // 2\n    if sorted_nums[mid] == target:\n        result = mid\n        break\n    elif sorted_nums[mid] < target:\n        left = mid + 1\n    else:\n        right = mid - 1\n\nprint(result)",
    "expected_output": "3",
    "chapter_id": 12,
    "chapter_title": "Algorithms"
  },
  "88": {
    "id": 88,
    "title": "Bubble Sort",
    "content": "# \ud83e\udee7 Bubble Sort\n\n## How Bubble Sort Works\n\nCompare adjacent elements and swap if out of order. Larger values \"bubble up\" to the end.\n\n## The Algorithm\n\n```python\ndef bubble_sort(arr):\n    n = len(arr)\n    for i in range(n):\n        for j in range(n - 1):\n            if arr[j] > arr[j + 1]:\n                arr[j], arr[j + 1] = arr[j + 1], arr[j]\n    return arr\n```\n\n## Visualization\n\nSorting `[64, 34, 25]`:\n\n**Pass 1:**\n- Compare 64, 34 \u2192 swap \u2192 `[34, 64, 25]`\n- Compare 64, 25 \u2192 swap \u2192 `[34, 25, 64]`\n\n**Pass 2:**\n- Compare 34, 25 \u2192 swap \u2192 `[25, 34, 64]`\n- Compare 34, 64 \u2192 no swap\n\n**Result:** `[25, 34, 64]` \u2713\n\n## Time Complexity\n\n- **Always**: O(n\u00b2) - compares every pair\n- **Not efficient** for large datasets\n- But easy to understand and implement!\n\n## Why \"Bubble\"?\n\nEach pass, the largest unsorted element \"bubbles up\" to its correct position.\n\n---\n\n## \ud83c\udfaf Your Task\n\nSort `[64, 34, 25, 12, 22]` using bubble sort and print the result.\n",
    "starter_code": "arr = [64, 34, 25, 12, 22]\n\n# Bubble sort\n\n\n# Print sorted array\n",
    "solution_code": "arr = [64, 34, 25, 12, 22]\n\n# Bubble sort\nfor i in range(len(arr)):\n    for j in range(len(arr) - 1):\n        if arr[j] > arr[j + 1]:\n            arr[j], arr[j + 1] = arr[j + 1], arr[j]\n\n# Print sorted array\nprint(arr)",
    "expected_output": "[12, 22, 25, 34, 64]",
    "chapter_id": 12,
    "chapter_title": "Algorithms"
  },
  "89": {
    "id": 89,
    "title": "Find Maximum",
    "content": "# \ud83d\udd1d Finding the Maximum Value\n\n## The Algorithm\n\nTrack the largest value seen so far:\n\n```python\ndef find_max(arr):\n    max_val = arr[0]  # Assume first is largest\n    \n    for val in arr:\n        if val > max_val:\n            max_val = val  # Found a larger one!\n    \n    return max_val\n```\n\n## Step by Step\n\nFinding max in `[3, 7, 2, 9, 4]`:\n\n| Step | Current | max_val | Action |\n| --- | --- | --- | --- |\n| 1 | 3 | 3 | Initialize |\n| 2 | 7 | 7 | Update (7 > 3) |\n| 3 | 2 | 7 | No change |\n| 4 | 9 | 9 | Update (9 > 7) |\n| 5 | 4 | 9 | No change |\n\n**Result:** 9\n\n## Python's Built-in\n\n```python\nmax([3, 7, 2, 9, 4])  # 9\nmin([3, 7, 2, 9, 4])  # 2\n```\n\n## Time Complexity: O(n)\n\nMust check every element at least once.\n\n---\n\n## \ud83c\udfaf Your Task\n\nFind the maximum value in `[3, 7, 2, 9, 4, 1]` and print it.\n",
    "starter_code": "numbers = [3, 7, 2, 9, 4, 1]\n\n# Find maximum\n",
    "solution_code": "numbers = [3, 7, 2, 9, 4, 1]\n\n# Find maximum\nmax_val = numbers[0]\nfor num in numbers:\n    if num > max_val:\n        max_val = num\n\nprint(max_val)",
    "expected_output": "9",
    "chapter_id": 12,
    "chapter_title": "Algorithms"
  },
  "90": {
    "id": 90,
    "title": "Count Occurrences",
    "content": "# \ud83d\udcca Counting Occurrences\n\n## The Problem\n\nHow many times does a value appear in a list?\n\n## The Algorithm\n\n```python\ndef count_occurrences(arr, target):\n    count = 0\n    for val in arr:\n        if val == target:\n            count += 1\n    return count\n```\n\n## Step by Step Example\n\nCounting `5` in `[5, 3, 5, 1, 5, 2]`:\n\n| Element | Match? | Count |\n| --- | --- | --- |\n| 5 | \u2713 | 1 |\n| 3 | \u2717 | 1 |\n| 5 | \u2713 | 2 |\n| 1 | \u2717 | 2 |\n| 5 | \u2713 | 3 |\n| 2 | \u2717 | 3 |\n\n**Result:** 3\n\n## Python's Built-in\n\n```python\n[5, 3, 5, 1, 5, 2].count(5)  # 3\n```\n\n## Use Cases\n\n- Count word frequency in text\n- Count votes for candidates\n- Find most common element\n\n---\n\n## \ud83c\udfaf Your Task\n\nCount how many times `5` appears in `[5, 3, 5, 1, 5, 2]` and print the count.\n",
    "starter_code": "numbers = [5, 3, 5, 1, 5, 2]\ntarget = 5\n\n# Count occurrences\n",
    "solution_code": "numbers = [5, 3, 5, 1, 5, 2]\ntarget = 5\n\n# Count occurrences\ncount = 0\nfor num in numbers:\n    if num == target:\n        count += 1\n\nprint(count)",
    "expected_output": "3",
    "chapter_id": 12,
    "chapter_title": "Algorithms"
  },
  "91": {
    "id": 91,
    "title": "Reverse Array",
    "content": "# \ud83d\udd04 Reversing an Array\n\n## Multiple Approaches\n\n### 1. Slicing (Pythonic)\n```python\nreversed_arr = arr[::-1]\n```\n\n### 2. Built-in reverse (in-place)\n```python\narr.reverse()  # Modifies original\n```\n\n### 3. Built-in reversed (new iterator)\n```python\nlist(reversed(arr))\n```\n\n### 4. Manual (two pointers)\n```python\ndef reverse(arr):\n    left, right = 0, len(arr) - 1\n    while left < right:\n        arr[left], arr[right] = arr[right], arr[left]\n        left += 1\n        right -= 1\n```\n\n## Understanding Slicing\n\n`arr[start:stop:step]`\n- `[::-1]` means: start at end, go to beginning, step -1\n\n## Time Complexity\n\nAll methods: O(n) - must touch every element\n\n---\n\n## \ud83c\udfaf Your Task\n\nReverse `[1, 2, 3, 4, 5]` and print the result.\n",
    "starter_code": "arr = [1, 2, 3, 4, 5]\n\n# Reverse and print\n",
    "solution_code": "arr = [1, 2, 3, 4, 5]\n\n# Reverse and print\nprint(arr[::-1])",
    "expected_output": "[5, 4, 3, 2, 1]",
    "chapter_id": 12,
    "chapter_title": "Algorithms"
  },
  "92": {
    "id": 92,
    "title": "Remove Duplicates",
    "content": "# \ud83e\uddf9 Removing Duplicates\n\n## Using Set\n\nThe easiest way - sets automatically remove duplicates:\n\n```python\narr = [1, 2, 2, 3, 3, 3, 4]\nunique = list(set(arr))  # [1, 2, 3, 4]\n```\n\n\u26a0\ufe0f **Warning**: Sets don't preserve order!\n\n## Preserving Order\n\n```python\ndef remove_duplicates_ordered(arr):\n    seen = set()\n    result = []\n    for item in arr:\n        if item not in seen:\n            seen.add(item)\n            result.append(item)\n    return result\n```\n\n## Using dict.fromkeys() (Python 3.7+)\n\n```python\nlist(dict.fromkeys([1, 2, 2, 3, 3]))  # [1, 2, 3]\n```\n\n## Use Cases\n\n- Clean user input\n- Prepare data for analysis\n- Remove redundant items\n\n---\n\n## \ud83c\udfaf Your Task\n\nRemove duplicates from `[1, 2, 2, 3, 3, 3, 4]` and print the sorted unique values.\n",
    "starter_code": "arr = [1, 2, 2, 3, 3, 3, 4]\n\n# Remove duplicates and sort\n",
    "solution_code": "arr = [1, 2, 2, 3, 3, 3, 4]\n\n# Remove duplicates and sort\nunique = sorted(set(arr))\nprint(unique)",
    "expected_output": "[1, 2, 3, 4]",
    "chapter_id": 12,
    "chapter_title": "Algorithms"
  },
  "93": {
    "id": 93,
    "title": "Two Sum",
    "content": "# \ud83c\udfaf The Two Sum Problem\n\n## The Problem\n\nFind two numbers in an array that add up to a target sum.\n\n## Brute Force Approach\n\nCheck every pair:\n\n```python\ndef two_sum_brute(nums, target):\n    for i in range(len(nums)):\n        for j in range(i + 1, len(nums)):\n            if nums[i] + nums[j] == target:\n                return [nums[i], nums[j]]\n    return None\n```\n\n**Time Complexity**: O(n\u00b2)\n\n## Optimized Approach (Hash Map)\n\n```python\ndef two_sum_fast(nums, target):\n    seen = {}\n    for num in nums:\n        complement = target - num\n        if complement in seen:\n            return [complement, num]\n        seen[num] = True\n    return None\n```\n\n**Time Complexity**: O(n)\n\n## Why This is Famous\n\nThis is **THE** most common coding interview question! It teaches:\n- Hash tables\n- Trade-offs between time and space\n- Problem-solving strategies\n\n---\n\n## \ud83c\udfaf Your Task\n\nFind two numbers in `[2, 7, 11, 15]` that add up to 9 and print them.\n",
    "starter_code": "nums = [2, 7, 11, 15]\ntarget = 9\n\n# Find two numbers that sum to target\n",
    "solution_code": "nums = [2, 7, 11, 15]\ntarget = 9\n\n# Find two numbers that sum to target\nfor i in range(len(nums)):\n    for j in range(i + 1, len(nums)):\n        if nums[i] + nums[j] == target:\n            print(nums[i], nums[j])",
    "expected_output": "2 7",
    "chapter_id": 12,
    "chapter_title": "Algorithms"
  },
  "94": {
    "id": 94,
    "title": "Fibonacci",
    "content": "# \ud83c\udf00 Fibonacci Sequence\n\n## The Pattern\n\nEach number is the sum of the two before it:\n\n```\n0, 1, 1, 2, 3, 5, 8, 13, 21, 34, ...\n```\n\n- F(0) = 0\n- F(1) = 1\n- F(n) = F(n-1) + F(n-2)\n\n## Iterative Approach\n\n```python\ndef fibonacci(n):\n    fib = [0, 1]\n    for i in range(2, n):\n        fib.append(fib[-1] + fib[-2])\n    return fib[:n]\n```\n\n## Recursive Approach\n\n```python\ndef fib_recursive(n):\n    if n <= 1:\n        return n\n    return fib_recursive(n-1) + fib_recursive(n-2)\n```\n\n\u26a0\ufe0f Recursive is elegant but slow (O(2^n)) without memoization!\n\n## Where Fibonacci Appears\n\n- Nature: flower petals, pinecones, shells\n- Art: golden ratio\n- Computer science: algorithm analysis\n- Finance: Fibonacci retracements\n\n---\n\n## \ud83c\udfaf Your Task\n\nGenerate the first 8 Fibonacci numbers and print them.\n",
    "starter_code": "# Generate first 8 Fibonacci numbers\n",
    "solution_code": "# Generate first 8 Fibonacci numbers\nfib = [0, 1]\nfor i in range(6):\n    fib.append(fib[-1] + fib[-2])\n\nprint(fib)",
    "expected_output": "[0, 1, 1, 2, 3, 5, 8, 13]",
    "chapter_id": 12,
    "chapter_title": "Algorithms"
  },
  "95": {
    "id": 95,
    "title": "Mean (Average)",
    "content": "# \ud83d\udcca Mean (Average)\n\n## What is the Mean?\n\nThe **mean** (or average) is the sum of all values divided by the count:\n\n$$\\text{mean} = \\frac{\\sum x}{n}$$\n\nIn Python:\n```python\ndata = [10, 20, 30, 40, 50]\nmean = sum(data) / len(data)  # 30.0\n```\n\n## Why Use the Mean?\n\nThe mean represents the **\"typical\" value** in a dataset. It's the most common measure of central tendency.\n\n## Real-World Examples\n\n| Use Case | Example |\n| --- | --- |\n| Economics | Average income |\n| Sports | Player's batting average |\n| Weather | Average daily temperature |\n| Education | Class grade average |\n\n## \u26a0\ufe0f Sensitivity to Outliers\n\nThe mean can be **skewed by extreme values**:\n\n```python\nregular_salaries = [50000, 52000, 48000, 55000]\n# Mean: $51,250\n\nwith_ceo = [50000, 52000, 48000, 55000, 10000000]\n# Mean: $2,041,000 (not representative!)\n```\n\nFor data with outliers, consider using the **median** instead.\n\n---\n\n## \ud83c\udfaf Your Task\n\nCalculate the mean of `[10, 20, 30, 40, 50]` and print it.\n",
    "starter_code": "data = [10, 20, 30, 40, 50]\n\n# Calculate mean\n",
    "solution_code": "data = [10, 20, 30, 40, 50]\n\n# Calculate mean\nmean = sum(data) / len(data)\nprint(mean)",
    "expected_output": "30.0",
    "chapter_id": 13,
    "chapter_title": "Statistics"
  },
  "96": {
    "id": 96,
    "title": "Median",
    "content": "# \ud83d\udcca Median\n\n## What is the Median?\n\nThe **median** is the middle value when data is sorted:\n\n```python\nsorted_data = [1, 3, 3, 6, 7, 8, 9]\n                      ^\n# Median = 6 (the middle one)\n```\n\n## For Even-Length Lists\n\nTake the average of the two middle values:\n\n```python\n[1, 3, 6, 8]\n    ^  ^\n# Median = (3 + 6) / 2 = 4.5\n```\n\n## Calculating in Python\n\n```python\ndef median(data):\n    sorted_data = sorted(data)\n    n = len(data)\n    mid = n // 2\n    \n    if n % 2 == 0:  # Even length\n        return (sorted_data[mid-1] + sorted_data[mid]) / 2\n    else:           # Odd length\n        return sorted_data[mid]\n```\n\n## Median vs Mean\n\n| Measure | Affected by Outliers? | Best Use |\n| --- | --- | --- |\n| Mean | Yes | Symmetric data |\n| Median | No | Skewed data |\n\nExample: Median home prices are often reported instead of mean because a few mansions would skew the average.\n\n---\n\n## \ud83c\udfaf Your Task\n\nFind the median of `[3, 1, 4, 1, 5]` and print it.\n",
    "starter_code": "data = [3, 1, 4, 1, 5]\n\n# Sort and find median\n",
    "solution_code": "data = [3, 1, 4, 1, 5]\n\n# Sort and find median\nsorted_data = sorted(data)\nn = len(data)\nmedian = sorted_data[n // 2]\nprint(median)",
    "expected_output": "3",
    "chapter_id": 13,
    "chapter_title": "Statistics"
  },
  "97": {
    "id": 97,
    "title": "Mode",
    "content": "# \ud83d\udcca Mode\n\n## What is the Mode?\n\nThe **mode** is the value that appears most frequently:\n\n```python\ndata = [1, 2, 2, 3, 3, 3, 4]\n# Mode = 3 (appears 3 times)\n```\n\n## Using Counter\n\n```python\nfrom collections import Counter\n\ndata = [1, 2, 2, 3, 3, 3, 4]\ncounts = Counter(data)\n# Counter({3: 3, 2: 2, 1: 1, 4: 1})\n\nmode = counts.most_common(1)[0][0]  # 3\n```\n\n## Multiple Modes\n\nData can have:\n- **One mode** (unimodal)\n- **Two modes** (bimodal)\n- **Many modes** (multimodal)\n- **No mode** (all values equally frequent)\n\n## When to Use Mode\n\n- **Categorical data**: Most popular color, most common size\n- **Discrete data**: Most frequent score\n- **Finding trends**: Most common purchase amount\n\n---\n\n## \ud83c\udfaf Your Task\n\nFind the mode of `[1, 2, 2, 3, 3, 3, 4]` and print it.\n",
    "starter_code": "from collections import Counter\n\ndata = [1, 2, 2, 3, 3, 3, 4]\n\n# Find mode\n",
    "solution_code": "from collections import Counter\n\ndata = [1, 2, 2, 3, 3, 3, 4]\n\n# Find mode\ncounts = Counter(data)\nmode = counts.most_common(1)[0][0]\nprint(mode)",
    "expected_output": "3",
    "chapter_id": 13,
    "chapter_title": "Statistics"
  },
  "98": {
    "id": 98,
    "title": "Range",
    "content": "# \ud83d\udccf Range\n\n## What is the Range?\n\nThe **range** is the difference between the maximum and minimum values:\n\n$$\\text{range} = \\max - \\min$$\n\n```python\ndata = [5, 10, 15, 20, 25]\ndata_range = max(data) - min(data)  # 25 - 5 = 20\n```\n\n## What Range Tells Us\n\nRange measures the **spread** or **dispersion** of data:\n- **Small range**: Data is clustered together\n- **Large range**: Data is spread out\n\n## Example\n\n| Class A Test Scores | Class B Test Scores |\n| --- | --- |\n| 70, 72, 75, 78, 80 | 50, 65, 75, 85, 100 |\n| Range: 10 | Range: 50 |\n\nClass A has more consistent performance; Class B has more variation.\n\n## Limitations\n\n- Ignores values between min and max\n- Very sensitive to outliers\n- Only uses 2 data points\n\nFor a better measure of spread, use **standard deviation**.\n\n---\n\n## \ud83c\udfaf Your Task\n\nCalculate the range of `[5, 10, 15, 20, 25]` and print it.\n",
    "starter_code": "data = [5, 10, 15, 20, 25]\n\n# Calculate range\n",
    "solution_code": "data = [5, 10, 15, 20, 25]\n\n# Calculate range\ndata_range = max(data) - min(data)\nprint(data_range)",
    "expected_output": "20",
    "chapter_id": 13,
    "chapter_title": "Statistics"
  },
  "99": {
    "id": 99,
    "title": "Variance",
    "content": "# \ud83d\udcca Variance\n\n## What is Variance?\n\n**Variance** measures how spread out the data is from the mean. It's the average of squared differences from the mean:\n\n$$\\text{variance} = \\frac{\\sum (x - \\mu)^2}{n}$$\n\n## Step by Step Calculation\n\nFor data `[2, 4, 4, 4, 5, 5, 7, 9]`:\n\n1. **Find the mean**: (2+4+4+4+5+5+7+9) / 8 = 5\n\n2. **Calculate differences from mean**:\n   - 2 - 5 = -3\n   - 4 - 5 = -1\n   - etc.\n\n3. **Square the differences**: (-3)\u00b2 = 9, (-1)\u00b2 = 1, etc.\n\n4. **Average the squared differences**: Sum / count\n\n```python\nmean = sum(data) / len(data)\nvariance = sum((x - mean) ** 2 for x in data) / len(data)\n```\n\n## Why Square?\n\n- Treats positive and negative differences equally\n- Emphasizes larger differences\n\n## Population vs Sample Variance\n\n- **Population** (all data): divide by n\n- **Sample** (from a larger population): divide by (n-1)\n\n---\n\n## \ud83c\udfaf Your Task\n\nCalculate the variance of `[2, 4, 4, 4, 5, 5, 7, 9]` and print it rounded to 2 decimals.\n",
    "starter_code": "data = [2, 4, 4, 4, 5, 5, 7, 9]\n\n# Calculate variance\n",
    "solution_code": "data = [2, 4, 4, 4, 5, 5, 7, 9]\n\n# Calculate variance\nmean = sum(data) / len(data)\nvariance = sum((x - mean) ** 2 for x in data) / len(data)\nprint(round(variance, 2))",
    "expected_output": "4.0",
    "chapter_id": 13,
    "chapter_title": "Statistics"
  },
  "100": {
    "id": 100,
    "title": "Standard Deviation",
    "content": "# \ud83d\udcca Standard Deviation\n\n## What is Standard Deviation?\n\n**Standard deviation** is the square root of variance:\n\n$$\\sigma = \\sqrt{\\text{variance}}$$\n\nIt's in the **same units as the original data**, making it more interpretable than variance.\n\n## Calculation\n\n```python\nimport math\n\ndata = [2, 4, 4, 4, 5, 5, 7, 9]\nmean = sum(data) / len(data)\nvariance = sum((x - mean) ** 2 for x in data) / len(data)\nstd_dev = math.sqrt(variance)\n```\n\n## Interpreting Standard Deviation\n\nFor normally distributed data:\n- **68%** of values are within 1 std dev of mean\n- **95%** are within 2 std devs\n- **99.7%** are within 3 std devs\n\n## Example\n\nTest scores with mean=75, std_dev=10:\n- Most students (68%) score between 65-85\n- Nearly all (95%) score between 55-95\n\n## Low vs High Standard Deviation\n\n| Low std dev | High std dev |\n| --- | --- |\n| Data close to mean | Data spread out |\n| Consistent | Variable |\n\n---\n\n## \ud83c\udfaf Your Task\n\nCalculate the standard deviation of `[2, 4, 4, 4, 5, 5, 7, 9]` and print it rounded to 2 decimals.\n",
    "starter_code": "import math\n\ndata = [2, 4, 4, 4, 5, 5, 7, 9]\n\n# Calculate std dev\n",
    "solution_code": "import math\n\ndata = [2, 4, 4, 4, 5, 5, 7, 9]\n\n# Calculate std dev\nmean = sum(data) / len(data)\nvariance = sum((x - mean) ** 2 for x in data) / len(data)\nstd_dev = math.sqrt(variance)\nprint(round(std_dev, 2))",
    "expected_output": "2.0",
    "chapter_id": 13,
    "chapter_title": "Statistics"
  },
  "101": {
    "id": 101,
    "title": "Percentiles",
    "content": "# \ud83d\udcca Percentiles\n\n## What is a Percentile?\n\nA **percentile** indicates the value below which a given percentage of data falls.\n\n- **50th percentile**: 50% of data is below this value (this is the median!)\n- **75th percentile (Q3)**: 75% of data is below\n- **90th percentile**: \"Top 10%\" starts here\n\n## Common Percentiles\n\n| Percentile | Name | Meaning |\n| --- | --- | --- |\n| 25th | Q1 (First quartile) | Bottom quarter |\n| 50th | Q2 (Median) | Middle |\n| 75th | Q3 (Third quartile) | Top quarter |\n\n## Using NumPy\n\n```python\nimport numpy as np\n\ndata = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]\nnp.percentile(data, 25)   # First quartile\nnp.percentile(data, 50)   # Median\nnp.percentile(data, 75)   # Third quartile\nnp.percentile(data, 90)   # 90th percentile\n```\n\n## Real-World Uses\n\n- Test scores: \"You're in the 95th percentile\"\n- Growth charts: \"Baby is in the 75th percentile for weight\"\n- Performance reviews: \"Top 10% of performers\"\n\n---\n\n## \ud83c\udfaf Your Task\n\nFind the 75th percentile of `[1, 2, 3, 4, 5, 6, 7, 8, 9, 10]` and print it.\n",
    "starter_code": "import numpy as np\n\ndata = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]\n\n# Find 75th percentile\n",
    "solution_code": "import numpy as np\n\ndata = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]\n\n# Find 75th percentile\nresult = np.percentile(data, 75)\nprint(result)",
    "expected_output": "7.75",
    "chapter_id": 13,
    "chapter_title": "Statistics"
  },
  "102": {
    "id": 102,
    "title": "Correlation",
    "content": "# \ud83d\udcca Correlation\n\n## What is Correlation?\n\n**Correlation** measures the relationship between two variables. The **correlation coefficient (r)** ranges from -1 to +1.\n\n| Value | Meaning |\n| --- | --- |\n| +1 | Perfect positive correlation |\n| 0 | No correlation |\n| -1 | Perfect negative correlation |\n\n## Visual Examples\n\n- **Positive**: As X increases, Y increases (e.g., height and weight)\n- **Negative**: As X increases, Y decreases (e.g., speed and travel time)\n- **None**: No relationship (e.g., shoe size and IQ)\n\n## Using NumPy\n\n```python\nimport numpy as np\n\nx = [1, 2, 3, 4, 5]\ny = [2, 4, 6, 8, 10]\n\ncorrelation = np.corrcoef(x, y)[0, 1]\nprint(correlation)  # 1.0 (perfect positive)\n```\n\n## Correlation \u2260 Causation!\n\nJust because two variables are correlated doesn't mean one causes the other:\n- Ice cream sales and drowning deaths are correlated (both increase in summer)\n- But ice cream doesn't cause drowning!\n\n---\n\n## \ud83c\udfaf Your Task\n\nFind the correlation between x `[1, 2, 3, 4, 5]` and y `[2, 4, 6, 8, 10]`. Print it rounded to 1 decimal.\n",
    "starter_code": "import numpy as np\n\nx = [1, 2, 3, 4, 5]\ny = [2, 4, 6, 8, 10]\n\n# Calculate correlation\n",
    "solution_code": "import numpy as np\n\nx = [1, 2, 3, 4, 5]\ny = [2, 4, 6, 8, 10]\n\n# Calculate correlation\ncorr = np.corrcoef(x, y)[0, 1]\nprint(round(corr, 1))",
    "expected_output": "1.0",
    "chapter_id": 13,
    "chapter_title": "Statistics"
  },
  "103": {
    "id": 103,
    "title": "Z-Score",
    "content": "# \ud83d\udcca Z-Score\n\n## What is a Z-Score?\n\nA **Z-score** tells you how many standard deviations a value is from the mean:\n\n$$z = \\frac{x - \\mu}{\\sigma}$$\n\nWhere:\n- x = the value\n- \u03bc = mean\n- \u03c3 = standard deviation\n\n## Interpreting Z-Scores\n\n| Z-Score | Meaning |\n| --- | --- |\n| 0 | Exactly at the mean |\n| +1 | One std dev above mean |\n| +2 | Two std devs above mean (unusual) |\n| -1 | One std dev below mean |\n| +3 or higher | Very unusual (outlier) |\n\n## Example\n\nTest scores: mean = 75, std = 10\n\n- Score of 85: z = (85-75)/10 = **+1** (above average)\n- Score of 65: z = (65-75)/10 = **-1** (below average)\n- Score of 95: z = (95-75)/10 = **+2** (exceptional!)\n\n## Why Use Z-Scores?\n\n- Compare values from different distributions\n- Identify outliers (z > 3 or z < -3)\n- Standardize data for machine learning\n\n---\n\n## \ud83c\udfaf Your Task\n\nFor a distribution with mean=80 and std=10, calculate the z-score for value 90 and print it.\n",
    "starter_code": "scores = [70, 80, 90]\nvalue = 90\nmean = 80\nstd_dev = 10\n\n# Calculate z-score\n",
    "solution_code": "scores = [70, 80, 90]\nvalue = 90\nmean = 80\nstd_dev = 10\n\n# Calculate z-score\nz = (value - mean) / std_dev\nprint(z)",
    "expected_output": "1.0",
    "chapter_id": 13,
    "chapter_title": "Statistics"
  },
  "104": {
    "id": 104,
    "title": "Train/Test Split",
    "content": "# \ud83d\udd00 Train/Test Split\n\n## Why Split Data?\n\nWhen building a machine learning model, you need to:\n1. **Train** the model on part of your data\n2. **Test** it on unseen data to see if it generalizes\n\nIf you test on the same data you trained on, you might just be memorizing, not learning!\n\n## How It Works\n\n```python\nfrom sklearn.model_selection import train_test_split\n\nX_train, X_test, y_train, y_test = train_test_split(\n    X, y, \n    test_size=0.2,    # 20% for testing\n    random_state=42   # For reproducibility\n)\n```\n\n## Typical Splits\n\n| Training | Testing | Use Case |\n| --- | --- | --- |\n| 80% | 20% | Standard |\n| 70% | 30% | Smaller datasets |\n| 90% | 10% | Large datasets |\n\n## Why random_state?\n\nSetting `random_state` ensures the same split every time you run the code - essential for reproducible experiments!\n\n## The Data\n\n- **X**: Features (input variables)\n- **y**: Target (what you're predicting)\n- **X_train, y_train**: Used to train the model\n- **X_test, y_test**: Used to evaluate the model\n\n---\n\n## \ud83c\udfaf Your Task\n\nSplit X `[[1], [2], [3], [4], [5]]` and y `[1, 2, 3, 4, 5]` with 20% for testing (random_state=42). Print the number of training samples.\n",
    "starter_code": "from sklearn.model_selection import train_test_split\n\nX = [[1], [2], [3], [4], [5]]\ny = [1, 2, 3, 4, 5]\n\n# Split with random_state=42\n",
    "solution_code": "from sklearn.model_selection import train_test_split\n\nX = [[1], [2], [3], [4], [5]]\ny = [1, 2, 3, 4, 5]\n\n# Split with random_state=42\nX_train, X_test, y_train, y_test = train_test_split(X, y, test_size=0.2, random_state=42)\nprint(len(X_train))",
    "expected_output": "4",
    "chapter_id": 14,
    "chapter_title": "Machine Learning Intro"
  },
  "105": {
    "id": 105,
    "title": "Linear Regression",
    "content": "# \ud83d\udcc8 Linear Regression\n\n## What is Linear Regression?\n\n**Linear regression** finds the best straight line through your data. It's used to predict **continuous values** (like prices, temperatures, quantities).\n\n## The Line Equation\n\n$$y = mx + b$$\n\n- **m**: slope (how much y changes when x changes)\n- **b**: intercept (where the line crosses y-axis)\n\n## Using Scikit-Learn\n\n```python\nfrom sklearn.linear_model import LinearRegression\n\nmodel = LinearRegression()\nmodel.fit(X_train, y_train)  # Learn from data\npredictions = model.predict(X_test)  # Make predictions\n\n# See the learned parameters\nprint(model.coef_)       # Slope(s)\nprint(model.intercept_)  # Intercept\n```\n\n## When to Use\n\n- Predicting house prices from square footage\n- Estimating sales from advertising spend\n- Forecasting temperature from historical data\n\n## Assumptions\n\nLinear regression works best when:\n- Relationship is roughly linear\n- Data points are independent\n- Errors are normally distributed\n\n---\n\n## \ud83c\udfaf Your Task\n\nTrain a linear regression on X `[[1], [2], [3], [4], [5]]`, y `[2, 4, 6, 8, 10]` (y = 2x). Predict for X=6 and print the result.\n",
    "starter_code": "from sklearn.linear_model import LinearRegression\n\nX = [[1], [2], [3], [4], [5]]\ny = [2, 4, 6, 8, 10]\n\n# Train and predict for [[6]]\n",
    "solution_code": "from sklearn.linear_model import LinearRegression\n\nX = [[1], [2], [3], [4], [5]]\ny = [2, 4, 6, 8, 10]\n\n# Train and predict for [[6]]\nmodel = LinearRegression()\nmodel.fit(X, y)\nprediction = model.predict([[6]])\nprint(prediction[0])",
    "expected_output": "12.0",
    "chapter_id": 14,
    "chapter_title": "Machine Learning Intro"
  },
  "106": {
    "id": 106,
    "title": "Model Accuracy",
    "content": "# \ud83d\udcca Measuring Model Performance\n\n## Classification Accuracy\n\nFor classification problems, accuracy is the percentage of correct predictions:\n\n$$\\text{accuracy} = \\frac{\\text{correct predictions}}{\\text{total predictions}}$$\n\n```python\nfrom sklearn.metrics import accuracy_score\n\ny_true = [1, 0, 1, 1, 0]\ny_pred = [1, 0, 0, 1, 0]\n\naccuracy = accuracy_score(y_true, y_pred)\nprint(accuracy)  # 0.8 (80% correct)\n```\n\n## Interpreting Accuracy\n\n- **100%**: Perfect (suspicious - might be overfitting!)\n- **90%+**: Generally very good\n- **50%**: No better than random guessing (for binary classification)\n\n## Other Metrics\n\n| Metric | Best For |\n| --- | --- |\n| Accuracy | Balanced classes |\n| Precision | When false positives are costly |\n| Recall | When false negatives are costly |\n| F1-Score | Balance of precision and recall |\n\n## Why Accuracy Isn't Everything\n\nIf 99% of emails are not spam, a model that predicts \"not spam\" for everything gets 99% accuracy but is useless!\n\nAlways consider the **context** of your problem.\n\n---\n\n## \ud83c\udfaf Your Task\n\nCalculate accuracy for true `[1, 0, 1, 1, 0]` vs predicted `[1, 0, 0, 1, 0]` and print it.\n",
    "starter_code": "from sklearn.metrics import accuracy_score\n\ny_true = [1, 0, 1, 1, 0]\ny_pred = [1, 0, 0, 1, 0]\n\n# Calculate accuracy\n",
    "solution_code": "from sklearn.metrics import accuracy_score\n\ny_true = [1, 0, 1, 1, 0]\ny_pred = [1, 0, 0, 1, 0]\n\n# Calculate accuracy\nacc = accuracy_score(y_true, y_pred)\nprint(acc)",
    "expected_output": "0.8",
    "chapter_id": 14,
    "chapter_title": "Machine Learning Intro"
  },
  "107": {
    "id": 107,
    "title": "K-Nearest Neighbors",
    "content": "# \ud83c\udfaf K-Nearest Neighbors (KNN)\n\n## How KNN Works\n\nKNN classifies based on the **k closest training examples**:\n\n1. Pick a value for k (e.g., k=3)\n2. Find the k nearest data points to your new point\n3. Have them \"vote\" on the classification\n4. Majority wins!\n\n## Visual Example\n\n```\nClassifying ?: k=3\n\n    O   O\n  O   ?   X\n    X   X\n```\n\n3 nearest neighbors: 2 X's, 1 O \u2192 Classify as X\n\n## Using Scikit-Learn\n\n```python\nfrom sklearn.neighbors import KNeighborsClassifier\n\nknn = KNeighborsClassifier(n_neighbors=3)\nknn.fit(X_train, y_train)\npredictions = knn.predict(X_test)\n```\n\n## Choosing k\n\n| k Value | Effect |\n| --- | --- |\n| Small (e.g., 1) | Sensitive to noise |\n| Large (e.g., 15) | Smoother decision boundary |\n\n**Tip**: Try odd numbers to avoid ties!\n\n## Pros and Cons\n\n\u2705 Simple and intuitive\n\u2705 No training phase\n\u274c Slow for large datasets\n\u274c Sensitive to irrelevant features\n\n---\n\n## \ud83c\udfaf Your Task\n\nTrain KNN (k=3) on X `[[0], [1], [2], [3]]`, y `[0, 0, 1, 1]`. Predict for X=1.5 and print the result.\n",
    "starter_code": "from sklearn.neighbors import KNeighborsClassifier\n\nX = [[0], [1], [2], [3]]\ny = [0, 0, 1, 1]\n\n# Train and predict for [[1.5]]\n",
    "solution_code": "from sklearn.neighbors import KNeighborsClassifier\n\nX = [[0], [1], [2], [3]]\ny = [0, 0, 1, 1]\n\n# Train and predict for [[1.5]]\nknn = KNeighborsClassifier(n_neighbors=3)\nknn.fit(X, y)\npred = knn.predict([[1.5]])\nprint(pred[0])",
    "expected_output": "0",
    "chapter_id": 14,
    "chapter_title": "Machine Learning Intro"
  },
  "108": {
    "id": 108,
    "title": "Decision Tree",
    "content": "# \ud83c\udf33 Decision Trees\n\n## How Decision Trees Work\n\nA decision tree learns a series of if-then rules:\n\n```\nIs age > 30?\n\u251c\u2500\u2500 Yes: Is income > 50K?\n\u2502   \u251c\u2500\u2500 Yes: Approve loan\n\u2502   \u2514\u2500\u2500 No: Deny loan\n\u2514\u2500\u2500 No: Is credit good?\n    \u251c\u2500\u2500 Yes: Approve loan\n    \u2514\u2500\u2500 No: Deny loan\n```\n\n## Using Scikit-Learn\n\n```python\nfrom sklearn.tree import DecisionTreeClassifier\n\ntree = DecisionTreeClassifier()\ntree.fit(X_train, y_train)\npredictions = tree.predict(X_test)\n```\n\n## Why Decision Trees Are Popular\n\n\u2705 **Interpretable**: You can explain why a decision was made\n\u2705 **Handles both numeric and categorical data**\n\u2705 **Requires little data preprocessing**\n\u2705 **Can capture non-linear relationships**\n\n## Avoiding Overfitting\n\nUnrestricted trees can memorize training data:\n\n```python\n# Limit tree depth\ntree = DecisionTreeClassifier(max_depth=3)\n\n# Require minimum samples to split\ntree = DecisionTreeClassifier(min_samples_split=5)\n```\n\n## Visualizing Trees\n\n```python\nfrom sklearn.tree import plot_tree\nimport matplotlib.pyplot as plt\n\nplot_tree(tree, filled=True)\nplt.show()\n```\n\n---\n\n## \ud83c\udfaf Your Task\n\nTrain a DecisionTree on X `[[1, 2], [1, 4], [4, 2], [4, 4]]`, y `[0, 0, 1, 1]`. Predict for `[[2, 3]]` and print the result.\n",
    "starter_code": "from sklearn.tree import DecisionTreeClassifier\n\nX = [[1, 2], [1, 4], [4, 2], [4, 4]]\ny = [0, 0, 1, 1]\n\n# Train and predict\n",
    "solution_code": "from sklearn.tree import DecisionTreeClassifier\n\nX = [[1, 2], [1, 4], [4, 2], [4, 4]]\ny = [0, 0, 1, 1]\n\n# Train and predict\ntree = DecisionTreeClassifier(random_state=42)\ntree.fit(X, y)\npred = tree.predict([[2, 3]])\nprint(pred[0])",
    "expected_output": "0",
    "chapter_id": 14,
    "chapter_title": "Machine Learning Intro"
  },
  "109": {
    "id": 109,
    "title": "Feature Scaling",
    "content": "# \u2696\ufe0f Feature Scaling\n\n## Why Scale Features?\n\nMany algorithms perform poorly when features have different scales:\n\n```\nFeature 1: Age (range 0-100)\nFeature 2: Income (range 0-1,000,000)\n```\n\nWithout scaling, income dominates distance calculations!\n\n## StandardScaler\n\nTransforms data to have **mean=0** and **std=1**:\n\n```python\nfrom sklearn.preprocessing import StandardScaler\n\nscaler = StandardScaler()\nX_scaled = scaler.fit_transform(X)\n\n# Mean is now ~0, std is now ~1\nprint(X_scaled.mean())  # Very close to 0\nprint(X_scaled.std())   # Very close to 1\n```\n\n## Other Scalers\n\n| Scaler | Range | Use Case |\n| --- | --- | --- |\n| StandardScaler | Mean=0, Std=1 | Most algorithms |\n| MinMaxScaler | 0 to 1 | Neural networks |\n| RobustScaler | Based on median | Outliers present |\n\n## Algorithms That Need Scaling\n\n- K-Nearest Neighbors (distance-based)\n- SVM (distance-based)\n- Neural Networks\n- Linear Regression (for interpretation)\n\n## Algorithms That Don't Need Scaling\n\n- Decision Trees\n- Random Forests\n- XGBoost\n\n---\n\n## \ud83c\udfaf Your Task\n\nScale `[[1, 100], [2, 200], [3, 300]]` using StandardScaler and print the mean of the scaled data (should be ~0).\n",
    "starter_code": "from sklearn.preprocessing import StandardScaler\nimport numpy as np\n\nX = [[1, 100], [2, 200], [3, 300]]\n\n# Scale and print mean\n",
    "solution_code": "from sklearn.preprocessing import StandardScaler\nimport numpy as np\n\nX = [[1, 100], [2, 200], [3, 300]]\n\n# Scale and print mean\nscaler = StandardScaler()\nX_scaled = scaler.fit_transform(X)\nprint(round(np.mean(X_scaled), 1))",
    "expected_output": "0.0",
    "chapter_id": 14,
    "chapter_title": "Machine Learning Intro"
  },
  "110": {
    "id": 110,
    "title": "Cross Validation",
    "content": "# \ud83d\udd04 Cross Validation\n\n## Why Cross Validate?\n\nA single train/test split might be lucky or unlucky. **Cross validation** gives more reliable performance estimates.\n\n## K-Fold Cross Validation\n\n1. Split data into k equal parts (folds)\n2. Train on k-1 folds, test on remaining fold\n3. Repeat k times, each fold being the test set once\n4. Average the results!\n\n```\nFold 1: [Test] [Train] [Train] [Train] [Train]\nFold 2: [Train] [Test] [Train] [Train] [Train]\nFold 3: [Train] [Train] [Test] [Train] [Train]\nFold 4: [Train] [Train] [Train] [Test] [Train]\nFold 5: [Train] [Train] [Train] [Train] [Test]\n```\n\n## Using Scikit-Learn\n\n```python\nfrom sklearn.model_selection import cross_val_score\n\nscores = cross_val_score(model, X, y, cv=5)\nprint(f\"Scores: {scores}\")\nprint(f\"Mean: {scores.mean():.2f}\")\nprint(f\"Std: {scores.std():.2f}\")\n```\n\n## Choosing k\n\n- **k=5 or k=10**: Most common, good balance\n- **k=n (Leave-One-Out)**: Maximum data for training, but expensive\n\n---\n\n## \ud83c\udfaf Your Task\n\nUse 3-fold cross validation on LinearRegression with X `[[1], [2], [3], [4], [5], [6]]`, y `[1, 2, 3, 4, 5, 6]`. Print the mean score rounded to 2 decimals.\n",
    "starter_code": "from sklearn.model_selection import cross_val_score\nfrom sklearn.linear_model import LinearRegression\n\nX = [[1], [2], [3], [4], [5], [6]]\ny = [1, 2, 3, 4, 5, 6]\n\n# Cross validation\n",
    "solution_code": "from sklearn.model_selection import cross_val_score\nfrom sklearn.linear_model import LinearRegression\n\nX = [[1], [2], [3], [4], [5], [6]]\ny = [1, 2, 3, 4, 5, 6]\n\n# Cross validation\nmodel = LinearRegression()\nscores = cross_val_score(model, X, y, cv=3)\nprint(round(scores.mean(), 2))",
    "expected_output": "1.0",
    "chapter_id": 14,
    "chapter_title": "Machine Learning Intro"
  },
  "111": {
    "id": 111,
    "title": "Confusion Matrix",
    "content": "# \ud83d\udcca Confusion Matrix\n\n## What is a Confusion Matrix?\n\nA table showing the breakdown of predictions vs actual values:\n\n```\n                Predicted\n              |  0  |  1  |\nActual   0    | TN  | FP  |\n         1    | FN  | TP  |\n```\n\n- **TN (True Negative)**: Correctly predicted negative\n- **TP (True Positive)**: Correctly predicted positive\n- **FP (False Positive)**: Wrongly predicted positive (Type I error)\n- **FN (False Negative)**: Wrongly predicted negative (Type II error)\n\n## Using Scikit-Learn\n\n```python\nfrom sklearn.metrics import confusion_matrix\n\ny_true = [0, 0, 1, 1]\ny_pred = [0, 1, 1, 1]\n\ncm = confusion_matrix(y_true, y_pred)\nprint(cm)\n# [[1 1]\n#  [0 2]]\n```\n\n## Reading the Matrix\n\n```\n[[1 1]     TN=1, FP=1\n [0 2]]    FN=0, TP=2\n```\n\n- 1 true negative (correctly said 0)\n- 1 false positive (said 1, was actually 0)\n- 0 false negatives\n- 2 true positives\n\n## Derived Metrics\n\n- **Precision**: TP / (TP + FP) - How accurate are positive predictions?\n- **Recall**: TP / (TP + FN) - How many positives did we catch?\n\n---\n\n## \ud83c\udfaf Your Task\n\nCreate a confusion matrix for true `[0, 0, 1, 1]` vs predicted `[0, 1, 1, 1]` and print it.\n",
    "starter_code": "from sklearn.metrics import confusion_matrix\n\ny_true = [0, 0, 1, 1]\ny_pred = [0, 1, 1, 1]\n\n# Print confusion matrix\n",
    "solution_code": "from sklearn.metrics import confusion_matrix\n\ny_true = [0, 0, 1, 1]\ny_pred = [0, 1, 1, 1]\n\n# Print confusion matrix\ncm = confusion_matrix(y_true, y_pred)\nprint(cm)",
    "expected_output": "[[1 1]\n [0 2]]",
    "chapter_id": 14,
    "chapter_title": "Machine Learning Intro"
  },
  "112": {
    "id": 112,
    "title": "Complete ML Pipeline",
    "content": "# \ud83c\udfaf Putting It All Together\n\n## The Machine Learning Workflow\n\nA typical ML project follows these steps:\n\n```\n1. Understand the problem\n2. Prepare the data\n3. Choose a model\n4. Train the model\n5. Evaluate performance\n6. Tune and improve\n7. Deploy\n```\n\n## A Simple Pipeline\n\n```python\n# 1. Load data\nX = [[1], [2], [3], [4]]\ny = [0, 0, 1, 1]\n\n# 2. Split data\nfrom sklearn.model_selection import train_test_split\nX_train, X_test, y_train, y_test = train_test_split(X, y)\n\n# 3. Choose and train model\nfrom sklearn.neighbors import KNeighborsClassifier\nmodel = KNeighborsClassifier(n_neighbors=1)\nmodel.fit(X_train, y_train)\n\n# 4. Make predictions\npredictions = model.predict(X_test)\n\n# 5. Evaluate\nfrom sklearn.metrics import accuracy_score\nprint(accuracy_score(y_test, predictions))\n```\n\n## Tips for Success\n\n- **Start simple**: Try a basic model first\n- **Iterate**: Improve gradually based on results\n- **Validate properly**: Use cross-validation\n- **Understand your data**: Visualization helps!\n\n---\n\n## \ud83c\udfaf Your Task\n\nBuild a complete classifier: Create data X `[[1], [2], [3], [4]]`, y `[0, 0, 1, 1]`. Train KNeighborsClassifier (k=1) and predict for X=2.5. Print the prediction.\n",
    "starter_code": "from sklearn.neighbors import KNeighborsClassifier\n\nX = [[1], [2], [3], [4]]\ny = [0, 0, 1, 1]\n\n# Complete pipeline\n",
    "solution_code": "from sklearn.neighbors import KNeighborsClassifier\n\nX = [[1], [2], [3], [4]]\ny = [0, 0, 1, 1]\n\n# Complete pipeline\nmodel = KNeighborsClassifier(n_neighbors=1)\nmodel.fit(X, y)\nprediction = model.predict([[2.5]])\nprint(prediction[0])",
    "expected_output": "0",
    "chapter_id": 14,
    "chapter_title": "Machine Learning Intro"
  },
  "113": {
    "id": 113,
    "title": "\ud83d\udc80 FINAL BOSS: Full Stack Data Scientist",
    "content": "# \ud83d\udc80 FINAL BOSS: The Full Stack Data Scientist\n\nCongratulations on making it this far! You've mastered Python fundamentals, data manipulation, visualization, statistics, and machine learning. Now it's time to prove your skills by building a **complete end-to-end data science pipeline**.\n\n---\n\n## \ud83c\udfc6 The Ultimate Challenge\n\nYou are a data scientist at a real estate company. Your task is to build a **house price prediction model** using the skills you've learned throughout this course.\n\n## \ud83d\udccb Your Mission\n\nComplete ALL of the following steps:\n\n### Step 1: Create the Dataset\nGenerate synthetic house data with:\n- **Features**: House size (square feet)\n- **Target**: House price (with some realistic noise)\n- Use `np.random.seed(42)` for reproducibility\n\n### Step 2: Explore the Data\nCalculate and print basic statistics:\n- Mean and standard deviation of house sizes\n- Mean and standard deviation of house prices\n\n### Step 3: Split the Data\nUse `train_test_split` to create:\n- 80% training data\n- 20% test data\n- Use `random_state=42`\n\n### Step 4: Train a Model\n- Create a `LinearRegression` model\n- Fit it on the training data\n\n### Step 5: Evaluate Performance\n- Make predictions on test data\n- Calculate and print the R\u00b2 score\n- Make a price prediction for a 2000 sqft house\n\n### Step 6: Celebrate! \ud83c\udf89\nPrint a congratulations message!\n\n---\n\n## \ud83d\udcca Expected Output Format\n\nYour output should look like this:\n```\nSize: mean=XXXX, std=XXX\nPrice: mean=XXXXXX, std=XXXXX\n\nModel R\u00b2 Score: 0.XXXX\nPrice prediction for 2000 sqft: $XXX,XXX\n\n\ud83c\udf89 CONGRATULATIONS! You've completed the course!\n```\n\n---\n\n## \ud83d\udca1 Hints\n\n- Import: `numpy`, `train_test_split`, `LinearRegression`, `r2_score`\n- Use `.reshape(-1, 1)` to make arrays 2D for sklearn\n- Use f-strings with formatting: `f\"{value:.2f}\"` for 2 decimals\n- Use `{value:,.0f}` for comma-separated numbers\n\n---\n\n## \ud83c\udfaf Complete the Pipeline Below\n\n\n> [!TIP]\n> **Verification Tip**: We've set `np.random.seed(42)` so your random dataset matches the answer key perfectly.",
    "starter_code": "np.random.seed(42)  # \ud83d\udd12 Fixed seed for verification\nimport numpy as np\nfrom sklearn.model_selection import train_test_split\nfrom sklearn.linear_model import LinearRegression\nfrom sklearn.metrics import r2_score\n\n# Step 1: Create the Dataset\n# Generate 100 houses with sizes between 500-3000 sqft\n# Price = size * 100 + random noise\n\n\n# Step 2: Explore the Data\n# Print mean and std for size and price\n\n\n# Step 3: Split the Data (80/20 split)\n\n\n# Step 4: Train a Linear Regression Model\n\n\n# Step 5: Evaluate - Calculate R\u00b2 and predict for 2000 sqft\n\n\n# Step 6: Print congratulations message\n",
    "solution_code": "import numpy as np\nfrom sklearn.model_selection import train_test_split\nfrom sklearn.linear_model import LinearRegression\nfrom sklearn.metrics import r2_score\n\n# Step 1: Create the Dataset\nnp.random.seed(42)\nsize = np.random.randint(500, 3000, 100).reshape(-1, 1)\nprice = size * 100 + np.random.normal(0, 10000, (100, 1))\n\n# Step 2: Explore the Data\nprint(f\"Size: mean={size.mean():.0f}, std={size.std():.0f}\")\nprint(f\"Price: mean={price.mean():.0f}, std={price.std():.0f}\")\n\n# Step 3: Split the Data (80/20 split)\nX_train, X_test, y_train, y_test = train_test_split(\n    size, price, test_size=0.2, random_state=42\n)\n\n# Step 4: Train a Linear Regression Model\nmodel = LinearRegression()\nmodel.fit(X_train, y_train)\n\n# Step 5: Evaluate - Calculate R\u00b2 and predict for 2000 sqft\ny_pred = model.predict(X_test)\nr2 = r2_score(y_test, y_pred)\nprint(f\"\\nModel R\u00b2 Score: {r2:.4f}\")\nprint(f\"Price prediction for 2000 sqft: ${model.predict([[2000]])[0][0]:,.0f}\")\n\n# Step 6: Print congratulations message\nprint(\"\\n\ud83c\udf89 CONGRATULATIONS! You've completed the course!\")",
    "expected_output": "Size: mean=1716, std=712\nPrice: mean=171620, std=71218\n\nModel R\u00b2 Score: 0.9808\nPrice prediction for 2000 sqft: $199,917\n\n\ud83c\udf89 CONGRATULATIONS! You've completed the course!",
    "chapter_id": 101,
    "chapter_title": "Final Boss: Data Scientist"
  },
  "114": {
    "id": 114,
    "title": "NumPy Introduction",
    "chapter_id": 95,
    "chapter_title": "NumPy Fundamentals",
    "content": "# \ud83d\udd22 Introduction to NumPy\n\n## Definition\n**NumPy** (Numerical Python) is a powerful library that provides support for large, multi-dimensional arrays and matrices, along with a collection of mathematical functions to operate on them.\n\n## Why Do We Need NumPy?\n\nImagine you have a list of 1 million numbers and need to multiply each by 2. With regular Python lists, you'd need a loop that runs 1 million times. With NumPy, it's a single operation that runs 50x faster!\n\n## Real-World Analogy\n\nThink of NumPy arrays like a **spreadsheet column**:\n- All values are the same type (all numbers)\n- You can apply formulas to the entire column at once\n- Operations are optimized for speed\n\n## NumPy vs Python Lists\n\n| Feature | Python List | NumPy Array |\n| --- | --- | --- |\n| Speed | Slow (loops required) | **50x faster** |\n| Memory | Uses more RAM | **Efficient storage** |\n| Math Operations | Manual loops | **Vectorized (instant)** |\n| Data Types | Mixed allowed | Same type only |\n\n## How to Create Arrays\n\n```python\nimport numpy as np\n\n# From a Python list\narr = np.array([1, 2, 3, 4, 5])\nprint(arr)  # [1 2 3 4 5]\n\n# Special arrays\nzeros = np.zeros(5)       # [0. 0. 0. 0. 0.]\nones = np.ones(3)         # [1. 1. 1.]\nrange_arr = np.arange(0, 10, 2)  # [0 2 4 6 8]\n```\n\n## Key Vocabulary\n\n| Term | Meaning |\n| --- | --- |\n| **Array** | NumPy's main data structure - a grid of values |\n| **Vectorization** | Applying operations to entire arrays at once |\n| **Dimension** | The number of axes (1D = list, 2D = table) |\n\n---\n\n## \ud83c\udfaf Your Task\n\nCreate a NumPy array containing the numbers `10, 20, 30, 40, 50` and print it.\n\n**Hint**: Use `np.array([...])` with your numbers inside the brackets.\n",
    "starter_code": "import numpy as np\n\n# Create an array with 10, 20, 30, 40, 50\n",
    "solution_code": "import numpy as np\n\n# Create an array with 10, 20, 30, 40, 50\narr = np.array([10, 20, 30, 40, 50])\nprint(arr)",
    "expected_output": "[10 20 30 40 50]",
    "order": 1
  },
  "115": {
    "id": 115,
    "title": "Vectorized Operations",
    "chapter_id": 95,
    "chapter_title": "NumPy Fundamentals",
    "content": "# \u26a1 Vectorized Operations\n\n## Definition\n**Vectorization** means applying an operation to an entire array at once, without writing loops. This is NumPy's superpower!\n\n## Why Vectorization Matters\n\nIn regular Python:\n```python\nnumbers = [1, 2, 3, 4, 5]\ndoubled = []\nfor n in numbers:\n    doubled.append(n * 2)  # Slow loop!\n# doubled = [2, 4, 6, 8, 10]\n```\n\nWith NumPy (vectorized):\n```python\nimport numpy as np\narr = np.array([1, 2, 3, 4, 5])\ndoubled = arr * 2  # Instant! No loop needed!\n# [2 4 6 8 10]\n```\n\n## Real-World Analogy\n\nImagine you're a teacher grading tests:\n- **Loop way**: Grade one test, write score, pick up next test, repeat 100 times\n- **Vectorized way**: Use a grading machine that scores all 100 tests at once!\n\n## All Math Operations Work!\n\n```python\narr = np.array([10, 20, 30])\n\narr + 5    # [15 25 35]  - Add 5 to each\narr - 5    # [ 5 15 25]  - Subtract 5 from each\narr * 2    # [20 40 60]  - Multiply each by 2\narr / 10   # [1. 2. 3.]  - Divide each by 10\narr ** 2   # [100 400 900] - Square each\n```\n\n## Array-to-Array Operations\n\nYou can also operate on two arrays element-by-element:\n\n```python\na = np.array([1, 2, 3])\nb = np.array([4, 5, 6])\n\na + b  # [5, 7, 9]\na * b  # [4, 10, 18]\n```\n\n## Key Vocabulary\n\n| Term | Meaning |\n| --- | --- |\n| **Element-wise** | Operation applied to each element individually |\n| **Broadcasting** | NumPy's ability to work with different-sized arrays |\n| **Scalar** | A single number (like 5 or 2.5) |\n\n---\n\n## \ud83c\udfaf Your Task\n\nCreate an array `[2, 4, 6, 8]` and multiply every element by 3. Print the result.\n\n**Expected output**: `[ 6 12 18 24]`\n",
    "starter_code": "import numpy as np\n\n# Create array and multiply by 3\n",
    "solution_code": "import numpy as np\n\narr = np.array([2, 4, 6, 8])\nresult = arr * 3\nprint(result)",
    "expected_output": "[ 6 12 18 24]",
    "order": 2
  },
  "116": {
    "id": 116,
    "title": "Boolean Indexing",
    "chapter_id": 95,
    "chapter_title": "NumPy Fundamentals",
    "content": "# \ud83c\udfaf Array Indexing & Boolean Filtering\n\n## Definition\n**Indexing** lets you access specific elements. **Boolean filtering** lets you select elements that match a condition\u2014this is one of NumPy's most powerful features!\n\n## Basic Indexing (Like Lists)\n\n```python\nimport numpy as np\narr = np.array([10, 20, 30, 40, 50])\n\narr[0]     # 10 (first element)\narr[-1]    # 50 (last element)\narr[1:4]   # [20 30 40] (slice from index 1 to 3)\narr[::2]   # [10 30 50] (every other element)\n```\n\n## Boolean Filtering (The Magic!)\n\nThe real power: select elements that match a condition!\n\n```python\narr = np.array([15, 25, 35, 45, 55])\n\n# Get all elements greater than 30\nbig = arr[arr > 30]  # [35 45 55]\n\n# Get all even elements\narr = np.array([1, 2, 3, 4, 5, 6])\nevens = arr[arr % 2 == 0]  # [2 4 6]\n```\n\n## Real-World Analogy\n\nThink of boolean filtering like a **coffee filter**:\n- You pour in a mix of coffee and water (your array)\n- The filter only lets through what matches the criteria (the coffee!)\n- Everything else stays behind\n\n## How It Works Under the Hood\n\n```python\narr = np.array([10, 20, 30, 40])\n\n# Step 1: Create a boolean mask\nmask = arr > 25  # [False, False, True, True]\n\n# Step 2: Use mask to filter\nresult = arr[mask]  # [30, 40]\n```\n\n## Key Vocabulary\n\n| Term | Meaning |\n| --- | --- |\n| **Index** | Position of an element (starts at 0) |\n| **Slice** | A range of elements (like `arr[1:4]`) |\n| **Boolean Mask** | An array of True/False values used for filtering |\n\n---\n\n## \ud83c\udfaf Your Task\n\nGiven the array `[5, 10, 15, 20, 25, 30]`, use boolean indexing to get only values greater than 15. Print the result.\n\n**Expected output**: `[20 25 30]`\n",
    "starter_code": "import numpy as np\n\narr = np.array([5, 10, 15, 20, 25, 30])\n\n# Get values > 15\n",
    "solution_code": "import numpy as np\n\narr = np.array([5, 10, 15, 20, 25, 30])\nresult = arr[arr > 15]\nprint(result)",
    "expected_output": "[20 25 30]",
    "order": 3
  },
  "117": {
    "id": 117,
    "title": "Broadcasting",
    "chapter_id": 95,
    "chapter_title": "NumPy Fundamentals",
    "content": "# \ud83d\udce1 Broadcasting\n\n## Definition\n**Broadcasting** is NumPy's ability to perform operations on arrays of different shapes. It \"broadcasts\" the smaller array across the larger one.\n\n## Why Broadcasting is Powerful\n\nWithout broadcasting, you'd need matching array sizes. With broadcasting, NumPy automatically expands the smaller array:\n\n```python\nimport numpy as np\n\n# Add a scalar to every element (scalar broadcasts)\narr = np.array([1, 2, 3, 4, 5])\nresult = arr + 10  # [11, 12, 13, 14, 15]\n```\n\n## Real-World Analogy\n\nImagine you're giving everyone in a class a $5 bonus:\n- **Without broadcasting**: Write \"$5\" on 30 separate sticky notes\n- **With broadcasting**: Announce \"$5 for everyone!\" once\n\n## Practical Example: Centering Data\n\nA common data science task is \"centering\" data\u2014subtracting the mean so the new mean is 0:\n\n```python\ndata = np.array([100, 200, 300, 400, 500])\n\n# Calculate the mean\nmean = np.mean(data)  # 300.0\n\n# Subtract mean from ALL elements (broadcasting!)\ncentered = data - mean\n# [-200. -100.    0.  100.  200.]\n\n# Now the mean is 0!\nprint(np.mean(centered))  # 0.0\n```\n\n## 2D Broadcasting\n\nBroadcasting works with matrices too:\n\n```python\nmatrix = np.array([[1, 2, 3],\n                   [4, 5, 6],\n                   [7, 8, 9]])\n\n# Add 10 to every element\nresult = matrix + 10\n# [[11 12 13]\n#  [14 15 16]\n#  [17 18 19]]\n```\n\n## Key Vocabulary\n\n| Term | Meaning |\n| --- | --- |\n| **Broadcasting** | Automatic expansion of arrays for operations |\n| **Centering** | Subtracting the mean from all values |\n| **Normalization** | Scaling data to a standard range |\n\n---\n\n## \ud83c\udfaf Your Task\n\nGiven `[10, 20, 30, 40, 50]`:\n1. Calculate its mean using `np.mean()`\n2. Subtract the mean from the array (centering it)\n3. Print the centered array\n\n**Expected output**: `[-20. -10.   0.  10.  20.]`\n",
    "starter_code": "import numpy as np\n\ndata = np.array([10, 20, 30, 40, 50])\n\n# Calculate mean and center\n",
    "solution_code": "import numpy as np\n\ndata = np.array([10, 20, 30, 40, 50])\nmean = np.mean(data)\ncentered = data - mean\nprint(centered)",
    "expected_output": "[-20. -10.   0.  10.  20.]",
    "order": 4
  },
  "118": {
    "id": 118,
    "title": "NumPy Statistics",
    "chapter_id": 95,
    "chapter_title": "NumPy Fundamentals",
    "content": "# \ud83d\udcca NumPy Statistical Functions\n\n## Definition\nNumPy provides fast, built-in functions for common statistical calculations\u2014no loops required!\n\n## Why Use NumPy for Statistics?\n\n| Pure Python | NumPy |\n| --- | --- |\n| `sum(my_list)` | `np.sum(arr)` \u2190 **10x faster** |\n| Manual loop for mean | `np.mean(arr)` \u2190 **One line** |\n| No built-in std | `np.std(arr)` \u2190 **Instant** |\n\n## Common Statistical Functions\n\n```python\nimport numpy as np\narr = np.array([10, 20, 30, 40, 50])\n\nnp.sum(arr)    # 150 - Total of all elements\nnp.mean(arr)   # 30.0 - Average\nnp.std(arr)    # 14.14 - Standard deviation\nnp.min(arr)    # 10 - Minimum value\nnp.max(arr)    # 50 - Maximum value\nnp.median(arr) # 30.0 - Middle value\n```\n\n## Real-World Analogy\n\nThink of NumPy stats like a **calculator with special buttons**:\n- Instead of typing `10 + 20 + 30 + 40 + 50 =` then `\u00f7 5 =`\n- Just press the **MEAN** button and it does everything!\n\n## Aggregation on 2D Arrays\n\nFor matrices, you can aggregate along axes:\n\n```python\nmatrix = np.array([[1, 2, 3],\n                   [4, 5, 6]])\n\nnp.sum(matrix)           # 21 (all elements)\nnp.sum(matrix, axis=0)   # [5, 7, 9] (sum each column)\nnp.sum(matrix, axis=1)   # [6, 15] (sum each row)\n```\n\n## Key Vocabulary\n\n| Term | Meaning |\n| --- | --- |\n| **Aggregation** | Combining values into a single result |\n| **Axis** | The direction of operation (0=columns, 1=rows) |\n| **Reduction** | Operations that reduce array size (like sum) |\n\n---\n\n## \ud83c\udfaf Your Task\n\nCreate an array `[100, 200, 300, 400, 500]` and print:\n1. The sum\n2. The mean  \n3. The maximum\n\nPrint each value on a new line.\n",
    "starter_code": "import numpy as np\n\narr = np.array([100, 200, 300, 400, 500])\n\n# Print sum, mean, max\n",
    "solution_code": "import numpy as np\n\narr = np.array([100, 200, 300, 400, 500])\nprint(np.sum(arr))\nprint(np.mean(arr))\nprint(np.max(arr))",
    "expected_output": "1500\n300.0\n500",
    "order": 5
  },
  "119": {
    "id": 119,
    "title": "Handling Missing Data",
    "chapter_id": 96,
    "chapter_title": "Data Cleaning",
    "content": "# \ud83e\uddf9 Handling Missing Data with dropna()\n\n## Definition\n**Missing data** appears in real datasets as `NaN` (Not a Number) or `None`. The `dropna()` method removes rows containing missing values.\n\n## Why Missing Data Matters\n\nReal-world data is messy! Surveys have unanswered questions, sensors malfunction, data entry has errors. You must handle missing values before analysis, or your calculations will be wrong.\n\n## Real-World Analogy\n\nThink of a class attendance sheet:\n- Some students forgot to sign in (missing data!)\n- If you count only signed rows, you get accurate attendance\n- `dropna()` is like only counting the complete rows\n\n## Detecting Missing Values\n\n```python\nimport pandas as pd\n\ndf = pd.DataFrame({\n    'name': ['Alice', 'Bob', None],\n    'age': [25, None, 30]\n})\n\n# Check for missing values\nprint(df.isnull())\n#     name    age\n# 0  False  False\n# 1  False   True\n# 2   True  False\n\n# Count missing per column\nprint(df.isnull().sum())\n# name    1\n# age     1\n```\n\n## Using dropna()\n\n```python\n# Drop rows with ANY missing value\ndf_clean = df.dropna()\n\n# Drop rows only if ALL values are missing\ndf_clean = df.dropna(how='all')\n\n# Drop based on specific column\ndf_clean = df.dropna(subset=['age'])\n```\n\n## Key Vocabulary\n\n| Term | Meaning |\n| --- | --- |\n| **NaN** | \"Not a Number\" - represents missing data |\n| **dropna()** | Method to remove rows with missing values |\n| **isnull()** | Method to detect missing values (returns True/False) |\n\n---\n\n## \ud83c\udfaf Your Task\n\nGiven a DataFrame with missing values in 'product' and 'price' columns, use `dropna()` to remove rows with any missing data. Print the cleaned DataFrame.\n",
    "starter_code": "import pandas as pd\n\ndf = pd.DataFrame({\n    'product': ['Apple', 'Banana', None, 'Orange'],\n    'price': [1.0, 0.5, 0.75, None]\n})\n\n# Drop rows with missing values\n",
    "solution_code": "import pandas as pd\n\ndf = pd.DataFrame({\n    'product': ['Apple', 'Banana', None, 'Orange'],\n    'price': [1.0, 0.5, 0.75, None]\n})\nclean_df = df.dropna()\nprint(clean_df)",
    "expected_output": "  product  price\n0   Apple    1.0\n1  Banana    0.5",
    "order": 1
  },
  "120": {
    "id": 120,
    "title": "Filling Missing Values",
    "chapter_id": 96,
    "chapter_title": "Data Cleaning",
    "content": "# \ud83d\udd27 Filling Missing Values with fillna()\n\n## Definition\n**fillna()** replaces missing values with a specified value instead of dropping the entire row. This preserves more data!\n\n## Why Fill Instead of Drop?\n\n| Situation | Best Approach |\n| --- | --- |\n| Few missing values | Fill with mean/median |\n| Categorical data | Fill with mode or \"Unknown\" |\n| Time series | Forward/backward fill |\n| Critical analysis | Drop (if you need complete data) |\n\n## Real-World Analogy\n\nImagine a survey where some people skipped the age question:\n- **Drop approach**: Throw away their entire survey (loses data!)\n- **Fill approach**: Estimate their age from the average (preserves other answers)\n\n## Filling Strategies\n\n```python\nimport pandas as pd\n\ndf = pd.DataFrame({\n    'score': [85, None, 90, None, 75]\n})\n\n# Fill with a specific value\ndf['score'].fillna(0)  # Replace None with 0\n\n# Fill with the mean\nmean_score = df['score'].mean()  # 83.33\ndf['score'].fillna(mean_score)\n\n# Fill with the median (good for outliers)\ndf['score'].fillna(df['score'].median())\n\n# Forward fill (use previous value)\ndf['score'].fillna(method='ffill')\n\n# Backward fill (use next value)\ndf['score'].fillna(method='bfill')\n```\n\n## Key Vocabulary\n\n| Term | Meaning |\n| --- | --- |\n| **fillna()** | Method to replace NaN with a value |\n| **Imputation** | The process of replacing missing values |\n| **Forward fill** | Copy the previous valid value |\n\n---\n\n## \ud83c\udfaf Your Task\n\nGiven a DataFrame with missing scores, calculate the mean of existing scores and use `fillna()` to replace missing values with that mean. Print the result.\n",
    "starter_code": "import pandas as pd\n\ndf = pd.DataFrame({\n    'student': ['Alice', 'Bob', 'Carol', 'David'],\n    'score': [80.0, None, 90.0, None]\n})\n\n# Fill missing with mean\n",
    "solution_code": "import pandas as pd\n\ndf = pd.DataFrame({\n    'student': ['Alice', 'Bob', 'Carol', 'David'],\n    'score': [80.0, None, 90.0, None]\n})\nmean_score = df['score'].mean()\ndf['score'] = df['score'].fillna(mean_score)\nprint(df)",
    "expected_output": "  student  score\n0   Alice   80.0\n1     Bob   85.0\n2   Carol   90.0\n3   David   85.0",
    "order": 2
  },
  "121": {
    "id": 121,
    "title": "Removing Duplicates",
    "chapter_id": 96,
    "chapter_title": "Data Cleaning",
    "content": "# \ud83d\uddd1\ufe0f Removing Duplicates with drop_duplicates()\n\n## Definition\n**Duplicate rows** are exact copies of other rows. `drop_duplicates()` removes them, keeping only unique rows.\n\n## Why Duplicates Are Dangerous\n\nDuplicates can:\n- **Skew averages**: Count the same person twice = wrong average\n- **Inflate counts**: \"100 customers\" might really be 80 unique people\n- **Waste memory**: Storing the same data multiple times\n\n## Real-World Analogy\n\nImagine a guest list where some people RSVP'd multiple times:\n- Without removing duplicates, you'd order too much food!\n- `drop_duplicates()` ensures you count each guest only once\n\n## Finding Duplicates\n\n```python\nimport pandas as pd\n\ndf = pd.DataFrame({\n    'name': ['Alice', 'Bob', 'Alice', 'Carol'],\n    'age': [25, 30, 25, 28]\n})\n\n# Check for duplicates\nprint(df.duplicated())\n# 0    False\n# 1    False\n# 2     True  <- This row is a duplicate of row 0!\n# 3    False\n\n# Count duplicates\nprint(df.duplicated().sum())  # 1\n```\n\n## Removing Duplicates\n\n```python\n# Remove duplicate rows (keeps first occurrence)\ndf_unique = df.drop_duplicates()\n\n# Keep last occurrence instead\ndf_unique = df.drop_duplicates(keep='last')\n\n# Check for duplicates in specific columns only\ndf_unique = df.drop_duplicates(subset=['name'])\n```\n\n## Key Vocabulary\n\n| Term | Meaning |\n| --- | --- |\n| **Duplicate** | A row that exactly matches another row |\n| **drop_duplicates()** | Method to remove duplicate rows |\n| **keep** | Parameter to choose which duplicate to keep ('first' or 'last') |\n\n---\n\n## \ud83c\udfaf Your Task\n\nGiven a DataFrame with duplicate city/temperature entries, use `drop_duplicates()` to remove the duplicate rows. Print the unique DataFrame.\n",
    "starter_code": "import pandas as pd\n\ndf = pd.DataFrame({\n    'city': ['NYC', 'LA', 'NYC', 'Chicago', 'LA'],\n    'temp': [75, 85, 75, 65, 85]\n})\n\n# Remove duplicates\n",
    "solution_code": "import pandas as pd\n\ndf = pd.DataFrame({\n    'city': ['NYC', 'LA', 'NYC', 'Chicago', 'LA'],\n    'temp': [75, 85, 75, 65, 85]\n})\ndf_unique = df.drop_duplicates()\nprint(df_unique)",
    "expected_output": "      city  temp\n0      NYC    75\n1       LA    85\n3  Chicago    65",
    "order": 3
  },
  "122": {
    "id": 122,
    "title": "String Cleanup",
    "chapter_id": 96,
    "chapter_title": "Data Cleaning",
    "content": "# \u2702\ufe0f String Cleanup Methods\n\n## Definition\nReal-world text data is often messy\u2014extra spaces, inconsistent capitalization, special characters. Pandas provides `.str` methods to clean strings efficiently.\n\n## Why String Cleanup Matters\n\n| Raw Data | Problem | Clean Data |\n| --- | --- | --- |\n| \"  Alice  \" | Extra spaces | \"Alice\" |\n| \"BOB\" + \"bob\" | Won't match! | \"Bob\" + \"Bob\" |\n| \"john DOE\" | Inconsistent | \"John Doe\" |\n\n## Real-World Analogy\n\nThink of string cleanup like a **spell checker**:\n- It finds formatting issues (extra spaces, wrong case)\n- It suggests corrections (strip, lowercase, etc.)\n- You apply the fix to the entire column at once\n\n## Common String Methods\n\n```python\nimport pandas as pd\n\ndf = pd.DataFrame({\n    'name': ['  Alice  ', 'BOB', 'carol  ']\n})\n\n# Strip whitespace from both ends\ndf['name'] = df['name'].str.strip()\n# ['Alice', 'BOB', 'carol']\n\n# Convert to lowercase\ndf['name'] = df['name'].str.lower()\n# ['alice', 'bob', 'carol']\n\n# Convert to uppercase\ndf['name'] = df['name'].str.upper()\n# ['ALICE', 'BOB', 'CAROL']\n\n# Convert to title case (first letter capitalized)\ndf['name'] = df['name'].str.title()\n# ['Alice', 'Bob', 'Carol']\n```\n\n## Chaining Methods\n\nYou can chain multiple string operations:\n\n```python\ndf['name'] = df['name'].str.strip().str.title()\n# ' john DOE ' \u2192 'John Doe'\n```\n\n## Key Vocabulary\n\n| Term | Meaning |\n| --- | --- |\n| **.str** | Accessor for string methods on a Series |\n| **strip()** | Remove leading/trailing whitespace |\n| **title()** | Capitalize first letter of each word |\n\n---\n\n## \ud83c\udfaf Your Task\n\nGiven names with extra whitespace and inconsistent capitalization, chain `.str.strip()` and `.str.title()` to clean them up. Print the result.\n",
    "starter_code": "import pandas as pd\n\ndf = pd.DataFrame({\n    'name': ['  john DOE  ', 'JANE smith', '  bob WILSON']\n})\n\n# Clean names\n",
    "solution_code": "import pandas as pd\n\ndf = pd.DataFrame({\n    'name': ['  john DOE  ', 'JANE smith', '  bob WILSON']\n})\ndf['name'] = df['name'].str.strip().str.title()\nprint(df)",
    "expected_output": "          name\n0     John Doe\n1   Jane Smith\n2   Bob Wilson",
    "order": 4
  },
  "123": {
    "id": 123,
    "title": "Type Conversion",
    "chapter_id": 96,
    "chapter_title": "Data Cleaning",
    "content": "# \ud83d\udd04 Data Type Conversion with astype()\n\n## Definition\n**Data types** determine what operations you can perform. Numbers stored as strings can't be used for math! `astype()` converts columns to the correct type.\n\n## Why Types Matter\n\n| Data | Type | Problem |\n| --- | --- | --- |\n| \"25\" | String | Can't do: \"25\" + \"30\" = \"2530\" (concatenation!) |\n| 25 | Integer | Can do: 25 + 30 = 55 \u2713 |\n| \"2024-01-15\" | String | Can't calculate date differences |\n\n## Real-World Analogy\n\nThink of data types like **plug adapters**:\n- A European plug won't fit a US outlet\n- You need an adapter (type conversion) to make it work\n- `astype()` is your universal adapter!\n\n## Checking Current Types\n\n```python\nimport pandas as pd\n\ndf = pd.DataFrame({\n    'quantity': ['10', '20', '30'],  # Strings!\n    'price': [5.0, 10.0, 15.0]\n})\n\nprint(df.dtypes)\n# quantity    object   <- 'object' usually means string!\n# price       float64  <- Correct numeric type\n```\n\n## Converting Types\n\n```python\n# Convert to integer\ndf['quantity'] = df['quantity'].astype(int)\n\n# Convert to float\ndf['quantity'] = df['quantity'].astype(float)\n\n# Convert to string\ndf['price'] = df['price'].astype(str)\n\n# Now you can do math!\ndf['total'] = df['quantity'] * df['price']\n```\n\n## Key Vocabulary\n\n| Term | Meaning |\n| --- | --- |\n| **dtype** | The data type of a column |\n| **astype()** | Method to convert to a different type |\n| **object** | Pandas type for strings (and mixed types) |\n\n---\n\n## \ud83c\udfaf Your Task\n\nGiven quantities stored as strings, convert them to integers using `astype(int)`, then calculate the total (quantity \u00d7 price) and print the sum.\n",
    "starter_code": "import pandas as pd\n\ndf = pd.DataFrame({\n    'item': ['Apple', 'Banana', 'Orange'],\n    'quantity': ['5', '10', '8'],\n    'price': [1.0, 0.5, 0.75]\n})\n\n# Convert and calculate\n",
    "solution_code": "import pandas as pd\n\ndf = pd.DataFrame({\n    'item': ['Apple', 'Banana', 'Orange'],\n    'quantity': ['5', '10', '8'],\n    'price': [1.0, 0.5, 0.75]\n})\ndf['quantity'] = df['quantity'].astype(int)\ndf['total'] = df['quantity'] * df['price']\nprint(df['total'].sum())",
    "expected_output": "16.0",
    "order": 5
  },
  "124": {
    "id": 124,
    "title": "\ud83d\udd0d EDA Capstone",
    "chapter_id": 97,
    "chapter_title": "EDA Mini-Boss",
    "content": "# \ud83d\udea2 EDA Capstone: Titanic Analysis\n\n## What is EDA?\n**Exploratory Data Analysis (EDA)** is the process of examining a dataset to understand its main characteristics\u2014before building models or drawing conclusions.\n\n## Why This Dataset?\n\nThe Titanic dataset is the \"Hello World\" of data science. Every data scientist has analyzed it. You'll learn to:\n- Summarize data quickly\n- Calculate statistics by groups\n- Draw insights from numbers\n\n## Real-World Analogy\n\nThink of EDA like being a **detective**:\n- You examine the evidence (data)\n- You look for patterns (statistics)\n- You form hypotheses (insights)\n- You present your findings (reports)\n\n## The Dataset\n\nWe'll use a simplified Titanic-style dataset:\n- `survived`: 0 = Did not survive, 1 = Survived\n- `pclass`: Passenger class (1 = First, 2 = Second, 3 = Third)\n\n## Key EDA Techniques\n\n```python\nimport pandas as pd\n\n# 1. Check the size\nlen(df)  # Number of rows\n\n# 2. Calculate overall statistics\ndf['survived'].mean()  # Survival rate (0.0 to 1.0)\n\n# 3. Group by and aggregate\ndf.groupby('pclass')['survived'].mean()\n# Shows survival rate for each class\n```\n\n## What You'll Discover\n\nHistorical fact: **First-class passengers had much higher survival rates** than third-class passengers. Your analysis will reveal this pattern!\n\n## Key Vocabulary\n\n| Term | Meaning |\n| --- | --- |\n| **EDA** | Exploratory Data Analysis |\n| **groupby()** | Split data into groups for analysis |\n| **Aggregation** | Summarizing groups (mean, sum, count) |\n\n---\n\n## \ud83c\udfaf Your Mission\n\n1. Print the total number of passengers\n2. Calculate and print the overall survival rate (as a percentage)\n3. Print the survival rate by passenger class\n\n**Hint**: Use `df.groupby('pclass')['survived'].mean()` for step 3!\n",
    "starter_code": "import pandas as pd\n\ndf = pd.DataFrame({\n    'survived': [1, 0, 0, 1, 0, 1, 1, 0, 0, 1, 0, 0],\n    'pclass': [1, 3, 3, 1, 3, 2, 1, 3, 3, 2, 3, 2]\n})\n\n# Analyze!\n",
    "solution_code": "import pandas as pd\n\ndf = pd.DataFrame({\n    'survived': [1, 0, 0, 1, 0, 1, 1, 0, 0, 1, 0, 0],\n    'pclass': [1, 3, 3, 1, 3, 2, 1, 3, 3, 2, 3, 2]\n})\nprint(f\"Total passengers: {len(df)}\")\nprint(f\"Survival rate: {df['survived'].mean()*100:.1f}%\")\nprint(\"Survival by class:\")\nfor c, r in df.groupby('pclass')['survived'].mean().items():\n    print(f\"  Class {c}: {r*100:.1f}%\")",
    "expected_output": "Total passengers: 12\nSurvival rate: 41.7%\nSurvival by class:\n  Class 1: 100.0%\n  Class 2: 33.3%\n  Class 3: 0.0%",
    "order": 1
  },
  "125": {
    "id": 125,
    "title": "Creating Special Arrays",
    "chapter_id": 95,
    "chapter_title": "NumPy Fundamentals",
    "content": "# \ud83d\udd22 Creating Special Arrays\n\n## Definition\nNumPy provides convenient functions to create arrays filled with specific values or patterns\u2014without manually typing each element.\n\n## Why Special Arrays?\n\nWhen working with data science, you often need:\n- Arrays of zeros (for initialization)\n- Arrays of ones (for masks or scaling)\n- Ranges of numbers (for plotting x-axes)\n\n## Real-World Analogy\n\nThink of special arrays like **pre-printed forms**:\n- Instead of drawing 100 blank boxes, use a pre-printed template\n- NumPy's special functions are your templates!\n\n## Special Array Functions\n\n```python\nimport numpy as np\n\n# Array of zeros\nzeros = np.zeros(5)     # [0. 0. 0. 0. 0.]\nzeros_2d = np.zeros((2, 3))  # 2 rows, 3 columns of zeros\n\n# Array of ones\nones = np.ones(4)       # [1. 1. 1. 1.]\n\n# Array of a specific value\nfives = np.full(5, 5)   # [5 5 5 5 5]\n\n# Range of numbers\nrange_arr = np.arange(0, 10, 2)  # [0 2 4 6 8]\n\n# Evenly spaced numbers\nlinspace = np.linspace(0, 1, 5)  # [0. 0.25 0.5 0.75 1.]\n```\n\n## Key Vocabulary\n\n| Term | Meaning |\n| --- | --- |\n| **zeros()** | Create array filled with 0s |\n| **ones()** | Create array filled with 1s |\n| **arange()** | Create array with range (like Python's range) |\n| **linspace()** | Create array with evenly spaced values |\n\n---\n\n## \ud83c\udfaf Your Task\n\nCreate an array of 5 ones using `np.ones()` and print it.\n\n**Expected output**: `[1. 1. 1. 1. 1.]`\n",
    "starter_code": "import numpy as np\n\n# Create an array of 5 ones\n",
    "solution_code": "import numpy as np\n\n# Create an array of 5 ones\narr = np.ones(5)\nprint(arr)",
    "expected_output": "[1. 1. 1. 1. 1.]",
    "order": 2
  },
  "126": {
    "id": 126,
    "title": "Array Shapes and Dimensions",
    "chapter_id": 95,
    "chapter_title": "NumPy Fundamentals",
    "content": "# \ud83d\udcd0 Array Shapes and Dimensions\n\n## Definition\n**Shape** describes the size of each dimension of an array. **Dimensions** (or axes) are the number of directions in which the array extends.\n\n## Why Shape Matters\n\nUnderstanding shape is crucial for:\n- Debugging errors (\"shapes don't match!\")\n- Reshaping data for machine learning models\n- Understanding what operations are possible\n\n## Real-World Analogy\n\nThink of shape like describing a **box**:\n- 1D array: A line of boxes (just length)\n- 2D array: A grid of boxes (rows \u00d7 columns)\n- 3D array: A cube of boxes (depth \u00d7 rows \u00d7 columns)\n\n## Checking Shape\n\n```python\nimport numpy as np\n\narr_1d = np.array([1, 2, 3, 4, 5])\nprint(arr_1d.shape)  # (5,) - 1D with 5 elements\n\narr_2d = np.array([[1, 2, 3], [4, 5, 6]])\nprint(arr_2d.shape)  # (2, 3) - 2 rows, 3 columns\n\nprint(arr_2d.ndim)   # 2 - number of dimensions\nprint(arr_2d.size)   # 6 - total number of elements\n```\n\n## Key Vocabulary\n\n| Term | Meaning |\n| --- | --- |\n| **shape** | Tuple describing array dimensions |\n| **ndim** | Number of dimensions (axes) |\n| **size** | Total number of elements |\n\n---\n\n## \ud83c\udfaf Your Task\n\nCreate the array `[10, 20, 30, 40]` and print its shape.\n\n**Expected output**: `(4,)`\n",
    "starter_code": "import numpy as np\n\n# Create array and print its shape\n",
    "solution_code": "import numpy as np\n\n# Create array and print its shape\narr = np.array([10, 20, 30, 40])\nprint(arr.shape)",
    "expected_output": "(4,)",
    "order": 3
  },
  "127": {
    "id": 127,
    "title": "Array Arithmetic",
    "chapter_id": 95,
    "chapter_title": "NumPy Fundamentals",
    "content": "# \u2795 Array Arithmetic\n\n## Definition\nNumPy arrays support all standard arithmetic operations, applied element-by-element automatically.\n\n## Why Array Arithmetic?\n\nInstead of loops:\n```python\n# Slow Python way\nresult = []\nfor i in range(len(a)):\n    result.append(a[i] + b[i])\n```\n\nUse vectorized operations:\n```python\nresult = a + b  # Instant!\n```\n\n## Real-World Analogy\n\nImagine you're adjusting all prices in a store by 10%:\n- **Loop way**: Visit each item, calculate new price, update tag\n- **Vectorized way**: Apply formula to entire inventory at once!\n\n## All Operations\n\n```python\nimport numpy as np\n\na = np.array([10, 20, 30])\nb = np.array([1, 2, 3])\n\na + b   # [11 22 33] - Addition\na - b   # [ 9 18 27] - Subtraction\na * b   # [10 40 90] - Multiplication\na / b   # [10. 10. 10.] - Division\na // b  # [10 10 10] - Floor division\na % b   # [0 0 0] - Modulo\na ** b  # [10 400 27000] - Power\n```\n\n## Key Vocabulary\n\n| Term | Meaning |\n| --- | --- |\n| **Element-wise** | Operation on each corresponding pair |\n| **Operator overloading** | Standard operators work on arrays |\n\n---\n\n## \ud83c\udfaf Your Task\n\nCreate two arrays `[5, 10, 15]` and `[1, 2, 3]`, add them together, and print the result.\n\n**Expected output**: `[ 6 12 18]`\n",
    "starter_code": "import numpy as np\n\n# Create two arrays and add them\n",
    "solution_code": "import numpy as np\n\n# Create two arrays and add them\na = np.array([5, 10, 15])\nb = np.array([1, 2, 3])\nprint(a + b)",
    "expected_output": "[ 6 12 18]",
    "order": 5
  },
  "128": {
    "id": 128,
    "title": "Universal Functions (ufuncs)",
    "chapter_id": 95,
    "chapter_title": "NumPy Fundamentals",
    "content": "# \u26a1 Universal Functions (ufuncs)\n\n## Definition\n**Universal functions (ufuncs)** are NumPy functions that operate element-by-element on arrays, providing fast vectorized operations.\n\n## Why ufuncs?\n\nThey're optimized in C, making them much faster than Python loops for mathematical operations.\n\n## Real-World Analogy\n\nThink of ufuncs like a **parallel processor**:\n- Instead of calculating sin(x) for each value one at a time\n- Calculate sin() for ALL values simultaneously!\n\n## Common ufuncs\n\n```python\nimport numpy as np\n\narr = np.array([0, 30, 45, 60, 90])\nradians = np.radians(arr)  # Convert to radians\n\nnp.sin(radians)   # Sine of each element\nnp.cos(radians)   # Cosine of each element\nnp.sqrt(arr)      # Square root of each\nnp.exp(arr)       # e^x for each\nnp.log(arr + 1)   # Natural log (added 1 to avoid log(0))\nnp.abs(arr)       # Absolute value\n```\n\n## Practical Example\n\n```python\narr = np.array([1, 4, 9, 16, 25])\nsqrt_arr = np.sqrt(arr)  # [1. 2. 3. 4. 5.]\n```\n\n## Key Vocabulary\n\n| Term | Meaning |\n| --- | --- |\n| **ufunc** | Universal function - vectorized operation |\n| **np.sqrt()** | Square root of each element |\n| **np.abs()** | Absolute value of each element |\n\n---\n\n## \ud83c\udfaf Your Task\n\nCreate the array `[1, 4, 9, 16]` and print the square root of each element using `np.sqrt()`.\n\n**Expected output**: `[1. 2. 3. 4.]`\n",
    "starter_code": "import numpy as np\n\n# Create array and calculate square roots\n",
    "solution_code": "import numpy as np\n\n# Create array and calculate square roots\narr = np.array([1, 4, 9, 16])\nprint(np.sqrt(arr))",
    "expected_output": "[1. 2. 3. 4.]",
    "order": 6
  },
  "129": {
    "id": 129,
    "title": "Multiple Conditions",
    "chapter_id": 95,
    "chapter_title": "NumPy Fundamentals",
    "content": "# \ud83d\udd17 Filtering with Multiple Conditions\n\n## Definition\nYou can combine multiple boolean conditions using `&` (and), `|` (or), and `~` (not) to create complex filters.\n\n## Why Multiple Conditions?\n\nReal data analysis often requires complex queries:\n- \"Sales greater than $100 AND in California\"\n- \"Age under 18 OR over 65\"\n\n## Important: Use & | ~ NOT and/or/not\n\n```python\nimport numpy as np\n\narr = np.array([5, 15, 25, 35, 45])\n\n# WRONG: and/or don't work with arrays\n# arr[(arr > 10) and (arr < 40)]  # Error!\n\n# CORRECT: Use & | ~\narr[(arr > 10) & (arr < 40)]  # [15 25 35]\narr[(arr < 10) | (arr > 40)]  # [5 45]\narr[~(arr > 20)]              # [5 15] (NOT greater than 20)\n```\n\n## Real-World Analogy\n\nThink of conditions like **layered filters**:\n- First filter: Keep items > 10\n- Second filter: Keep items < 40\n- Combined: Only items passing BOTH filters remain\n\n## Key Vocabulary\n\n| Term | Meaning |\n| --- | --- |\n| **&** | AND - both conditions must be true |\n| **\\|** | OR - at least one condition true |\n| **~** | NOT - inverts the condition |\n\n---\n\n## \ud83c\udfaf Your Task\n\nFrom `[2, 8, 15, 22, 30]`, select values that are greater than 5 AND less than 25. Print the result.\n\n**Expected output**: `[ 8 15 22]`\n",
    "starter_code": "import numpy as np\n\narr = np.array([2, 8, 15, 22, 30])\n\n# Filter: > 5 AND < 25\n",
    "solution_code": "import numpy as np\n\narr = np.array([2, 8, 15, 22, 30])\n\n# Filter: > 5 AND < 25\nresult = arr[(arr > 5) & (arr < 25)]\nprint(result)",
    "expected_output": "[ 8 15 22]",
    "order": 8
  },
  "130": {
    "id": 130,
    "title": "np.where() Conditional Selection",
    "chapter_id": 95,
    "chapter_title": "NumPy Fundamentals",
    "content": "# \ud83d\udd00 Conditional Selection with np.where()\n\n## Definition\n`np.where()` returns indices where a condition is true, or can replace values based on a condition.\n\n## Why np.where()?\n\nIt's like Excel's IF function for arrays:\n- If condition is true \u2192 use value A\n- If condition is false \u2192 use value B\n\n## Real-World Analogy\n\nThink of `np.where()` like a **sorting hat**:\n- Check each student (element)\n- Send to Gryffindor (value A) or Slytherin (value B) based on criteria\n\n## Two Uses of np.where()\n\n```python\nimport numpy as np\n\narr = np.array([10, 25, 30, 15, 40])\n\n# Use 1: Get INDICES where condition is true\nindices = np.where(arr > 20)  # (array([1, 2, 4]),)\n\n# Use 2: Replace values conditionally\nresult = np.where(arr > 20, 'big', 'small')\n# ['small' 'big' 'big' 'small' 'big']\n\n# Use 3: Replace with calculated values\ndoubled = np.where(arr > 20, arr * 2, arr)\n# [10 50 60 15 80] - only values > 20 are doubled\n```\n\n## Key Vocabulary\n\n| Term | Meaning |\n| --- | --- |\n| **np.where(condition)** | Returns indices where True |\n| **np.where(cond, a, b)** | Returns a where True, b where False |\n\n---\n\n## \ud83c\udfaf Your Task\n\nGiven `[10, 20, 30, 40, 50]`, use `np.where()` to replace values > 25 with 100, and keep others unchanged. Print the result.\n\n**Expected output**: `[ 10  20 100 100 100]`\n",
    "starter_code": "import numpy as np\n\narr = np.array([10, 20, 30, 40, 50])\n\n# Replace values > 25 with 100\n",
    "solution_code": "import numpy as np\n\narr = np.array([10, 20, 30, 40, 50])\n\n# Replace values > 25 with 100\nresult = np.where(arr > 25, 100, arr)\nprint(result)",
    "expected_output": "[ 10  20 100 100 100]",
    "order": 9
  },
  "131": {
    "id": 131,
    "title": "Normalizing Data",
    "chapter_id": 95,
    "chapter_title": "NumPy Fundamentals",
    "content": "# \ud83d\udccf Normalizing Data (Min-Max Scaling)\n\n## Definition\n**Normalization** scales data to a specific range (usually 0-1). This is essential for machine learning where features need to be on similar scales.\n\n## Why Normalize?\n\n| Raw Data | Problem |\n| --- | --- |\n| Age: 0-100 | |\n| Income: 0-1,000,000 | Income dominates because of larger values! |\n\nAfter normalization, both range from 0 to 1.\n\n## Real-World Analogy\n\nThink of grading on a curve:\n- Raw scores: 45, 67, 89, 23\n- Normalized: Everyone scaled relative to highest score\n\n## Min-Max Normalization Formula\n\n```\nnormalized = (x - min) / (max - min)\n```\n\n```python\nimport numpy as np\n\ndata = np.array([10, 20, 30, 40, 50])\n\n# Normalize to 0-1 range\ndata_min = np.min(data)  # 10\ndata_max = np.max(data)  # 50\n\nnormalized = (data - data_min) / (data_max - data_min)\n# [0.   0.25 0.5  0.75 1.  ]\n```\n\n## Key Vocabulary\n\n| Term | Meaning |\n| --- | --- |\n| **Normalization** | Scaling to a standard range |\n| **Min-Max Scaling** | Scale to 0-1 based on min/max |\n| **Feature Scaling** | Making features comparable |\n\n---\n\n## \ud83c\udfaf Your Task\n\nNormalize `[0, 25, 50, 75, 100]` to the range 0-1 using min-max scaling. Print the result.\n\n**Expected output**: `[0.   0.25 0.5  0.75 1.  ]`\n",
    "starter_code": "import numpy as np\n\ndata = np.array([0, 25, 50, 75, 100])\n\n# Normalize to 0-1\n",
    "solution_code": "import numpy as np\n\ndata = np.array([0, 25, 50, 75, 100])\n\n# Normalize to 0-1\nnormalized = (data - np.min(data)) / (np.max(data) - np.min(data))\nprint(normalized)",
    "expected_output": "[0.   0.25 0.5  0.75 1.  ]",
    "order": 11
  },
  "132": {
    "id": 132,
    "title": "Standardizing Data (Z-Score)",
    "chapter_id": 95,
    "chapter_title": "NumPy Fundamentals",
    "content": "# \ud83d\udcca Standardizing Data (Z-Score)\n\n## Definition\n**Standardization** transforms data to have mean=0 and standard deviation=1. This is another common preprocessing step.\n\n## Why Standardize?\n\nZ-scores tell you how many standard deviations a value is from the mean:\n- Z = 0 \u2192 exactly at the mean\n- Z = 1 \u2192 one std deviation above mean\n- Z = -2 \u2192 two std deviations below mean\n\n## Real-World Analogy\n\nComparing test scores from different classes:\n- Class A: Mean 70, your score 85 (you're +15 above mean)\n- Class B: Mean 50, your score 65 (you're +15 above mean too)\n- But which is more impressive? Z-scores tell you!\n\n## Z-Score Formula\n\n```\nz = (x - mean) / std\n```\n\n```python\nimport numpy as np\n\ndata = np.array([50, 60, 70, 80, 90])\n\nmean = np.mean(data)  # 70\nstd = np.std(data)    # 14.14\n\nz_scores = (data - mean) / std\n# [-1.41 -0.71  0.    0.71  1.41]\n```\n\n## Key Vocabulary\n\n| Term | Meaning |\n| --- | --- |\n| **Z-score** | How many std deviations from mean |\n| **Standardization** | Transform to mean=0, std=1 |\n| **Standard deviation** | Measure of spread |\n\n---\n\n## \ud83c\udfaf Your Task\n\nCalculate z-scores for `[60, 70, 80, 90, 100]`. Print the result rounded to 2 decimals.\n\n**Hint**: Use `np.round(result, 2)`\n",
    "starter_code": "import numpy as np\n\ndata = np.array([60, 70, 80, 90, 100])\n\n# Calculate z-scores\n",
    "solution_code": "import numpy as np\n\ndata = np.array([60, 70, 80, 90, 100])\n\n# Calculate z-scores\nmean = np.mean(data)\nstd = np.std(data)\nz_scores = (data - mean) / std\nprint(np.round(z_scores, 2))",
    "expected_output": "[-1.41 -0.71  0.    0.71  1.41]",
    "order": 12
  },
  "133": {
    "id": 133,
    "title": "Percentiles and Quartiles",
    "chapter_id": 95,
    "chapter_title": "NumPy Fundamentals",
    "content": "# \ud83d\udcc8 Percentiles and Quartiles\n\n## Definition\n**Percentiles** divide data into 100 equal parts. The p-th percentile is the value below which p% of data falls.\n\n## Why Percentiles?\n\n- \"You scored in the 90th percentile\" = You beat 90% of test takers\n- Quartiles (25th, 50th, 75th) are used in box plots\n- Detect outliers (values beyond 1.5\u00d7 IQR)\n\n## Real-World Analogy\n\nImagine ranking all students by height:\n- 50th percentile = Median height (half are shorter)\n- 75th percentile = Taller than 75% of students\n- 25th percentile = Taller than only 25%\n\n## Using np.percentile()\n\n```python\nimport numpy as np\n\ndata = np.array([10, 20, 30, 40, 50, 60, 70, 80, 90, 100])\n\nnp.percentile(data, 50)  # 55.0 (median)\nnp.percentile(data, 25)  # 32.5 (Q1)\nnp.percentile(data, 75)  # 77.5 (Q3)\nnp.percentile(data, 90)  # 91.0 (90th percentile)\n```\n\n## Key Vocabulary\n\n| Term | Meaning |\n| --- | --- |\n| **Percentile** | Value below which X% of data falls |\n| **Quartile** | 25th (Q1), 50th (Q2/median), 75th (Q3) |\n| **IQR** | Interquartile Range = Q3 - Q1 |\n\n---\n\n## \ud83c\udfaf Your Task\n\nFind the 50th percentile (median) of `[10, 20, 30, 40, 50]` using `np.percentile()`. Print the result.\n\n**Expected output**: `30.0`\n",
    "starter_code": "import numpy as np\n\ndata = np.array([10, 20, 30, 40, 50])\n\n# Find 50th percentile\n",
    "solution_code": "import numpy as np\n\ndata = np.array([10, 20, 30, 40, 50])\n\n# Find 50th percentile\nresult = np.percentile(data, 50)\nprint(result)",
    "expected_output": "30.0",
    "order": 14
  },
  "134": {
    "id": 134,
    "title": "Variance and Standard Deviation",
    "chapter_id": 95,
    "chapter_title": "NumPy Fundamentals",
    "content": "# \ud83d\udcc9 Variance and Standard Deviation\n\n## Definition\n**Variance** measures how spread out data is from the mean. **Standard deviation** is the square root of variance.\n\n## Why Measure Spread?\n\nTwo datasets can have the same mean but very different spreads:\n- Dataset A: [50, 50, 50, 50, 50] \u2192 Mean=50, Std=0 (no spread)\n- Dataset B: [0, 25, 50, 75, 100] \u2192 Mean=50, Std=35.4 (high spread)\n\n## Real-World Analogy\n\nImagine two pizza delivery services:\n- Both average 30 minutes delivery time\n- Service A: Always exactly 30 min (low std)\n- Service B: Sometimes 10 min, sometimes 50 min (high std)\n\nWhich is more reliable?\n\n## Calculating in NumPy\n\n```python\nimport numpy as np\n\ndata = np.array([2, 4, 6, 8, 10])\n\nvariance = np.var(data)  # 8.0\nstd_dev = np.std(data)   # 2.83\n\n# Verify: std = sqrt(variance)\nprint(np.sqrt(variance))  # 2.83\n```\n\n## Key Vocabulary\n\n| Term | Meaning |\n| --- | --- |\n| **Variance** | Average of squared deviations from mean |\n| **Std Deviation** | Square root of variance (same units as data) |\n| **Spread** | How dispersed the data is |\n\n---\n\n## \ud83c\udfaf Your Task\n\nCalculate the standard deviation of `[20, 40, 60, 80, 100]` using `np.std()`. Print the result.\n\n**Expected output**: `28.284271247461902`\n",
    "starter_code": "import numpy as np\n\ndata = np.array([20, 40, 60, 80, 100])\n\n# Calculate standard deviation\n",
    "solution_code": "import numpy as np\n\ndata = np.array([20, 40, 60, 80, 100])\n\n# Calculate standard deviation\nresult = np.std(data)\nprint(result)",
    "expected_output": "28.284271247461902",
    "order": 15
  },
  "135": {
    "id": 135,
    "title": "Counting Missing Values",
    "chapter_id": 96,
    "chapter_title": "Data Cleaning",
    "content": "# \ud83d\udd22 Counting Missing Values\n\n## Definition\nBefore cleaning, you need to know HOW MUCH data is missing. `isnull().sum()` counts missing values per column.\n\n## Why Count First?\n\n- If 1% missing \u2192 probably safe to drop\n- If 50% missing \u2192 dropping loses too much data, consider filling\n- If a column is 90% missing \u2192 maybe drop the column entirely!\n\n## Real-World Analogy\n\nBefore deciding how to fix a survey:\n- Check: How many questions were skipped?\n- Few skips \u2192 remove incomplete surveys\n- Many skips on one question \u2192 maybe that question was confusing\n\n## Counting Techniques\n\n```python\nimport pandas as pd\n\ndf = pd.DataFrame({\n    'A': [1, None, 3, None],\n    'B': [None, 2, 3, 4],\n    'C': [1, 2, 3, 4]\n})\n\n# Count missing per column\nprint(df.isnull().sum())\n# A    2\n# B    1\n# C    0\n\n# Total missing in entire DataFrame\nprint(df.isnull().sum().sum())  # 3\n\n# Percentage missing per column\nprint(df.isnull().mean() * 100)\n# A    50.0\n# B    25.0\n# C     0.0\n```\n\n## Key Vocabulary\n\n| Term | Meaning |\n| --- | --- |\n| **isnull()** | Returns True for each missing value |\n| **sum()** | Counts True values (missing count) |\n| **mean()** | Proportion of missing values |\n\n---\n\n## \ud83c\udfaf Your Task\n\nCount the total number of missing values in the DataFrame. Print the count.\n",
    "starter_code": "import pandas as pd\n\ndf = pd.DataFrame({\n    'name': ['Alice', None, 'Carol'],\n    'age': [25, 30, None],\n    'city': [None, 'NYC', 'LA']\n})\n\n# Count total missing values\n",
    "solution_code": "import pandas as pd\n\ndf = pd.DataFrame({\n    'name': ['Alice', None, 'Carol'],\n    'age': [25, 30, None],\n    'city': [None, 'NYC', 'LA']\n})\n\n# Count total missing values\ntotal_missing = df.isnull().sum().sum()\nprint(total_missing)",
    "expected_output": "3",
    "order": 2
  },
  "136": {
    "id": 136,
    "title": "Dropping Columns with Missing Data",
    "chapter_id": 96,
    "chapter_title": "Data Cleaning",
    "content": "# \ud83d\uddd1\ufe0f Dropping Columns with Missing Data\n\n## Definition\nSometimes it's better to drop an entire COLUMN rather than rows\u2014especially if a column has too many missing values.\n\n## When to Drop Columns?\n\n| Scenario | Action |\n| --- | --- |\n| Column 80%+ missing | Drop the column |\n| Column has few unique values | Consider dropping |\n| Column not needed for analysis | Drop it |\n\n## Real-World Analogy\n\nImagine a form with an optional \"Comments\" field:\n- If 90% of people skip it, that column isn't useful\n- Better to remove it than lose 90% of your data!\n\n## How to Drop Columns\n\n```python\nimport pandas as pd\n\ndf = pd.DataFrame({\n    'A': [1, 2, 3],\n    'B': [None, None, 3],  # Mostly missing!\n    'C': [1, 2, 3]\n})\n\n# Drop columns with ANY missing values\ndf_clean = df.dropna(axis=1)\n# Only columns A and C remain\n\n# Drop columns where > 50% is missing\nthreshold = len(df) * 0.5\ndf_clean = df.dropna(axis=1, thresh=threshold)\n```\n\n## Key Vocabulary\n\n| Term | Meaning |\n| --- | --- |\n| **axis=0** | Operate on rows (default) |\n| **axis=1** | Operate on columns |\n| **thresh** | Minimum non-NA values required |\n\n---\n\n## \ud83c\udfaf Your Task\n\nDrop any columns that have ANY missing values and print the result.\n",
    "starter_code": "import pandas as pd\n\ndf = pd.DataFrame({\n    'product': ['Apple', 'Banana', 'Cherry'],\n    'price': [1.0, None, 1.5],\n    'quantity': [10, 20, 30]\n})\n\n# Drop columns with missing values\n",
    "solution_code": "import pandas as pd\n\ndf = pd.DataFrame({\n    'product': ['Apple', 'Banana', 'Cherry'],\n    'price': [1.0, None, 1.5],\n    'quantity': [10, 20, 30]\n})\n\n# Drop columns with missing values\ndf_clean = df.dropna(axis=1)\nprint(df_clean)",
    "expected_output": "  product  quantity\n0   Apple        10\n1  Banana        20\n2  Cherry        30",
    "order": 3
  },
  "137": {
    "id": 137,
    "title": "Filling with Mode (Most Common)",
    "chapter_id": 96,
    "chapter_title": "Data Cleaning",
    "content": "# \ud83d\udd24 Filling with Mode\n\n## Definition\nFor **categorical data** (like colors, cities, categories), use the **mode** (most frequent value) to fill missing values.\n\n## Why Mode for Categories?\n\n- Mean doesn't work: What's the average of \"Red\", \"Blue\", \"Green\"?\n- Mode = most common value = reasonable guess\n\n## Real-World Analogy\n\nFilling in a missing survey answer about favorite color:\n- If 60% said \"Blue\", 30% said \"Red\", 10% said \"Green\"\n- Best guess for missing answer: \"Blue\" (the mode)\n\n## Using Mode\n\n```python\nimport pandas as pd\n\ndf = pd.DataFrame({\n    'color': ['Red', 'Blue', 'Blue', None, 'Blue', None]\n})\n\n# Find the mode (most common value)\nmode_color = df['color'].mode()[0]  # 'Blue'\n\n# Fill missing with mode\ndf['color'] = df['color'].fillna(mode_color)\n# Now all None become 'Blue'\n```\n\n## Key Vocabulary\n\n| Term | Meaning |\n| --- | --- |\n| **Mode** | Most frequently occurring value |\n| **Categorical** | Data with discrete categories |\n| **mode()[0]** | First mode (in case of ties) |\n\n---\n\n## \ud83c\udfaf Your Task\n\nFill missing cities with the mode (most common city). Print the result.\n",
    "starter_code": "import pandas as pd\n\ndf = pd.DataFrame({\n    'name': ['Alice', 'Bob', 'Carol', 'David'],\n    'city': ['NYC', 'NYC', None, 'LA']\n})\n\n# Fill missing cities with mode\n",
    "solution_code": "import pandas as pd\n\ndf = pd.DataFrame({\n    'name': ['Alice', 'Bob', 'Carol', 'David'],\n    'city': ['NYC', 'NYC', None, 'LA']\n})\n\n# Fill missing cities with mode\nmode_city = df['city'].mode()[0]\ndf['city'] = df['city'].fillna(mode_city)\nprint(df)",
    "expected_output": "    name city\n0  Alice  NYC\n1    Bob  NYC\n2  Carol  NYC\n3  David   LA",
    "order": 5
  },
  "138": {
    "id": 138,
    "title": "Filling with Median",
    "chapter_id": 96,
    "chapter_title": "Data Cleaning",
    "content": "# \ud83d\udcca Filling with Median\n\n## Definition\nFor **numeric data with outliers**, use the **median** (middle value) instead of mean\u2014it's more robust!\n\n## Why Median Over Mean?\n\n| Data | Mean | Median |\n| --- | --- | --- |\n| [10, 20, 30, 40, 50] | 30 | 30 |\n| [10, 20, 30, 40, 500] | 120 | 30 |\n\nThe outlier (500) skews the mean but not the median!\n\n## Real-World Analogy\n\nHouse prices in a neighborhood:\n- Most houses: $300K-$400K\n- One mansion: $10 million\n- Mean price: ~$1.2 million (misleading!)\n- Median price: ~$350K (realistic)\n\n## Using Median\n\n```python\nimport pandas as pd\n\ndf = pd.DataFrame({\n    'salary': [50000, 55000, None, 60000, 500000]  # Has outlier!\n})\n\n# Compare mean vs median\nprint(df['salary'].mean())    # 166250 (skewed by outlier)\nprint(df['salary'].median())  # 57500 (robust)\n\n# Fill with median\ndf['salary'] = df['salary'].fillna(df['salary'].median())\n```\n\n## Key Vocabulary\n\n| Term | Meaning |\n| --- | --- |\n| **Median** | Middle value when sorted |\n| **Robust** | Not affected by outliers |\n| **Outlier** | Extreme value far from others |\n\n---\n\n## \ud83c\udfaf Your Task\n\nFill the missing salary with the median (not mean). Print the DataFrame.\n",
    "starter_code": "import pandas as pd\n\ndf = pd.DataFrame({\n    'employee': ['Alice', 'Bob', 'Carol'],\n    'salary': [50000.0, None, 70000.0]\n})\n\n# Fill with median\n",
    "solution_code": "import pandas as pd\n\ndf = pd.DataFrame({\n    'employee': ['Alice', 'Bob', 'Carol'],\n    'salary': [50000.0, None, 70000.0]\n})\n\n# Fill with median\nmedian_salary = df['salary'].median()\ndf['salary'] = df['salary'].fillna(median_salary)\nprint(df)",
    "expected_output": "  employee   salary\n0    Alice  50000.0\n1      Bob  60000.0\n2    Carol  70000.0",
    "order": 6
  },
  "139": {
    "id": 139,
    "title": "Finding Duplicate Rows",
    "chapter_id": 96,
    "chapter_title": "Data Cleaning",
    "content": "# \ud83d\udd0d Finding Duplicate Rows\n\n## Definition\n`duplicated()` returns True for each row that is a duplicate of a previous row.\n\n## Why Find Before Removing?\n\n- Understand how many duplicates exist\n- Investigate WHY there are duplicates (data entry error? intentional?)\n- Decide which copy to keep\n\n## Real-World Analogy\n\nBefore deleting duplicate contacts:\n- First, find them: \"You have 5 duplicate contacts\"\n- Review them: Are they really duplicates or different people?\n- Then decide: Keep the most recent version\n\n## Finding Duplicates\n\n```python\nimport pandas as pd\n\ndf = pd.DataFrame({\n    'name': ['Alice', 'Bob', 'Alice', 'Carol'],\n    'age': [25, 30, 25, 28]\n})\n\n# Mark duplicates\nprint(df.duplicated())\n# 0    False\n# 1    False\n# 2     True  <- duplicate!\n# 3    False\n\n# View the duplicate rows\nprint(df[df.duplicated()])\n#     name  age\n# 2  Alice   25\n\n# Count duplicates\nprint(df.duplicated().sum())  # 1\n```\n\n## Key Vocabulary\n\n| Term | Meaning |\n| --- | --- |\n| **duplicated()** | Returns True for duplicate rows |\n| **keep='first'** | First occurrence is NOT a duplicate |\n| **keep='last'** | Last occurrence is NOT a duplicate |\n\n---\n\n## \ud83c\udfaf Your Task\n\nCount the number of duplicate rows in the DataFrame. Print the count.\n",
    "starter_code": "import pandas as pd\n\ndf = pd.DataFrame({\n    'item': ['Apple', 'Banana', 'Apple', 'Orange', 'Banana'],\n    'price': [1.0, 0.5, 1.0, 0.75, 0.5]\n})\n\n# Count duplicates\n",
    "solution_code": "import pandas as pd\n\ndf = pd.DataFrame({\n    'item': ['Apple', 'Banana', 'Apple', 'Orange', 'Banana'],\n    'price': [1.0, 0.5, 1.0, 0.75, 0.5]\n})\n\n# Count duplicates\ncount = df.duplicated().sum()\nprint(count)",
    "expected_output": "2",
    "order": 8
  },
  "140": {
    "id": 140,
    "title": "Duplicates in Specific Columns",
    "chapter_id": 96,
    "chapter_title": "Data Cleaning",
    "content": "# \ud83c\udfaf Duplicates in Specific Columns\n\n## Definition\nSometimes you want to find duplicates based on only CERTAIN columns, not all columns.\n\n## When to Use Subset?\n\n| Scenario | Approach |\n| --- | --- |\n| Same person, different info | Check 'email' only |\n| Same product, different dates | Check 'product_id' only |\n| Exact duplicate rows | Check all columns |\n\n## Real-World Analogy\n\nCustomer database with email duplicates:\n- Same email might have different addresses (they moved!)\n- We want unique CUSTOMERS (by email), not unique rows\n\n## Using subset Parameter\n\n```python\nimport pandas as pd\n\ndf = pd.DataFrame({\n    'email': ['a@b.com', 'c@d.com', 'a@b.com'],\n    'name': ['Alice', 'Bob', 'Alice Smith'],  # Names differ!\n    'city': ['NYC', 'LA', 'Boston']\n})\n\n# Duplicates considering ALL columns \u2192 None (rows differ)\nprint(df.duplicated().sum())  # 0\n\n# Duplicates considering only email\nprint(df.duplicated(subset=['email']).sum())  # 1\n\n# Keep only unique emails\ndf_unique = df.drop_duplicates(subset=['email'])\n```\n\n## Key Vocabulary\n\n| Term | Meaning |\n| --- | --- |\n| **subset** | List of columns to check for duplicates |\n| **keep='first'** | Keep first occurrence of duplicate |\n\n---\n\n## \ud83c\udfaf Your Task\n\nRemove duplicates based only on the 'product' column (keep first). Print the result.\n",
    "starter_code": "import pandas as pd\n\ndf = pd.DataFrame({\n    'product': ['Apple', 'Banana', 'Apple'],\n    'price': [1.00, 0.50, 1.25],\n    'store': ['A', 'B', 'C']\n})\n\n# Remove duplicates by product only\n",
    "solution_code": "import pandas as pd\n\ndf = pd.DataFrame({\n    'product': ['Apple', 'Banana', 'Apple'],\n    'price': [1.00, 0.50, 1.25],\n    'store': ['A', 'B', 'C']\n})\n\n# Remove duplicates by product only\ndf_unique = df.drop_duplicates(subset=['product'])\nprint(df_unique)",
    "expected_output": "  product  price store\n0   Apple   1.00     A\n1  Banana   0.50     B",
    "order": 9
  },
  "141": {
    "id": 141,
    "title": "String Replace and Contains",
    "chapter_id": 96,
    "chapter_title": "Data Cleaning",
    "content": "# \ud83d\udd04 String Replace and Contains\n\n## Definition\n`str.replace()` replaces text patterns. `str.contains()` checks if a pattern exists in strings.\n\n## Why These Methods?\n\n- Clean up inconsistent formatting (\"$100\" \u2192 \"100\")\n- Find rows matching a pattern (\"Find all Gmail users\")\n- Standardize data (\"USA\", \"U.S.A.\", \"United States\" \u2192 \"USA\")\n\n## Real-World Analogy\n\nFind-and-replace in a word processor:\n- Find all instances of \"colour\" and replace with \"color\"\n- Or find all lines containing \"ERROR\" in a log file\n\n## Using str.replace()\n\n```python\nimport pandas as pd\n\ndf = pd.DataFrame({\n    'price': ['$10', '$25', '$50']\n})\n\n# Remove the $ symbol\ndf['price'] = df['price'].str.replace('$', '', regex=False)\n# ['10', '25', '50']\n\n# For patterns, use regex=True\ndf['text'] = df['text'].str.replace(r'\\d+', 'NUM', regex=True)\n```\n\n## Using str.contains()\n\n```python\ndf = pd.DataFrame({\n    'email': ['alice@gmail.com', 'bob@yahoo.com', 'carol@gmail.com']\n})\n\n# Find Gmail users\ngmail_mask = df['email'].str.contains('gmail')\ngmail_users = df[gmail_mask]\n```\n\n## Key Vocabulary\n\n| Term | Meaning |\n| --- | --- |\n| **str.replace()** | Replace substring with another |\n| **str.contains()** | Check if substring exists |\n| **regex** | Regular expression pattern matching |\n\n---\n\n## \ud83c\udfaf Your Task\n\nRemove the \"$\" from all prices and print the DataFrame.\n",
    "starter_code": "import pandas as pd\n\ndf = pd.DataFrame({\n    'item': ['Apple', 'Banana', 'Orange'],\n    'price': ['$1.00', '$0.50', '$0.75']\n})\n\n# Remove $ from prices\n",
    "solution_code": "import pandas as pd\n\ndf = pd.DataFrame({\n    'item': ['Apple', 'Banana', 'Orange'],\n    'price': ['$1.00', '$0.50', '$0.75']\n})\n\n# Remove $ from prices\ndf['price'] = df['price'].str.replace('$', '', regex=False)\nprint(df)",
    "expected_output": "     item price\n0   Apple  1.00\n1  Banana  0.50\n2  Orange  0.75",
    "order": 11
  },
  "142": {
    "id": 142,
    "title": "Splitting Strings",
    "chapter_id": 96,
    "chapter_title": "Data Cleaning",
    "content": "# \u2702\ufe0f Splitting Strings\n\n## Definition\n`str.split()` breaks strings into parts. Combined with `expand=True`, it creates new columns.\n\n## Why Split Strings?\n\n- Names: \"John Doe\" \u2192 \"John\" + \"Doe\"\n- Addresses: \"123 Main St, NYC\" \u2192 Street + City\n- Dates: \"2024-01-15\" \u2192 Year + Month + Day\n\n## Real-World Analogy\n\nImagine a phone number \"555-123-4567\":\n- Split by \"-\" to get: area code, exchange, number\n- Now you can analyze by area code!\n\n## Splitting into New Columns\n\n```python\nimport pandas as pd\n\ndf = pd.DataFrame({\n    'full_name': ['Alice Smith', 'Bob Jones', 'Carol White']\n})\n\n# Split and create new columns\ndf[['first', 'last']] = df['full_name'].str.split(' ', expand=True)\n#   full_name   first   last\n# 0  Alice Smith  Alice  Smith\n# 1   Bob Jones    Bob  Jones\n# 2  Carol White  Carol  White\n```\n\n## Extracting Specific Parts\n\n```python\n# Get just the first part (index 0)\ndf['first'] = df['full_name'].str.split(' ').str[0]\n\n# Get just the last part (index -1)\ndf['last'] = df['full_name'].str.split(' ').str[-1]\n```\n\n## Key Vocabulary\n\n| Term | Meaning |\n| --- | --- |\n| **str.split()** | Split string by delimiter |\n| **expand=True** | Return DataFrame instead of Series |\n| **.str[n]** | Get n-th element after splitting |\n\n---\n\n## \ud83c\udfaf Your Task\n\nSplit full names into first and last names. Print only the first names.\n",
    "starter_code": "import pandas as pd\n\ndf = pd.DataFrame({\n    'name': ['John Doe', 'Jane Smith', 'Bob Wilson']\n})\n\n# Extract first names\n",
    "solution_code": "import pandas as pd\n\ndf = pd.DataFrame({\n    'name': ['John Doe', 'Jane Smith', 'Bob Wilson']\n})\n\n# Extract first names\ndf['first_name'] = df['name'].str.split(' ').str[0]\nprint(df['first_name'])",
    "expected_output": "0    John\n1    Jane\n2     Bob\nName: first_name, dtype: object",
    "order": 12
  },
  "143": {
    "id": 143,
    "title": "Converting Dates",
    "chapter_id": 96,
    "chapter_title": "Data Cleaning",
    "content": "# \ud83d\udcc5 Converting Date Strings\n\n## Definition\n`pd.to_datetime()` converts strings to datetime objects, enabling date calculations.\n\n## Why Convert Dates?\n\n| As String | As Datetime |\n| --- | --- |\n| Can't calculate difference | \"2024-01-15\" - \"2024-01-01\" = 14 days |\n| Can't extract year/month | .dt.year extracts 2024 |\n| Sorting is alphabetical | Sorting is chronological |\n\n## Real-World Analogy\n\nA calendar app can't schedule events from text \"January 15\":\n- It needs to understand it's a DATE\n- Then it can calculate \"3 days until event\"\n\n## Using to_datetime()\n\n```python\nimport pandas as pd\n\ndf = pd.DataFrame({\n    'date_str': ['2024-01-15', '2024-02-20', '2024-03-10']\n})\n\n# Convert to datetime\ndf['date'] = pd.to_datetime(df['date_str'])\n\n# Now you can use .dt accessor\ndf['year'] = df['date'].dt.year      # 2024, 2024, 2024\ndf['month'] = df['date'].dt.month    # 1, 2, 3\ndf['day'] = df['date'].dt.day        # 15, 20, 10\ndf['weekday'] = df['date'].dt.day_name()  # Monday, Tuesday, etc.\n```\n\n## Key Vocabulary\n\n| Term | Meaning |\n| --- | --- |\n| **to_datetime()** | Convert strings to datetime |\n| **.dt** | Accessor for datetime properties |\n| **datetime64** | NumPy/Pandas date type |\n\n---\n\n## \ud83c\udfaf Your Task\n\nConvert the date strings to datetime and extract just the month. Print the months.\n",
    "starter_code": "import pandas as pd\n\ndf = pd.DataFrame({\n    'date': ['2024-03-15', '2024-06-20', '2024-09-01']\n})\n\n# Convert to datetime and extract month\n",
    "solution_code": "import pandas as pd\n\ndf = pd.DataFrame({\n    'date': ['2024-03-15', '2024-06-20', '2024-09-01']\n})\n\n# Convert to datetime and extract month\ndf['date'] = pd.to_datetime(df['date'])\nprint(df['date'].dt.month)",
    "expected_output": "0    3\n1    6\n2    9\nName: date, dtype: int32",
    "order": 14
  },
  "144": {
    "id": 144,
    "title": "Handling Conversion Errors",
    "chapter_id": 96,
    "chapter_title": "Data Cleaning",
    "content": "# \u26a0\ufe0f Handling Conversion Errors\n\n## Definition\nWhen converting types, some values might fail (e.g., \"N/A\" can't become a number). Use `errors` parameter to handle gracefully.\n\n## Why Handle Errors?\n\nReal data has messy values:\n- \"12.5\" \u2192 fine\n- \"N/A\" \u2192 can't convert to float!\n- \"unknown\" \u2192 can't convert!\n\nWithout error handling, your code crashes.\n\n## Real-World Analogy\n\nA calculator that crashes on invalid input is useless:\n- Better: Show \"Error\" for that entry\n- Or: Skip that row and continue\n\n## Error Handling Options\n\n```python\nimport pandas as pd\n\ndf = pd.DataFrame({\n    'value': ['10', '20', 'N/A', '40']\n})\n\n# errors='raise' (default) - crashes on bad data\n# df['value'].astype(float)  # Error!\n\n# errors='coerce' - bad values become NaN\ndf['value'] = pd.to_numeric(df['value'], errors='coerce')\n# [10.0, 20.0, NaN, 40.0]\n\n# errors='ignore' - leave bad values as-is\ndf['value'] = pd.to_numeric(df['value'], errors='ignore')\n```\n\n## Key Vocabulary\n\n| Term | Meaning |\n| --- | --- |\n| **errors='raise'** | Raise exception on bad data |\n| **errors='coerce'** | Convert bad data to NaN |\n| **errors='ignore'** | Leave bad data unchanged |\n\n---\n\n## \ud83c\udfaf Your Task\n\nConvert the values to numeric, using `errors='coerce'` to handle non-numeric values. Print the result.\n",
    "starter_code": "import pandas as pd\n\ndf = pd.DataFrame({\n    'quantity': ['10', '20', 'unknown', '30']\n})\n\n# Convert to numeric with error handling\n",
    "solution_code": "import pandas as pd\n\ndf = pd.DataFrame({\n    'quantity': ['10', '20', 'unknown', '30']\n})\n\n# Convert to numeric with error handling\ndf['quantity'] = pd.to_numeric(df['quantity'], errors='coerce')\nprint(df['quantity'])",
    "expected_output": "0    10.0\n1    20.0\n2     NaN\n3    30.0\nName: quantity, dtype: float64",
    "order": 15
  },
  "1001": {
    "id": 1001,
    "title": "What is a Database?",
    "content": "#  What is a Database?\n\n## Definition\n\nA **database** is an organized collection of data stored electronically. Think of it as a digital filing cabinet where information is stored in a structured way so you can easily find, update, and manage it.\n\n## Why Do We Need Databases?\n\n| Without Database | With Database |\n| --- | --- |\n| Data in scattered files | Data in one organized place |\n| Hard to find information | Fast searching |\n| Duplicate data everywhere | Single source of truth |\n| Multiple people can't edit | Concurrent access |\n\n## Real-World Examples\n\n- **E-commerce**: Products, orders, customers\n- **Social Media**: Users, posts, likes, comments\n- **Banking**: Accounts, transactions, balances\n- **Healthcare**: Patients, appointments, records\n\n## Types of Databases\n\n| Type | Description | Example |\n| --- | --- | --- |\n| **Relational (SQL)** | Data in tables with relationships | PostgreSQL, MySQL |\n| **NoSQL** | Flexible structure | MongoDB, Redis |\n| **Data Warehouse** | Optimized for analytics | Snowflake, BigQuery |\n\nIn this course, we focus on **SQL databases** - the most common type for business data.\n\n---\n\n##  Your Task\n\nWrite a SELECT statement that returns the text 'Hello, SQL!'.\n",
    "starter_code": "-- Your first SQL query!\n-- SELECT is used to retrieve data\n\nSELECT 'Hello, SQL!';",
    "solution_code": "SELECT 'Hello, SQL!';",
    "expected_output": "Hello, SQL!",
    "chapter_id": 200,
    "chapter_title": "Setup & Mental Model"
  },
  "1002": {
    "id": 1002,
    "title": "Tables, Rows, and Columns",
    "content": "#  Tables, Rows, and Columns\n\n## The Building Blocks\n\nSQL databases organize data into **tables**:\n\n```\n\n              employees                   \n\n id    name        role     salary       Column names\n\n 1     Alice       Analyst  75000        Row 1\n 2     Bob         Manager  90000        Row 2\n 3     Charlie     Analyst  72000        Row 3\n\n```\n\n## Key Terminology\n\n| Term | Also Called | Definition |\n| --- | --- | --- |\n| **Table** | Relation | A collection of related data |\n| **Row** | Record, Tuple | One complete entry |\n| **Column** | Field, Attribute | A specific piece of data |\n\n## Important Rules\n\n1. Each column has a **data type** (text, number, date)\n2. Each row should be **unique** (identified by a key)\n3. Column names should be **descriptive**\n4. Tables should represent **one concept** (employees, orders, products)\n\n---\n\n##  Your Task\n\nSelect all columns from the employees table using SELECT *.\n",
    "starter_code": "-- The employees table has: id, name, department, salary\n-- Use SELECT * to get all columns\n\n",
    "solution_code": "SELECT * FROM employees;",
    "expected_output": "id | name    | department | salary\n1  | Alice   | Sales      | 75000\n2  | Bob     | Marketing  | 90000\n3  | Charlie | Sales      | 72000",
    "chapter_id": 200,
    "chapter_title": "Setup & Mental Model"
  },
  "1003": {
    "id": 1003,
    "title": "Primary Keys",
    "content": "#  Primary Keys\n\n## What is a Primary Key?\n\nA **primary key** is a column (or combination of columns) that uniquely identifies each row in a table. No two rows can have the same primary key value.\n\n## Why Are Primary Keys Essential?\n\n```\n\n id    name        email       \n\n 1     Alice       a@mail.com     id=1 is unique!\n 2     Alice       b@mail.com     Same name, different id\n 3     Bob         c@mail.com  \n\n  \n  Primary Key (PK)\n```\n\n## Primary Key Rules\n\n1. **Unique**: No duplicate values allowed\n2. **Not NULL**: Must always have a value\n3. **Immutable**: Should rarely change\n4. **Simple**: Often an auto-incrementing integer\n\n## Common Primary Key Patterns\n\n| Pattern | Example | Use Case |\n| --- | --- | --- |\n| Auto-increment | 1, 2, 3, 4... | Most common |\n| UUID | 'a1b2c3d4-...' | Distributed systems |\n| Natural key | 'USA', 'CAN' | Country codes |\n\n---\n\n##  Your Task\n\nSelect the id and name columns from customers table.\n",
    "starter_code": "-- customers table has: id (primary key), name, email, city\n-- Select just id and name\n\n",
    "solution_code": "SELECT id, name FROM customers;",
    "expected_output": "id | name\n1  | Alice\n2  | Bob\n3  | Charlie",
    "chapter_id": 200,
    "chapter_title": "Setup & Mental Model"
  },
  "1004": {
    "id": 1004,
    "title": "Foreign Keys & Relationships",
    "content": "#  Foreign Keys & Relationships\n\n## Connecting Tables Together\n\nA **foreign key** is a column that references the primary key of another table. This creates a **relationship** between tables.\n\n```\n customers         orders \n id  name                  id  customer_id  amount  \n       \n 1   Alice          1   1            99.99   \n 2   Bob            2   1            149.99  \n       3   2            49.99   \n  PK                        \n                                      FK\n                         References customers.id\n```\n\n## Why Use Foreign Keys?\n\n1. **Avoid duplication**: Store customer info once, reference it many times\n2. **Data integrity**: Can't create an order for a non-existent customer\n3. **Enable JOINs**: Combine data from multiple tables\n\n## Relationship Types\n\n| Type | Example |\n| --- | --- |\n| **One-to-Many** | One customer has many orders |\n| **One-to-One** | One user has one profile |\n| **Many-to-Many** | Students enrolled in courses |\n\n---\n\n##  Your Task\n\nSelect order_id and customer_id from the orders table.\n",
    "starter_code": "-- orders table has: order_id, customer_id (FK), product, amount\n-- Select order_id and customer_id\n\n",
    "solution_code": "SELECT order_id, customer_id FROM orders;",
    "expected_output": "order_id | customer_id\n1        | 101\n2        | 101\n3        | 102",
    "chapter_id": 200,
    "chapter_title": "Setup & Mental Model"
  },
  "1005": {
    "id": 1005,
    "title": "SQL is Declarative",
    "content": "#  SQL is Declarative\n\n## Declarative vs Imperative\n\n| Imperative (How) | Declarative (What) |\n| --- | --- |\n| Step-by-step instructions | Describe desired result |\n| Python, Java, JavaScript | SQL, HTML, CSS |\n| You control the loop | Database figures it out |\n\n## Example Comparison\n\n**Imperative (Python):**\n```python\nresults = []\nfor row in table:\n    if row['salary'] > 50000:\n        results.append(row['name'])\n```\n\n**Declarative (SQL):**\n```sql\nSELECT name FROM employees WHERE salary > 50000;\n```\n\nIn SQL, you say WHAT you want, and the database engine figures out HOW to get it!\n\n## Why This Matters\n\n1. **Simpler code**: Less boilerplate\n2. **Optimized execution**: Database chooses the best approach\n3. **Portable**: Same query works across databases\n4. **Focus on logic**: Not on implementation details\n\n---\n\n##  Your Task\n\nWrite a declarative SQL query to get names where salary > 60000.\n",
    "starter_code": "-- Get employee names with salary above 60000\n-- Remember: SQL is declarative - say WHAT you want!\n\n",
    "solution_code": "SELECT name FROM employees WHERE salary > 60000;",
    "expected_output": "name\nAlice\nBob",
    "chapter_id": 200,
    "chapter_title": "Setup & Mental Model"
  },
  "1006": {
    "id": 1006,
    "title": "Result Sets",
    "content": "#  Result Sets\n\n## What is a Result Set?\n\nWhen you run a SELECT query, the database returns a **result set** - a temporary table containing your requested data.\n\n```sql\nSELECT name, salary FROM employees WHERE department = 'Sales';\n```\n\nReturns:\n```\n\n name     salary    Result Set\n\n Alice    75000  \n Charlie  72000  \n\n```\n\n## Result Set Properties\n\n- **Temporary**: Only exists while query runs\n- **Read-only**: You can't directly edit it\n- **Ordered**: Can be sorted with ORDER BY\n- **Subset**: Can be limited with LIMIT\n\n## Empty Result Sets\n\nIf no rows match your criteria:\n```sql\nSELECT * FROM employees WHERE salary > 1000000;\n-- Returns 0 rows (an empty result set)\n```\n\nThis is NOT an error - it's a valid result meaning \"no matches found.\"\n\n---\n\n##  Your Task\n\nSelect name and department from employees.\n",
    "starter_code": "-- Get name and department columns\n\n",
    "solution_code": "SELECT name, department FROM employees;",
    "expected_output": "name    | department\nAlice   | Sales\nBob     | Marketing\nCharlie | Sales",
    "chapter_id": 200,
    "chapter_title": "Setup & Mental Model"
  },
  "1007": {
    "id": 1007,
    "title": "NULL Basics",
    "content": "#  NULL Basics\n\n## What is NULL?\n\n**NULL** represents missing or unknown data. It is NOT:\n- Zero (0)\n- An empty string ('')\n- The word 'null'\n\nIt literally means \"we don't know this value.\"\n\n## Examples of NULL\n\n```\n\n id  name     phone     \n\n 1   Alice    555-1234  \n 2   Bob      NULL         Bob hasn't provided a phone\n 3   Charlie  555-5678  \n\n```\n\n## NULL Behavior\n\n- `NULL = NULL` is **not TRUE** (it's NULL!)\n- Any math with NULL gives NULL: `5 + NULL = NULL`\n- Use `IS NULL` to check for NULL values\n\n## Why NULL Matters for Data Science\n\n- Missing data is common in real datasets\n- Ignoring NULL can lead to wrong calculations\n- Different aggregations handle NULL differently\n\n---\n\n##  Your Task\n\nSelect all columns from products where price IS NULL.\n",
    "starter_code": "-- Find products with missing prices\n-- Use IS NULL (not = NULL)\n\n",
    "solution_code": "SELECT * FROM products WHERE price IS NULL;",
    "expected_output": "id | name       | price\n3  | Widget C   | NULL",
    "chapter_id": 200,
    "chapter_title": "Setup & Mental Model"
  },
  "1008": {
    "id": 1008,
    "title": "Schema Organization",
    "content": "#  Schema Organization\n\n## What is a Schema?\n\nA **schema** is a logical container that groups related tables together. Think of it like folders organizing files.\n\n```\nDatabase: company_db\n public (schema)\n    employees\n    departments\n sales (schema)\n    orders\n    customers\n analytics (schema)\n     daily_metrics\n     user_events\n```\n\n## Referencing Tables with Schemas\n\n```sql\n-- Without schema (uses default)\nSELECT * FROM employees;\n\n-- With schema prefix\nSELECT * FROM public.employees;\nSELECT * FROM sales.orders;\n```\n\n## Common Schema Patterns\n\n| Schema | Purpose |\n| --- | --- |\n| **public** | Default tables |\n| **raw** | Unprocessed source data |\n| **staging** | Cleaned intermediate data |\n| **analytics** | Final reporting tables |\n\n---\n\n##  Your Task\n\nSelect all from the sales.orders table using schema prefix.\n",
    "starter_code": "-- Select from sales schema, orders table\n\n",
    "solution_code": "SELECT * FROM sales.orders;",
    "expected_output": "order_id | customer_id | total\n1        | 101         | 99.99\n2        | 102         | 149.99",
    "chapter_id": 200,
    "chapter_title": "Setup & Mental Model"
  },
  "1009": {
    "id": 1009,
    "title": "Query Execution Order",
    "content": "#  Query Execution Order\n\n## SQL Doesn't Run Top-to-Bottom!\n\nThe order you WRITE a query differs from how it EXECUTES:\n\n**Writing Order:**\n```sql\nSELECT name, SUM(amount)    -- 1st written\nFROM orders                  -- 2nd written\nWHERE status = 'completed'   -- 3rd written\nGROUP BY name                -- 4th written\nHAVING SUM(amount) > 100     -- 5th written\nORDER BY SUM(amount) DESC    -- 6th written\nLIMIT 10;                    -- 7th written\n```\n\n**Execution Order:**\n1. **FROM** - Which table?\n2. **WHERE** - Filter rows\n3. **GROUP BY** - Group rows\n4. **HAVING** - Filter groups\n5. **SELECT** - Choose columns\n6. **ORDER BY** - Sort results\n7. **LIMIT** - Limit rows\n\n## Why This Matters\n\n- You can't use a SELECT alias in WHERE\n- HAVING filters AFTER grouping\n- ORDER BY runs almost last\n\n---\n\n##  Your Task\n\nWrite a query with FROM, WHERE, and SELECT in correct syntax order.\n",
    "starter_code": "-- Get name from employees where department = 'Sales'\n-- Remember: SELECT comes first in syntax\n\n",
    "solution_code": "SELECT name FROM employees WHERE department = 'Sales';",
    "expected_output": "name\nAlice\nCharlie",
    "chapter_id": 200,
    "chapter_title": "Setup & Mental Model"
  },
  "1010": {
    "id": 1010,
    "title": "Your First SELECT",
    "content": "#  Your First SELECT\n\n## The SELECT Statement\n\nSELECT is the most fundamental SQL command. It retrieves data from a table.\n\n```sql\nSELECT column_name FROM table_name;\n```\n\n## Breaking It Down\n\n| Part | Purpose |\n| --- | --- |\n| `SELECT` | Keyword to start retrieving data |\n| `column_name` | Which column(s) you want |\n| `FROM` | Keyword indicating the source |\n| `table_name` | Which table to query |\n\n## Simple Examples\n\n```sql\n-- Get one column\nSELECT name FROM employees;\n\n-- Get multiple columns\nSELECT name, salary FROM employees;\n\n-- Get all columns\nSELECT * FROM employees;\n```\n\n## Semicolon\n\nSQL statements end with a semicolon (`;`). This tells the database the command is complete.\n\n---\n\n##  Your Task\n\nSelect only the 'email' column from the users table.\n",
    "starter_code": "-- Select the email column from users\n\n",
    "solution_code": "SELECT email FROM users;",
    "expected_output": "email\nalice@example.com\nbob@example.com\ncharlie@example.com",
    "chapter_id": 201,
    "chapter_title": "SELECT Basics"
  },
  "1011": {
    "id": 1011,
    "title": "Selecting Multiple Columns",
    "content": "#  Selecting Multiple Columns\n\n## Comma-Separated Columns\n\nTo select more than one column, separate them with commas:\n\n```sql\nSELECT column1, column2, column3 FROM table_name;\n```\n\n## Example\n\n```sql\nSELECT name, email, city FROM customers;\n```\n\nReturns:\n```\nname    | email           | city\nAlice   | a@mail.com      | NYC\nBob     | b@mail.com      | LA\n```\n\n## Column Order\n\nColumns appear in the result in the order you list them:\n\n```sql\nSELECT city, name FROM customers;  -- city first!\n```\n\n## Tips\n\n- List columns in logical order\n- Only select columns you need (better performance)\n- Group related columns together\n\n---\n\n##  Your Task\n\nSelect name, department, and salary from employees (in that order).\n",
    "starter_code": "-- Select name, department, and salary\n\n",
    "solution_code": "SELECT name, department, salary FROM employees;",
    "expected_output": "name    | department | salary\nAlice   | Sales      | 75000\nBob     | Marketing  | 90000\nCharlie | Sales      | 72000",
    "chapter_id": 201,
    "chapter_title": "SELECT Basics"
  },
  "1012": {
    "id": 1012,
    "title": "SELECT All Columns",
    "content": "#  SELECT All Columns\n\n## The Asterisk (*)\n\nUse `*` to select ALL columns from a table:\n\n```sql\nSELECT * FROM employees;\n```\n\n## When to Use *\n\n **Good for:**\n- Quick exploration of data\n- Ad-hoc queries\n- When you genuinely need all columns\n\n **Avoid for:**\n- Production code (breaks if columns change)\n- Large tables (fetches unnecessary data)\n- Joins (can cause column name conflicts)\n\n## Best Practice\n\n```sql\n-- Instead of this in production:\nSELECT * FROM orders;\n\n-- Be explicit:\nSELECT order_id, customer_id, amount, status FROM orders;\n```\n\nExplicit column lists are self-documenting and more maintainable.\n\n---\n\n##  Your Task\n\nSelect all columns from the products table.\n",
    "starter_code": "-- Select all columns from products\n\n",
    "solution_code": "SELECT * FROM products;",
    "expected_output": "id | name     | price | category\n1  | Widget A | 29.99 | Tools\n2  | Widget B | 49.99 | Tools\n3  | Gadget C | 99.99 | Electronics",
    "chapter_id": 201,
    "chapter_title": "SELECT Basics"
  },
  "1013": {
    "id": 1013,
    "title": "Column Aliases with AS",
    "content": "#  Column Aliases with AS\n\n## Renaming Columns in Output\n\nUse `AS` to give columns friendlier names in your result:\n\n```sql\nSELECT employee_name AS name FROM employees;\n```\n\n## Why Use Aliases?\n\n1. **Readability**: `first_name`  `First Name`\n2. **Calculations**: Name computed values\n3. **Joins**: Distinguish duplicate column names\n\n## Examples\n\n```sql\n-- Simple rename\nSELECT email AS contact_email FROM users;\n\n-- With calculations\nSELECT price, price * 0.9 AS discounted_price FROM products;\n\n-- Spaces in alias (use quotes)\nSELECT name AS \"Employee Name\" FROM employees;\n```\n\n## AS is Optional\n\n```sql\n-- These are equivalent:\nSELECT name AS employee_name FROM employees;\nSELECT name employee_name FROM employees;\n```\n\nBut using `AS` is clearer!\n\n---\n\n##  Your Task\n\nSelect name as 'employee_name' and salary as 'annual_salary'.\n",
    "starter_code": "-- Select with aliases\n\n",
    "solution_code": "SELECT name AS employee_name, salary AS annual_salary FROM employees;",
    "expected_output": "employee_name | annual_salary\nAlice         | 75000\nBob           | 90000\nCharlie       | 72000",
    "chapter_id": 201,
    "chapter_title": "SELECT Basics"
  },
  "1014": {
    "id": 1014,
    "title": "Table Aliases",
    "content": "#  Table Aliases\n\n## Shortening Table Names\n\nIn complex queries, give tables short aliases:\n\n```sql\nSELECT e.name, e.salary\nFROM employees AS e;\n```\n\n## Why Table Aliases?\n\n1. **Less typing**: `employees`  `e`\n2. **Required for self-joins**: Same table used twice\n3. **Clarity in JOINs**: `e.name` vs `o.name`\n\n## Common Conventions\n\n```sql\n-- First letter(s) of table name\nSELECT c.name, o.amount\nFROM customers AS c\nJOIN orders AS o ON c.id = o.customer_id;\n```\n\n| Table | Common Alias |\n| --- | --- |\n| employees | e, emp |\n| customers | c, cust |\n| orders | o, ord |\n| products | p, prod |\n\n---\n\n##  Your Task\n\nSelect name and department from employees using alias 'e'.\n",
    "starter_code": "-- Use table alias 'e' for employees\n\n",
    "solution_code": "SELECT e.name, e.department FROM employees AS e;",
    "expected_output": "name    | department\nAlice   | Sales\nBob     | Marketing\nCharlie | Sales",
    "chapter_id": 201,
    "chapter_title": "SELECT Basics"
  },
  "1015": {
    "id": 1015,
    "title": "LIMIT Clause",
    "content": "#  LIMIT Clause\n\n## Restricting Result Size\n\nLIMIT returns only the first N rows:\n\n```sql\nSELECT * FROM products LIMIT 5;\n```\n\n## Why Use LIMIT?\n\n1. **Previewing data**: See first few rows\n2. **Performance**: Don't fetch millions of rows\n3. **Top N queries**: Combined with ORDER BY\n\n## Examples\n\n```sql\n-- First 10 rows\nSELECT * FROM orders LIMIT 10;\n\n-- Top 5 highest salaries\nSELECT name, salary\nFROM employees\nORDER BY salary DESC\nLIMIT 5;\n\n-- With OFFSET (skip rows)\nSELECT * FROM products LIMIT 10 OFFSET 20;  -- Skip 20, get next 10\n```\n\n## Database Differences\n\n| Database | Syntax |\n| --- | --- |\n| PostgreSQL, MySQL | LIMIT 10 |\n| SQL Server | TOP 10 |\n| Oracle | FETCH FIRST 10 ROWS ONLY |\n\n---\n\n##  Your Task\n\nSelect all columns from orders, but only the first 3 rows.\n",
    "starter_code": "-- Get first 3 orders\n\n",
    "solution_code": "SELECT * FROM orders LIMIT 3;",
    "expected_output": "order_id | customer_id | amount\n1        | 101         | 99.99\n2        | 101         | 149.99\n3        | 102         | 49.99",
    "chapter_id": 201,
    "chapter_title": "SELECT Basics"
  },
  "1016": {
    "id": 1016,
    "title": "WHERE Basics",
    "content": "#  WHERE Basics\n\n## Filtering Rows\n\nWHERE filters which rows are returned:\n\n```sql\nSELECT * FROM employees WHERE department = 'Sales';\n```\n\n## Basic Syntax\n\n```sql\nSELECT columns\nFROM table\nWHERE condition;\n```\n\n## Common Conditions\n\n```sql\n-- Equals\nWHERE status = 'active'\n\n-- Not equals\nWHERE status != 'cancelled'\nWHERE status <> 'cancelled'  -- Alternative syntax\n\n-- Numbers\nWHERE price > 100\nWHERE quantity <= 50\n```\n\n## Text Values Need Quotes\n\n```sql\n-- Correct: strings in single quotes\nWHERE name = 'Alice'\n\n-- Wrong: unquoted\nWHERE name = Alice  -- Error!\n```\n\n---\n\n##  Your Task\n\nSelect name and salary from employees where salary > 70000.\n",
    "starter_code": "-- Filter employees with salary > 70000\n\n",
    "solution_code": "SELECT name, salary FROM employees WHERE salary > 70000;",
    "expected_output": "name  | salary\nAlice | 75000\nBob   | 90000",
    "chapter_id": 201,
    "chapter_title": "SELECT Basics"
  },
  "1017": {
    "id": 1017,
    "title": "Comparison Operators",
    "content": "#  Comparison Operators\n\n## All Comparison Operators\n\n| Operator | Meaning | Example |\n| --- | --- | --- |\n| `=` | Equal | `price = 100` |\n| `<>` or `!=` | Not equal | `status <> 'done'` |\n| `<` | Less than | `age < 18` |\n| `>` | Greater than | `score > 90` |\n| `<=` | Less than or equal | `qty <= 10` |\n| `>=` | Greater than or equal | `rating >= 4` |\n\n## Multiple Conditions\n\nCombine with AND / OR:\n\n```sql\n-- Both must be true\nWHERE salary > 50000 AND department = 'Sales'\n\n-- Either can be true\nWHERE department = 'Sales' OR department = 'Marketing'\n\n-- Use parentheses for complex logic\nWHERE (age > 21 OR has_permission = true) AND status = 'active'\n```\n\n## NOT Operator\n\n```sql\nWHERE NOT status = 'cancelled'\nWHERE NOT (price > 100 AND qty < 5)\n```\n\n---\n\n##  Your Task\n\nFind employees in Sales department with salary >= 75000.\n",
    "starter_code": "-- Use AND to combine two conditions\n\n",
    "solution_code": "SELECT * FROM employees WHERE department = 'Sales' AND salary >= 75000;",
    "expected_output": "id | name  | department | salary\n1  | Alice | Sales      | 75000",
    "chapter_id": 201,
    "chapter_title": "SELECT Basics"
  },
  "1018": {
    "id": 1018,
    "title": "IN Operator",
    "content": "#  IN Operator\n\n## Check Against a List\n\nIN checks if a value matches ANY value in a list:\n\n```sql\nSELECT * FROM employees\nWHERE department IN ('Sales', 'Marketing', 'Engineering');\n```\n\n## IN vs Multiple ORs\n\n```sql\n-- These are equivalent:\nWHERE department IN ('Sales', 'Marketing')\n\nWHERE department = 'Sales' OR department = 'Marketing'\n```\n\nIN is cleaner when checking many values!\n\n## NOT IN\n\nExclude values with NOT IN:\n\n```sql\nSELECT * FROM orders\nWHERE status NOT IN ('cancelled', 'refunded');\n```\n\n##  NULL Warning\n\n```sql\n-- If any value is NULL, NOT IN behaves unexpectedly!\nWHERE id NOT IN (1, 2, NULL)  -- Returns no rows!\n```\n\nBe careful with NULL in NOT IN lists.\n\n---\n\n##  Your Task\n\nSelect products where category is in ('Electronics', 'Tools').\n",
    "starter_code": "-- Use IN to match multiple categories\n\n",
    "solution_code": "SELECT * FROM products WHERE category IN ('Electronics', 'Tools');",
    "expected_output": "id | name     | price | category\n1  | Widget A | 29.99 | Tools\n2  | Widget B | 49.99 | Tools\n3  | Gadget C | 99.99 | Electronics",
    "chapter_id": 201,
    "chapter_title": "SELECT Basics"
  },
  "1019": {
    "id": 1019,
    "title": "BETWEEN Operator",
    "content": "#  BETWEEN Operator\n\n## Range Checking\n\nBETWEEN checks if a value falls within a range (inclusive):\n\n```sql\nSELECT * FROM products\nWHERE price BETWEEN 10 AND 50;\n```\n\nThis includes 10 AND 50!\n\n## Equivalent to\n\n```sql\n-- These are the same:\nWHERE price BETWEEN 10 AND 50\nWHERE price >= 10 AND price <= 50\n```\n\n## Works with Dates Too\n\n```sql\nSELECT * FROM orders\nWHERE order_date BETWEEN '2024-01-01' AND '2024-12-31';\n```\n\n## NOT BETWEEN\n\n```sql\n-- Outside the range\nWHERE price NOT BETWEEN 10 AND 50\n```\n\n---\n\n##  Your Task\n\nSelect employees with salary between 70000 and 80000.\n",
    "starter_code": "-- Find salaries in range 70000-80000\n\n",
    "solution_code": "SELECT * FROM employees WHERE salary BETWEEN 70000 AND 80000;",
    "expected_output": "id | name    | department | salary\n1  | Alice   | Sales      | 75000\n3  | Charlie | Sales      | 72000",
    "chapter_id": 201,
    "chapter_title": "SELECT Basics"
  },
  "1020": {
    "id": 1020,
    "title": "LIKE Pattern Matching",
    "content": "#  LIKE Pattern Matching\n\n## Wildcards for Text Search\n\nLIKE searches for patterns using wildcards:\n\n| Wildcard | Meaning | Example |\n| --- | --- | --- |\n| `%` | Any characters (0 or more) | `'%son'` matches 'Johnson' |\n| `_` | Exactly one character | `'_at'` matches 'Cat', 'Bat' |\n\n## Common Patterns\n\n```sql\n-- Starts with 'A'\nWHERE name LIKE 'A%'\n\n-- Ends with 'son'\nWHERE name LIKE '%son'\n\n-- Contains 'data'\nWHERE description LIKE '%data%'\n\n-- Second letter is 'a'\nWHERE name LIKE '_a%'\n```\n\n## Case Sensitivity\n\n```sql\n-- PostgreSQL: ILIKE for case-insensitive\nWHERE name ILIKE '%alice%'  -- Matches 'Alice', 'ALICE', 'alice'\n\n-- MySQL: LIKE is case-insensitive by default\n```\n\n---\n\n##  Your Task\n\nFind employees whose name starts with 'A'.\n",
    "starter_code": "-- Select names starting with 'A'\n\n",
    "solution_code": "SELECT * FROM employees WHERE name LIKE 'A%';",
    "expected_output": "id | name  | department | salary\n1  | Alice | Sales      | 75000",
    "chapter_id": 201,
    "chapter_title": "SELECT Basics"
  },
  "1021": {
    "id": 1021,
    "title": "ORDER BY Sorting",
    "content": "#  ORDER BY Sorting\n\n## Sorting Results\n\nORDER BY arranges rows in a specific order:\n\n```sql\nSELECT * FROM employees ORDER BY salary;\n```\n\n## ASC and DESC\n\n| Direction | Meaning | Default? |\n| --- | --- | --- |\n| `ASC` | Ascending (AZ, 19) | Yes |\n| `DESC` | Descending (ZA, 91) | No |\n\n```sql\n-- Highest salary first\nSELECT * FROM employees ORDER BY salary DESC;\n\n-- Alphabetically\nSELECT * FROM employees ORDER BY name ASC;\n```\n\n## Multiple Columns\n\n```sql\n-- Sort by department, then by salary within each dept\nSELECT * FROM employees\nORDER BY department ASC, salary DESC;\n```\n\n## NULL Sorting\n\nNULLs typically sort to the end (depends on database).\n\n```sql\n-- Control NULL position\nORDER BY column NULLS FIRST\nORDER BY column NULLS LAST\n```\n\n---\n\n##  Your Task\n\nSelect all employees ordered by salary descending.\n",
    "starter_code": "-- Order by salary from highest to lowest\n\n",
    "solution_code": "SELECT * FROM employees ORDER BY salary DESC;",
    "expected_output": "id | name    | department | salary\n2  | Bob     | Marketing  | 90000\n1  | Alice   | Sales      | 75000\n3  | Charlie | Sales      | 72000",
    "chapter_id": 201,
    "chapter_title": "SELECT Basics"
  },
  "1022": {
    "id": 1022,
    "title": "Integer Types",
    "content": "#  Integer Types\n\n## Whole Number Storage\n\nSQL provides several integer types for storing whole numbers:\n\n| Type | Storage | Range |\n| --- | --- | --- |\n| `SMALLINT` | 2 bytes | -32,768 to 32,767 |\n| `INTEGER` / `INT` | 4 bytes | -2.1 billion to 2.1 billion |\n| `BIGINT` | 8 bytes | Huge numbers |\n\n## Choosing the Right Type\n\n```sql\n-- Age: SMALLINT is plenty\nage SMALLINT\n\n-- User IDs: INTEGER for most apps\nuser_id INTEGER\n\n-- Large sequences: BIGINT for billions\npage_views BIGINT\n```\n\n## Auto-Incrementing IDs\n\n```sql\n-- PostgreSQL\nid SERIAL PRIMARY KEY  -- Auto-incrementing 1, 2, 3...\nid BIGSERIAL PRIMARY KEY  -- For large tables\n\n-- MySQL\nid INT AUTO_INCREMENT PRIMARY KEY\n```\n\n---\n\n##  Your Task\n\nSelect id and quantity from the inventory table where quantity > 100.\n",
    "starter_code": "-- inventory has: id (INT), product_name, quantity (INT)\n\n",
    "solution_code": "SELECT id, quantity FROM inventory WHERE quantity > 100;",
    "expected_output": "id | quantity\n1  | 150\n3  | 200",
    "chapter_id": 202,
    "chapter_title": "Data Types, NULLs & Calculations"
  },
  "1023": {
    "id": 1023,
    "title": "Numeric and Decimal Types",
    "content": "#  Numeric and Decimal Types\n\n## Precise Decimal Numbers\n\nFor money and precise calculations, use exact numeric types:\n\n```sql\n-- NUMERIC(precision, scale)\n-- precision = total digits\n-- scale = digits after decimal\n\nprice NUMERIC(10, 2)  -- 12345678.99\ntax_rate NUMERIC(5, 4)  -- 0.0825\n```\n\n## Floating Point vs Numeric\n\n| Type | Use Case | Precision |\n| --- | --- | --- |\n| `NUMERIC` / `DECIMAL` | Money, exact values | Exact |\n| `REAL` / `FLOAT` | Scientific data | Approximate |\n\n##  Why This Matters\n\n```sql\n-- Floating point can have rounding errors!\n0.1 + 0.2 = 0.30000000000000004  -- Float\n0.1 + 0.2 = 0.30  -- NUMERIC\n```\n\n**Always use NUMERIC for money!**\n\n---\n\n##  Your Task\n\nSelect product_name and price from products where price > 50.00.\n",
    "starter_code": "-- products has: id, product_name, price (NUMERIC)\n\n",
    "solution_code": "SELECT product_name, price FROM products WHERE price > 50.00;",
    "expected_output": "product_name | price\nWidget Pro   | 99.99\nGadget Plus  | 149.50",
    "chapter_id": 202,
    "chapter_title": "Data Types, NULLs & Calculations"
  },
  "1024": {
    "id": 1024,
    "title": "Text Types",
    "content": "#  Text Types\n\n## Storing Text Data\n\n| Type | Description | Example |\n| --- | --- | --- |\n| `CHAR(n)` | Fixed length, padded | Country codes |\n| `VARCHAR(n)` | Variable length, max n | Names, emails |\n| `TEXT` | Unlimited length | Descriptions, content |\n\n## When to Use Each\n\n```sql\n-- Fixed length codes\ncountry_code CHAR(2)  -- 'US', 'UK'\n\n-- Variable text with limit\nname VARCHAR(100)\nemail VARCHAR(255)\n\n-- Long content\nbio TEXT\narticle_body TEXT\n```\n\n## String Comparison\n\n```sql\n-- Case-sensitive by default in PostgreSQL\nWHERE name = 'Alice'  -- Won't match 'alice'\n\n-- Use LOWER() for case-insensitive\nWHERE LOWER(name) = 'alice'\n```\n\n---\n\n##  Your Task\n\nSelect name and email from users where email ends with '@gmail.com'.\n",
    "starter_code": "-- Find Gmail users\n\n",
    "solution_code": "SELECT name, email FROM users WHERE email LIKE '%@gmail.com';",
    "expected_output": "name  | email\nAlice | alice@gmail.com\nBob   | bob@gmail.com",
    "chapter_id": 202,
    "chapter_title": "Data Types, NULLs & Calculations"
  },
  "1025": {
    "id": 1025,
    "title": "Date and Timestamp Types",
    "content": "#  Date and Timestamp Types\n\n## Time-Related Types\n\n| Type | Stores | Example |\n| --- | --- | --- |\n| `DATE` | Date only | '2024-01-15' |\n| `TIME` | Time only | '14:30:00' |\n| `TIMESTAMP` | Date + time | '2024-01-15 14:30:00' |\n| `TIMESTAMPTZ` | With timezone | (PostgreSQL) |\n\n## Creating Date Values\n\n```sql\n-- String literals\nWHERE order_date = '2024-01-15'\nWHERE created_at > '2024-01-01 00:00:00'\n\n-- Current date/time\nSELECT CURRENT_DATE;  -- Today\nSELECT CURRENT_TIMESTAMP;  -- Now\nSELECT NOW();  -- PostgreSQL\n```\n\n## Date Formatting\n\n```sql\n-- Format for display (PostgreSQL)\nSELECT TO_CHAR(order_date, 'Month DD, YYYY');\n-- Output: January 15, 2024\n```\n\n---\n\n##  Your Task\n\nSelect order_id and order_date from orders where order_date > '2024-01-01'.\n",
    "starter_code": "-- Find orders after January 1, 2024\n\n",
    "solution_code": "SELECT order_id, order_date FROM orders WHERE order_date > '2024-01-01';",
    "expected_output": "order_id | order_date\n5        | 2024-01-15\n6        | 2024-02-01\n7        | 2024-03-10",
    "chapter_id": 202,
    "chapter_title": "Data Types, NULLs & Calculations"
  },
  "1026": {
    "id": 1026,
    "title": "Boolean Type",
    "content": "#  Boolean Type\n\n## True or False Values\n\nBOOLEAN stores true/false values:\n\n```sql\nis_active BOOLEAN\nis_verified BOOLEAN\nhas_paid BOOLEAN\n```\n\n## Boolean Literals\n\n```sql\n-- These all work:\nWHERE is_active = TRUE\nWHERE is_active = true\nWHERE is_active = 't'\nWHERE is_active = 1\n\n-- Shorthand (preferred)\nWHERE is_active  -- Same as = TRUE\nWHERE NOT is_active  -- Same as = FALSE\n```\n\n## Common Patterns\n\n```sql\n-- Find active premium users\nSELECT * FROM users\nWHERE is_active AND is_premium;\n\n-- Find unverified users\nSELECT * FROM users\nWHERE NOT is_verified;\n```\n\n---\n\n##  Your Task\n\nSelect name from users where is_active is true.\n",
    "starter_code": "-- Find active users\n\n",
    "solution_code": "SELECT name FROM users WHERE is_active;",
    "expected_output": "name\nAlice\nCharlie",
    "chapter_id": 202,
    "chapter_title": "Data Types, NULLs & Calculations"
  },
  "1027": {
    "id": 1027,
    "title": "Understanding NULL",
    "content": "#  Understanding NULL\n\n## NULL is Not a Value\n\nNULL means \"unknown\" or \"missing.\" It's NOT the same as:\n- Empty string ('')\n- Zero (0)\n- The word 'null'\n\n## The NULL Trap\n\n```sql\n-- This returns NO rows, even if phone IS null!\nSELECT * FROM users WHERE phone = NULL;  -- WRONG!\n\n-- This is correct:\nSELECT * FROM users WHERE phone IS NULL;  -- RIGHT!\n```\n\n## Why = NULL Doesn't Work\n\nNULL represents \"unknown\". Is unknown equal to unknown? We don't know! So the result is... NULL (neither true nor false).\n\n## NULL in Expressions\n\n```sql\n-- Any operation with NULL returns NULL\n5 + NULL = NULL\n'Hello' || NULL = NULL\nNULL = NULL  -- NULL (not TRUE!)\nNULL <> NULL  -- NULL (not TRUE!)\n```\n\n---\n\n##  Your Task\n\nSelect name from employees where manager_id IS NULL (no manager).\n",
    "starter_code": "-- Find employees with no manager\n\n",
    "solution_code": "SELECT name FROM employees WHERE manager_id IS NULL;",
    "expected_output": "name\nSarah",
    "chapter_id": 202,
    "chapter_title": "Data Types, NULLs & Calculations"
  },
  "1028": {
    "id": 1028,
    "title": "IS NULL and IS NOT NULL",
    "content": "#  IS NULL and IS NOT NULL\n\n## Checking for NULL Values\n\n```sql\n-- Find rows WITH missing data\nSELECT * FROM customers WHERE phone IS NULL;\n\n-- Find rows WITHOUT missing data\nSELECT * FROM customers WHERE phone IS NOT NULL;\n```\n\n## Common Use Cases\n\n```sql\n-- Data quality: Find incomplete profiles\nSELECT * FROM users\nWHERE email IS NULL OR phone IS NULL;\n\n-- Only process complete records\nSELECT * FROM orders\nWHERE shipped_date IS NOT NULL;\n\n-- Count missing values\nSELECT COUNT(*) - COUNT(phone) AS missing_phones\nFROM customers;\n```\n\n## Combining Conditions\n\n```sql\n-- Active users with verified emails\nSELECT * FROM users\nWHERE is_active = true\nAND email IS NOT NULL\nAND verified_at IS NOT NULL;\n```\n\n---\n\n##  Your Task\n\nSelect product_name from products where description IS NOT NULL.\n",
    "starter_code": "-- Find products that have descriptions\n\n",
    "solution_code": "SELECT product_name FROM products WHERE description IS NOT NULL;",
    "expected_output": "product_name\nWidget A\nGadget Pro",
    "chapter_id": 202,
    "chapter_title": "Data Types, NULLs & Calculations"
  },
  "1029": {
    "id": 1029,
    "title": "Three-Valued Logic",
    "content": "#  Three-Valued Logic\n\n## TRUE, FALSE, and NULL\n\nSQL uses **three-valued logic** because of NULL:\n\n| Expression | Result |\n| --- | --- |\n| `TRUE AND TRUE` | TRUE |\n| `TRUE AND FALSE` | FALSE |\n| `TRUE AND NULL` | NULL |\n| `FALSE AND NULL` | FALSE |\n| `TRUE OR NULL` | TRUE |\n| `FALSE OR NULL` | NULL |\n\n## Practical Impact\n\n```sql\n-- If age might be NULL:\nWHERE age > 21  -- NULL ages are NOT included\nWHERE NOT (age > 21)  -- NULL ages still NOT included!\n\n-- To include NULLs explicitly:\nWHERE age > 21 OR age IS NULL\n```\n\n## NOT and NULL\n\n```sql\nNOT TRUE = FALSE\nNOT FALSE = TRUE\nNOT NULL = NULL  -- Still unknown!\n```\n\n---\n\n##  Your Task\n\nSelect name from users where age > 18 OR age IS NULL.\n",
    "starter_code": "-- Find adults or users with unknown age\n\n",
    "solution_code": "SELECT name FROM users WHERE age > 18 OR age IS NULL;",
    "expected_output": "name\nAlice\nBob\nDiana",
    "chapter_id": 202,
    "chapter_title": "Data Types, NULLs & Calculations"
  },
  "1030": {
    "id": 1030,
    "title": "COALESCE Function",
    "content": "#  COALESCE Function\n\n## Replace NULL with a Default\n\nCOALESCE returns the first non-NULL value:\n\n```sql\nSELECT COALESCE(phone, 'No phone') FROM customers;\n```\n\n## How It Works\n\n```sql\nCOALESCE(value1, value2, value3, ...)\n\n-- Returns first non-NULL:\nCOALESCE(NULL, NULL, 'default')  -- 'default'\nCOALESCE('hello', 'default')      -- 'hello'\nCOALESCE(NULL, 0)                 -- 0\n```\n\n## Common Use Cases\n\n```sql\n-- Display friendly message\nSELECT name, COALESCE(bio, 'No bio provided') AS bio\nFROM users;\n\n-- Default values in calculations\nSELECT price * COALESCE(quantity, 1) AS total\nFROM cart_items;\n\n-- Fallback chain\nSELECT COALESCE(nickname, first_name, email) AS display_name\nFROM users;\n```\n\n---\n\n##  Your Task\n\nSelect name and COALESCE(phone, 'N/A') as phone from contacts.\n",
    "starter_code": "-- Show 'N/A' for missing phone numbers\n\n",
    "solution_code": "SELECT name, COALESCE(phone, 'N/A') AS phone FROM contacts;",
    "expected_output": "name    | phone\nAlice   | 555-1234\nBob     | N/A\nCharlie | 555-5678",
    "chapter_id": 202,
    "chapter_title": "Data Types, NULLs & Calculations"
  },
  "1031": {
    "id": 1031,
    "title": "NULLIF Function",
    "content": "#  NULLIF Function\n\n## Turn a Value into NULL\n\nNULLIF returns NULL if two values are equal:\n\n```sql\nNULLIF(value1, value2)\n\n-- Returns NULL if equal, otherwise returns value1\nNULLIF(5, 5)     -- NULL\nNULLIF(5, 0)     -- 5\nNULLIF('', '')   -- NULL\n```\n\n## Why Is This Useful?\n\n**Avoiding division by zero:**\n\n```sql\n-- This crashes if quantity = 0:\nSELECT price / quantity AS unit_price FROM items;\n\n-- This is safe:\nSELECT price / NULLIF(quantity, 0) AS unit_price FROM items;\n-- Returns NULL instead of error when quantity = 0\n```\n\n## Treating Empty Strings as NULL\n\n```sql\n-- Some data has '' instead of NULL\nSELECT name, NULLIF(phone, '') AS phone FROM users;\n-- Now empty strings become NULL\n```\n\n---\n\n##  Your Task\n\nSelect total / NULLIF(count, 0) AS average from stats.\n",
    "starter_code": "-- Calculate average, avoid divide by zero\n\n",
    "solution_code": "SELECT total / NULLIF(count, 0) AS average FROM stats;",
    "expected_output": "average\n25.5\nNULL\n30.0",
    "chapter_id": 202,
    "chapter_title": "Data Types, NULLs & Calculations"
  },
  "1032": {
    "id": 1032,
    "title": "CAST and Type Conversion",
    "content": "#  CAST and Type Conversion\n\n## Converting Between Types\n\nUse CAST to convert data types:\n\n```sql\n-- CAST syntax\nCAST(expression AS target_type)\n\n-- PostgreSQL shorthand\nexpression::target_type\n```\n\n## Common Conversions\n\n```sql\n-- String to integer\nCAST('123' AS INTEGER)  -- 123\n'123'::INTEGER          -- PostgreSQL\n\n-- Number to string\nCAST(123 AS VARCHAR)    -- '123'\n\n-- String to date\nCAST('2024-01-15' AS DATE)\n\n-- Decimal precision\nCAST(price AS NUMERIC(10,2))\n```\n\n## When Conversion Fails\n\n```sql\n-- This will error:\nCAST('hello' AS INTEGER)  -- Error!\n\n-- Handle with TRY_CAST (SQL Server) or careful validation\n```\n\n---\n\n##  Your Task\n\nSelect product_id, CAST(price AS INTEGER) as price_rounded from products.\n",
    "starter_code": "-- Convert price to integer (truncates decimals)\n\n",
    "solution_code": "SELECT product_id, CAST(price AS INTEGER) AS price_rounded FROM products;",
    "expected_output": "product_id | price_rounded\n1          | 29\n2          | 49\n3          | 99",
    "chapter_id": 202,
    "chapter_title": "Data Types, NULLs & Calculations"
  },
  "1033": {
    "id": 1033,
    "title": "Safe Division with NULLIF",
    "content": "#  Safe Division with NULLIF\n\n## The Division by Zero Problem\n\nDivision by zero causes errors in SQL:\n\n```sql\nSELECT 100 / 0;  -- ERROR: division by zero\n```\n\n## The NULLIF Solution\n\nCombine division with NULLIF:\n\n```sql\nSELECT revenue / NULLIF(users, 0) AS revenue_per_user\nFROM metrics;\n```\n\nIf `users = 0`, NULLIF returns NULL, and `revenue / NULL = NULL`.\n\n## Complete Pattern\n\n```sql\n-- Calculate percentage safely\nSELECT \n  category,\n  sales,\n  ROUND(\n    100.0 * sales / NULLIF(total_sales, 0), \n    2\n  ) AS pct_of_total\nFROM sales_data;\n```\n\n## With COALESCE for Default\n\n```sql\n-- Return 0 instead of NULL\nSELECT \n  COALESCE(revenue / NULLIF(users, 0), 0) AS arpu\nFROM metrics;\n```\n\n---\n\n##  Your Task\n\nSelect category and sales / NULLIF(orders, 0) as avg_order from sales.\n",
    "starter_code": "-- Calculate average order value safely\n\n",
    "solution_code": "SELECT category, sales / NULLIF(orders, 0) AS avg_order FROM sales;",
    "expected_output": "category  | avg_order\nBooks     | 25.50\nGames     | NULL\nToys      | 15.00",
    "chapter_id": 202,
    "chapter_title": "Data Types, NULLs & Calculations"
  },
  "1034": {
    "id": 1034,
    "title": "COUNT Function",
    "content": "#  COUNT Function\n\n## Counting Rows\n\nCOUNT tells you how many rows match your criteria:\n\n```sql\n-- Count all rows\nSELECT COUNT(*) FROM orders;\n\n-- Count non-NULL values in a column\nSELECT COUNT(email) FROM users;\n```\n\n## COUNT(*) vs COUNT(column)\n\n| Syntax | Counts |\n| --- | --- |\n| `COUNT(*)` | All rows, including NULLs |\n| `COUNT(column)` | Non-NULL values only |\n\n```sql\n-- If 3 users, 1 has NULL phone:\nSELECT COUNT(*) FROM users;       -- 3\nSELECT COUNT(phone) FROM users;   -- 2\n```\n\n## With WHERE\n\n```sql\nSELECT COUNT(*) FROM orders\nWHERE status = 'completed';\n```\n\n---\n\n##  Your Task\n\nCount all rows in the customers table.\n",
    "starter_code": "-- Count all customers\n\n",
    "solution_code": "SELECT COUNT(*) FROM customers;",
    "expected_output": "count\n25",
    "chapter_id": 203,
    "chapter_title": "Aggregations & Grouping"
  },
  "1035": {
    "id": 1035,
    "title": "COUNT DISTINCT",
    "content": "#  COUNT DISTINCT\n\n## Counting Unique Values\n\nCOUNT DISTINCT counts unique (non-duplicate) values:\n\n```sql\nSELECT COUNT(DISTINCT category) FROM products;\n```\n\n## Why Use DISTINCT?\n\n```sql\n-- Orders table with repeated customer_ids:\nSELECT COUNT(customer_id) FROM orders;          -- 100 (all orders)\nSELECT COUNT(DISTINCT customer_id) FROM orders; -- 45 (unique customers)\n```\n\n## Common Use Cases\n\n```sql\n-- How many unique products sold?\nSELECT COUNT(DISTINCT product_id) FROM order_items;\n\n-- How many countries do customers come from?\nSELECT COUNT(DISTINCT country) FROM customers;\n\n-- Daily active users\nSELECT date, COUNT(DISTINCT user_id) as dau\nFROM events\nGROUP BY date;\n```\n\n---\n\n##  Your Task\n\nCount the number of distinct categories in the products table.\n",
    "starter_code": "-- Count unique categories\n\n",
    "solution_code": "SELECT COUNT(DISTINCT category) FROM products;",
    "expected_output": "count\n5",
    "chapter_id": 203,
    "chapter_title": "Aggregations & Grouping"
  },
  "1036": {
    "id": 1036,
    "title": "SUM Function",
    "content": "#  SUM Function\n\n## Adding Up Values\n\nSUM calculates the total of numeric values:\n\n```sql\nSELECT SUM(amount) FROM orders;\nSELECT SUM(quantity) FROM inventory;\n```\n\n## SUM Ignores NULL\n\n```sql\n-- Values: 100, 200, NULL, 300\nSELECT SUM(amount) FROM orders;  -- 600 (NULL ignored)\n```\n\n## With WHERE\n\n```sql\n-- Total revenue from completed orders\nSELECT SUM(amount) FROM orders\nWHERE status = 'completed';\n\n-- Total sales this year\nSELECT SUM(sales) FROM revenue\nWHERE year = 2024;\n```\n\n## Common Patterns\n\n```sql\n-- Sales by category\nSELECT category, SUM(sales) as total_sales\nFROM products\nGROUP BY category;\n```\n\n---\n\n##  Your Task\n\nCalculate the total amount from all orders.\n",
    "starter_code": "-- Sum all order amounts\n\n",
    "solution_code": "SELECT SUM(amount) FROM orders;",
    "expected_output": "sum\n15750.00",
    "chapter_id": 203,
    "chapter_title": "Aggregations & Grouping"
  },
  "1037": {
    "id": 1037,
    "title": "AVG Function",
    "content": "#  AVG Function\n\n## Calculating Averages\n\nAVG returns the arithmetic mean:\n\n```sql\nSELECT AVG(salary) FROM employees;\nSELECT AVG(price) FROM products;\n```\n\n## AVG Ignores NULL\n\n```sql\n-- Values: 100, 200, NULL\nSELECT AVG(amount) FROM sales;  -- 150 (only 2 values counted)\n```\n\n This might not be what you want! To treat NULL as 0:\n\n```sql\nSELECT AVG(COALESCE(amount, 0)) FROM sales;  -- 100\n```\n\n## Rounding Results\n\n```sql\nSELECT ROUND(AVG(salary), 2) AS avg_salary\nFROM employees;\n```\n\n## Weighted Average\n\n```sql\nSELECT SUM(price * quantity) / SUM(quantity) AS weighted_avg\nFROM orders;\n```\n\n---\n\n##  Your Task\n\nCalculate the average price from the products table.\n",
    "starter_code": "-- Get average product price\n\n",
    "solution_code": "SELECT AVG(price) FROM products;",
    "expected_output": "avg\n45.99",
    "chapter_id": 203,
    "chapter_title": "Aggregations & Grouping"
  },
  "1038": {
    "id": 1038,
    "title": "MIN and MAX",
    "content": "#  MIN and MAX\n\n## Finding Extremes\n\nMIN and MAX find the smallest and largest values:\n\n```sql\nSELECT MIN(price), MAX(price) FROM products;\nSELECT MIN(order_date), MAX(order_date) FROM orders;\n```\n\n## Works with Different Types\n\n| Type | MIN | MAX |\n| --- | --- | --- |\n| Numbers | Smallest | Largest |\n| Dates | Earliest | Latest |\n| Text | First alphabetically | Last alphabetically |\n\n## Common Patterns\n\n```sql\n-- Price range\nSELECT \n  MIN(price) as cheapest,\n  MAX(price) as most_expensive\nFROM products;\n\n-- Date range\nSELECT \n  MIN(created_at) as first_user,\n  MAX(created_at) as newest_user\nFROM users;\n```\n\n---\n\n##  Your Task\n\nFind the minimum and maximum salary from employees.\n",
    "starter_code": "-- Get salary range\n\n",
    "solution_code": "SELECT MIN(salary), MAX(salary) FROM employees;",
    "expected_output": "min   | max\n45000 | 150000",
    "chapter_id": 203,
    "chapter_title": "Aggregations & Grouping"
  },
  "1039": {
    "id": 1039,
    "title": "GROUP BY Basics",
    "content": "#  GROUP BY Basics\n\n## Grouping Data\n\nGROUP BY divides rows into groups and applies aggregates to each:\n\n```sql\nSELECT department, COUNT(*)\nFROM employees\nGROUP BY department;\n```\n\nOutput:\n```\ndepartment | count\nSales      | 15\nMarketing  | 10\nEngineering| 25\n```\n\n## How GROUP BY Works\n\n1. Rows are grouped by the GROUP BY column(s)\n2. Aggregate functions (COUNT, SUM, etc.) run on each group\n3. One row per group is returned\n\n## Rules\n\nEvery non-aggregated column in SELECT must be in GROUP BY:\n\n```sql\n--  Correct\nSELECT department, COUNT(*) FROM employees\nGROUP BY department;\n\n--  Error: name not in GROUP BY\nSELECT department, name, COUNT(*) FROM employees\nGROUP BY department;\n```\n\n---\n\n##  Your Task\n\nCount orders per status.\n",
    "starter_code": "-- Group orders by status\n\n",
    "solution_code": "SELECT status, COUNT(*) FROM orders GROUP BY status;",
    "expected_output": "status    | count\ncompleted | 45\npending   | 12\ncancelled | 3",
    "chapter_id": 203,
    "chapter_title": "Aggregations & Grouping"
  },
  "1040": {
    "id": 1040,
    "title": "GROUP BY Multiple Columns",
    "content": "#  GROUP BY Multiple Columns\n\n## Grouping by Several Fields\n\nGroup by multiple columns for finer granularity:\n\n```sql\nSELECT year, month, SUM(sales)\nFROM revenue\nGROUP BY year, month;\n```\n\n## How It Works\n\nEach unique combination of values becomes a group:\n\n```sql\nSELECT department, job_title, AVG(salary)\nFROM employees\nGROUP BY department, job_title;\n```\n\nOutput:\n```\ndepartment | job_title | avg\nSales      | Manager   | 85000\nSales      | Rep       | 55000\nEngineering| Senior    | 120000\nEngineering| Junior    | 75000\n```\n\n## Order Matters (for readability)\n\n```sql\n-- Usually go from broad to specific\nGROUP BY country, state, city\nGROUP BY year, quarter, month\n```\n\n---\n\n##  Your Task\n\nGet total sales grouped by category and year.\n",
    "starter_code": "-- Sales by category and year\n\n",
    "solution_code": "SELECT category, year, SUM(sales) FROM products GROUP BY category, year;",
    "expected_output": "category | year | sum\nBooks    | 2023 | 5000\nBooks    | 2024 | 7500\nGames    | 2023 | 3200",
    "chapter_id": 203,
    "chapter_title": "Aggregations & Grouping"
  },
  "1041": {
    "id": 1041,
    "title": "HAVING Clause",
    "content": "#  HAVING Clause\n\n## Filtering Groups\n\nHAVING filters groups AFTER aggregation:\n\n```sql\nSELECT department, COUNT(*)\nFROM employees\nGROUP BY department\nHAVING COUNT(*) > 10;\n```\n\n## Why Not WHERE?\n\nWHERE filters rows BEFORE grouping. HAVING filters AFTER:\n\n```sql\n-- WHERE: filter individual rows first\nSELECT department, COUNT(*)\nFROM employees\nWHERE salary > 50000  -- Filter rows\nGROUP BY department\nHAVING COUNT(*) > 5;  -- Then filter groups\n```\n\n## Execution Order\n\n1. FROM - get table\n2. WHERE - filter rows\n3. GROUP BY - create groups\n4. HAVING - filter groups\n5. SELECT - return results\n\n---\n\n##  Your Task\n\nFind categories with more than 5 products.\n",
    "starter_code": "-- Categories with count > 5\n\n",
    "solution_code": "SELECT category, COUNT(*) FROM products GROUP BY category HAVING COUNT(*) > 5;",
    "expected_output": "category    | count\nElectronics | 12\nClothing    | 8",
    "chapter_id": 203,
    "chapter_title": "Aggregations & Grouping"
  },
  "1042": {
    "id": 1042,
    "title": "WHERE vs HAVING",
    "content": "#  WHERE vs HAVING\n\n## Key Difference\n\n| Clause | Filters | When |\n| --- | --- | --- |\n| WHERE | Individual rows | Before grouping |\n| HAVING | Groups | After grouping |\n\n## Example\n\n```sql\n-- Find departments where active employees average > $60k\nSELECT department, AVG(salary)\nFROM employees\nWHERE is_active = true     -- Filter rows first\nGROUP BY department\nHAVING AVG(salary) > 60000; -- Then filter groups\n```\n\n## Performance Tip\n\nFilter with WHERE whenever possible - it reduces data before grouping:\n\n```sql\n--  More efficient: filter early\nWHERE status = 'active'\nGROUP BY category\n\n--  Less efficient: group all, filter late\nGROUP BY category\nHAVING status = 'active'  -- This doesn't even work!\n```\n\n---\n\n##  Your Task\n\nFind customers with total orders > 1000, only counting completed orders.\n",
    "starter_code": "-- Filter completed orders first, then group\n\n",
    "solution_code": "SELECT customer_id, SUM(amount) FROM orders WHERE status = 'completed' GROUP BY customer_id HAVING SUM(amount) > 1000;",
    "expected_output": "customer_id | sum\n101         | 2500\n103         | 1200",
    "chapter_id": 203,
    "chapter_title": "Aggregations & Grouping"
  },
  "1043": {
    "id": 1043,
    "title": "Why We Need Joins",
    "content": "#  Why We Need Joins\n\n## Data Lives in Multiple Tables\n\nReal databases split data across tables to avoid duplication:\n\n```\n orders       customers \n id  customer_id       id  name       \n     \n 1   101              101  Alice      \n 2   102              102  Bob        \n     \n```\n\nTo see order with customer name, we need to JOIN!\n\n## What Joins Do\n\nJoins combine rows from two tables based on a related column:\n\n```sql\nSELECT orders.id, customers.name\nFROM orders\nJOIN customers ON orders.customer_id = customers.id;\n```\n\nResult:\n```\nid | name\n1  | Alice\n2  | Bob\n```\n\n---\n\n##  Your Task\n\nSelect order_id and customer name by joining orders and customers tables.\n",
    "starter_code": "-- Join orders with customers\n\n",
    "solution_code": "SELECT orders.order_id, customers.name FROM orders JOIN customers ON orders.customer_id = customers.id;",
    "expected_output": "order_id | name\n1        | Alice\n2        | Alice\n3        | Bob",
    "chapter_id": 204,
    "chapter_title": "Joins Like a Pro"
  },
  "1044": {
    "id": 1044,
    "title": "INNER JOIN Basics",
    "content": "#  INNER JOIN Basics\n\n## The Default Join\n\nINNER JOIN returns only matching rows from both tables:\n\n```sql\nSELECT *\nFROM orders\nINNER JOIN customers ON orders.customer_id = customers.id;\n```\n\n## How INNER JOIN Works\n\n```\norders:     customers:       Result:\nid|cust_id  id|name          order_id|cust_id|name\n1 | 101     101|Alice       1      |101    |Alice\n2 | 102     102|Bob          2      |102    |Bob\n3 | 999     103|Charlie      (order 3 excluded - no match!)\n```\n\nOrder 3 has no matching customer (999), so it's excluded.\n\n## Using Aliases\n\n```sql\nSELECT o.id, c.name\nFROM orders AS o\nINNER JOIN customers AS c ON o.customer_id = c.id;\n```\n\n---\n\n##  Your Task\n\nJoin products and categories to show product_name with category_name.\n",
    "starter_code": "-- Inner join products with categories\n\n",
    "solution_code": "SELECT p.product_name, c.category_name FROM products p INNER JOIN categories c ON p.category_id = c.id;",
    "expected_output": "product_name | category_name\nWidget A     | Electronics\nWidget B     | Electronics\nGadget C     | Tools",
    "chapter_id": 204,
    "chapter_title": "Joins Like a Pro"
  },
  "1045": {
    "id": 1045,
    "title": "INNER JOIN Multiple Tables",
    "content": "#  INNER JOIN Multiple Tables\n\n## Chaining Joins\n\nJoin more than two tables by chaining:\n\n```sql\nSELECT o.id, c.name, p.product_name\nFROM orders o\nJOIN customers c ON o.customer_id = c.id\nJOIN products p ON o.product_id = p.id;\n```\n\n## Execution Order\n\nJoins execute left to right:\n1. orders JOIN customers  creates temporary result\n2. temporary result JOIN products  final result\n\n## Practical Example\n\n```sql\n-- Order details with customer and product info\nSELECT \n  o.order_date,\n  c.name AS customer,\n  p.name AS product,\n  oi.quantity,\n  oi.price\nFROM orders o\nJOIN customers c ON o.customer_id = c.id\nJOIN order_items oi ON o.id = oi.order_id\nJOIN products p ON oi.product_id = p.id;\n```\n\n---\n\n##  Your Task\n\nJoin orders, customers, and products to get order_id, customer name, and product name.\n",
    "starter_code": "-- Three-table join\n\n",
    "solution_code": "SELECT o.order_id, c.name, p.product_name FROM orders o JOIN customers c ON o.customer_id = c.id JOIN products p ON o.product_id = p.id;",
    "expected_output": "order_id | name  | product_name\n1        | Alice | Widget A\n2        | Bob   | Gadget B",
    "chapter_id": 204,
    "chapter_title": "Joins Like a Pro"
  },
  "1046": {
    "id": 1046,
    "title": "LEFT JOIN Basics",
    "content": "#  LEFT JOIN Basics\n\n## Keep All Left Rows\n\nLEFT JOIN returns all rows from the left table, even if no match:\n\n```sql\nSELECT c.name, o.id AS order_id\nFROM customers c\nLEFT JOIN orders o ON c.id = o.customer_id;\n```\n\n## How LEFT JOIN Works\n\n```\ncustomers:   orders:          Result:\nid|name      id|cust_id       name   |order_id\n1 |Alice     1 | 1           Alice  | 1\n2 |Bob       2 | 1            Alice  | 2\n3 |Charlie                    Bob    | NULL\n                              Charlie| NULL\n```\n\nBob and Charlie have no orders, but they're still included with NULL.\n\n## Use Cases\n\n- Find customers who haven't ordered\n- Include all products, even unsold ones\n- Show all employees, even without assignments\n\n---\n\n##  Your Task\n\nLeft join customers with orders to show all customers (even those without orders).\n",
    "starter_code": "-- Show all customers with their orders (or NULL)\n\n",
    "solution_code": "SELECT c.name, o.order_id FROM customers c LEFT JOIN orders o ON c.id = o.customer_id;",
    "expected_output": "name    | order_id\nAlice   | 1\nAlice   | 2\nBob     | 3\nCharlie | NULL",
    "chapter_id": 204,
    "chapter_title": "Joins Like a Pro"
  },
  "1047": {
    "id": 1047,
    "title": "LEFT JOIN for Missing Data",
    "content": "#  LEFT JOIN for Missing Data\n\n## Finding Rows Without Matches\n\nCombine LEFT JOIN with IS NULL to find missing relationships:\n\n```sql\n-- Customers who have never ordered\nSELECT c.name\nFROM customers c\nLEFT JOIN orders o ON c.id = o.customer_id\nWHERE o.id IS NULL;\n```\n\n## How It Works\n\n1. LEFT JOIN includes all customers\n2. Those without orders have NULL in order columns\n3. WHERE filters for only those NULLs\n\n## Common Patterns\n\n```sql\n-- Products never sold\nSELECT p.*\nFROM products p\nLEFT JOIN order_items oi ON p.id = oi.product_id\nWHERE oi.id IS NULL;\n\n-- Employees without managers\nSELECT e.name\nFROM employees e\nLEFT JOIN employees m ON e.manager_id = m.id\nWHERE m.id IS NULL;\n```\n\n---\n\n##  Your Task\n\nFind customers who have no orders using LEFT JOIN.\n",
    "starter_code": "-- Find customers without any orders\n\n",
    "solution_code": "SELECT c.name FROM customers c LEFT JOIN orders o ON c.id = o.customer_id WHERE o.order_id IS NULL;",
    "expected_output": "name\nCharlie\nDiana",
    "chapter_id": 204,
    "chapter_title": "Joins Like a Pro"
  },
  "1048": {
    "id": 1048,
    "title": "RIGHT JOIN",
    "content": "#  RIGHT JOIN\n\n## Keep All Right Rows\n\nRIGHT JOIN is the opposite of LEFT JOIN - keeps all rows from the RIGHT table:\n\n```sql\nSELECT o.id, c.name\nFROM orders o\nRIGHT JOIN customers c ON o.customer_id = c.id;\n```\n\n## LEFT JOIN vs RIGHT JOIN\n\nThey're equivalent if you swap table order:\n\n```sql\n-- These produce the same results:\nFROM customers c LEFT JOIN orders o\nFROM orders o RIGHT JOIN customers c\n```\n\n## Best Practice\n\nMost developers prefer LEFT JOIN for consistency:\n\n```sql\n--  Always LEFT JOIN (preferred)\nFROM main_table LEFT JOIN secondary_table\n\n--  Mixing LEFT and RIGHT is confusing\n```\n\n---\n\n##  Your Task\n\nUse RIGHT JOIN to get all departments with their employees.\n",
    "starter_code": "-- Right join employees with departments\n\n",
    "solution_code": "SELECT e.name, d.department_name FROM employees e RIGHT JOIN departments d ON e.department_id = d.id;",
    "expected_output": "name  | department_name\nAlice | Sales\nBob   | Sales\nNULL  | Research",
    "chapter_id": 204,
    "chapter_title": "Joins Like a Pro"
  },
  "1049": {
    "id": 1049,
    "title": "FULL OUTER JOIN",
    "content": "#  FULL OUTER JOIN\n\n## Keep Everything\n\nFULL OUTER JOIN keeps all rows from BOTH tables:\n\n```sql\nSELECT c.name, o.id\nFROM customers c\nFULL OUTER JOIN orders o ON c.id = o.customer_id;\n```\n\n## Result\n\n```\ncustomers:   orders:          Result:\nid|name      id|cust_id       name   |order_id\n1 |Alice     1 | 1           Alice  | 1\n2 |Bob       2 | 999          Bob    | NULL\n                              NULL   | 2 (orphan order)\n```\n\n## Use Cases\n\n- Data reconciliation between systems\n- Finding mismatches in both directions\n- Complete data comparison\n\n## Not Supported Everywhere\n\nMySQL doesn't have FULL OUTER JOIN - simulate with UNION.\n\n---\n\n##  Your Task\n\nFull outer join customers and orders to see all customers and all orders.\n",
    "starter_code": "-- Full outer join\n\n",
    "solution_code": "SELECT c.name, o.order_id FROM customers c FULL OUTER JOIN orders o ON c.id = o.customer_id;",
    "expected_output": "name    | order_id\nAlice   | 1\nBob     | 2\nNULL    | 3\nCharlie | NULL",
    "chapter_id": 204,
    "chapter_title": "Joins Like a Pro"
  },
  "1050": {
    "id": 1050,
    "title": "CROSS JOIN",
    "content": "#  CROSS JOIN\n\n## Cartesian Product\n\nCROSS JOIN produces every combination of rows:\n\n```sql\nSELECT * FROM colors CROSS JOIN sizes;\n```\n\n## Result\n\n```\ncolors:    sizes:         Result:\ncolor      size           color|size\nRed        S             Red  | S\nBlue       M              Red  | M\n           L              Blue | S\n                          Blue | M\n                          ... (6 rows total)\n```\n\n## Use Cases\n\n```sql\n-- Generate all date/product combinations for reports\nSELECT d.date, p.product_id\nFROM dates d\nCROSS JOIN products p;\n\n-- Create a multiplication table\nSELECT a.num, b.num, a.num * b.num AS product\nFROM numbers a CROSS JOIN numbers b;\n```\n\n##  Warning: Row Explosion!\n\n100 rows  100 rows = 10,000 result rows!\n\n---\n\n##  Your Task\n\nCross join colors and sizes tables to get all combinations.\n",
    "starter_code": "-- All color/size combinations\n\n",
    "solution_code": "SELECT colors.color, sizes.size FROM colors CROSS JOIN sizes;",
    "expected_output": "color | size\nRed   | S\nRed   | M\nBlue  | S\nBlue  | M",
    "chapter_id": 204,
    "chapter_title": "Joins Like a Pro"
  },
  "1051": {
    "id": 1051,
    "title": "Join Cardinality",
    "content": "#  Join Cardinality\n\n## Understanding Relationships\n\n**Cardinality** describes how many rows match between tables:\n\n| Type | Description | Example |\n| --- | --- | --- |\n| 1:1 | One matches one | User  Profile |\n| 1:N | One matches many | Customer  Orders |\n| N:N | Many match many | Students  Courses |\n\n## Why This Matters\n\nCardinality affects your result row count!\n\n```sql\n-- 1:N join may increase rows:\n-- 1 customer with 3 orders = 3 result rows\nSELECT c.name, o.id\nFROM customers c\nJOIN orders o ON c.id = o.customer_id;\n```\n\n## Checking Cardinality\n\n```sql\n-- Find if 1:N relationship exists\nSELECT customer_id, COUNT(*)\nFROM orders\nGROUP BY customer_id\nHAVING COUNT(*) > 1;\n```\n\n---\n\n##  Your Task\n\nFind customers with more than 2 orders.\n",
    "starter_code": "-- Customers with multiple orders\n\n",
    "solution_code": "SELECT customer_id, COUNT(*) as order_count FROM orders GROUP BY customer_id HAVING COUNT(*) > 2;",
    "expected_output": "customer_id | order_count\n101         | 5\n103         | 3",
    "chapter_id": 204,
    "chapter_title": "Joins Like a Pro"
  },
  "1052": {
    "id": 1052,
    "title": "Duplicate Rows in Joins",
    "content": "#  Duplicate Rows in Joins\n\n## The Fanout Problem\n\nJoins can multiply your rows unexpectedly:\n\n```sql\n-- If customer 1 has 3 orders:\n-- Customer row appears 3 times in result!\nSELECT c.*, o.*\nFROM customers c\nJOIN orders o ON c.id = o.customer_id;\n```\n\n## Aggregation Errors\n\nThis breaks aggregations:\n\n```sql\n-- WRONG: Customer revenue counted 3 times!\nSELECT SUM(c.lifetime_value)\nFROM customers c\nJOIN orders o ON c.id = o.customer_id;\n\n-- RIGHT: Aggregate before joining\nWITH order_totals AS (\n  SELECT customer_id, SUM(amount) AS total\n  FROM orders GROUP BY customer_id\n)\nSELECT c.name, ot.total\nFROM customers c\nJOIN order_totals ot ON c.id = ot.customer_id;\n```\n\n---\n\n##  Your Task\n\nJoin customers with orders and count distinct order IDs per customer.\n",
    "starter_code": "-- Count orders per customer using join\n\n",
    "solution_code": "SELECT c.name, COUNT(DISTINCT o.order_id) as orders FROM customers c JOIN orders o ON c.id = o.customer_id GROUP BY c.name;",
    "expected_output": "name  | orders\nAlice | 3\nBob   | 2",
    "chapter_id": 204,
    "chapter_title": "Joins Like a Pro"
  },
  "1053": {
    "id": 1053,
    "title": "Self Joins",
    "content": "#  Self Joins\n\n## Joining a Table to Itself\n\nSelf joins compare rows within the same table:\n\n```sql\nSELECT e.name AS employee, m.name AS manager\nFROM employees e\nJOIN employees m ON e.manager_id = m.id;\n```\n\n## Use Cases\n\n**Hierarchies (employee  manager):**\n```sql\nSELECT e.name, m.name AS reports_to\nFROM employees e\nLEFT JOIN employees m ON e.manager_id = m.id;\n```\n\n**Comparing rows:**\n```sql\n-- Find products with same price\nSELECT a.name, b.name, a.price\nFROM products a\nJOIN products b ON a.price = b.price AND a.id < b.id;\n```\n\n## Aliases are Required\n\nMust use different aliases for the same table:\n\n```sql\nFROM employees e  -- First reference\nJOIN employees m  -- Second reference\n```\n\n---\n\n##  Your Task\n\nSelf join employees to show each employee with their manager's name.\n",
    "starter_code": "-- Employee and their manager\n\n",
    "solution_code": "SELECT e.name AS employee, m.name AS manager FROM employees e LEFT JOIN employees m ON e.manager_id = m.id;",
    "expected_output": "employee | manager\nAlice    | NULL\nBob      | Alice\nCharlie  | Alice",
    "chapter_id": 204,
    "chapter_title": "Joins Like a Pro"
  },
  "1054": {
    "id": 1054,
    "title": "Join Best Practices",
    "content": "#  Join Best Practices\n\n## 1. Use Explicit JOIN Syntax\n\n```sql\n--  Explicit (clear and modern)\nSELECT * FROM orders o\nJOIN customers c ON o.customer_id = c.id;\n\n--  Implicit (old style, harder to read)\nSELECT * FROM orders o, customers c\nWHERE o.customer_id = c.id;\n```\n\n## 2. Always Qualify Column Names\n\n```sql\n--  Clear which table each column comes from\nSELECT o.id, c.name, o.amount\n\n--  Ambiguous when both tables have 'id'\nSELECT id, name, amount\n```\n\n## 3. Use Consistent Alias Conventions\n\n```sql\nFROM customers c      -- First letter\nJOIN orders o\nJOIN order_items oi   -- Two letters for longer names\n```\n\n## 4. Filter Early\n\n```sql\n--  Filter before join (faster)\nFROM orders o\nJOIN customers c ON o.customer_id = c.id\nWHERE o.status = 'completed'\n```\n\n---\n\n##  Your Task\n\nWrite a clean join query for orders and customers using proper aliases and explicit syntax.\n",
    "starter_code": "-- Clean, readable join\n\n",
    "solution_code": "SELECT o.order_id, o.amount, c.name AS customer_name FROM orders o INNER JOIN customers c ON o.customer_id = c.id WHERE o.status = 'completed';",
    "expected_output": "order_id | amount | customer_name\n1        | 99.99  | Alice\n3        | 149.99 | Bob",
    "chapter_id": 204,
    "chapter_title": "Joins Like a Pro"
  },
  "1055": {
    "id": 1055,
    "title": " Query Architect Challenge",
    "content": "#  BOSS BATTLE: The Query Architect\n\nThe Query Architect tests your mastery of SQL fundamentals. Prove your skills to advance!\n\n## The Challenge\n\nCombine everything from Chapters 0-4:\n- SELECT with filtering and sorting\n- Aggregations and GROUP BY\n- JOIN operations\n- NULL handling\n\n## Your Mission\n\nWrite a query that shows:\n1. Customer name\n2. Number of orders they've placed\n3. Total amount spent\n4. Average order value\n\nOnly include customers who have spent more than $200 total.\nSort by total spent descending.\n\n---\n\n##  Complete the Challenge\n\nJoin customers and orders, group by customer, filter totals > 200, order by total descending.\n",
    "starter_code": "-- The Query Architect Challenge\n-- Show customer name, order count, total spent, and average\n-- Only customers with total > 200\n-- Sort by total descending\n\n",
    "solution_code": "SELECT \n  c.name,\n  COUNT(o.order_id) AS order_count,\n  SUM(o.amount) AS total_spent,\n  ROUND(AVG(o.amount), 2) AS avg_order\nFROM customers c\nJOIN orders o ON c.id = o.customer_id\nGROUP BY c.name\nHAVING SUM(o.amount) > 200\nORDER BY total_spent DESC;",
    "expected_output": "name  | order_count | total_spent | avg_order\nBob   | 5           | 750.00      | 150.00\nAlice | 3           | 450.00      | 150.00",
    "chapter_id": 250,
    "chapter_title": "Query Architect Boss"
  },
  "1056": {
    "id": 1056,
    "title": "Subquery in WHERE",
    "content": "#  Subquery in WHERE\n\n## What is a Subquery?\n\nA **subquery** is a query inside another query. The inner query runs first, then its result is used by the outer query.\n\n```sql\nSELECT * FROM employees\nWHERE salary > (SELECT AVG(salary) FROM employees);\n```\n\n## How It Works\n\n1. Inner query runs: `SELECT AVG(salary)`  75000\n2. Outer query becomes: `WHERE salary > 75000`\n3. Returns employees above average salary\n\n## Subqueries Return Different Things\n\n| Type | Returns | Use With |\n| --- | --- | --- |\n| Scalar | Single value | =, >, <, etc. |\n| List | Multiple values | IN, NOT IN |\n| Table | Rows & columns | FROM, JOIN |\n\n---\n\n##  Your Task\n\nFind products priced above the average price.\n",
    "starter_code": "-- Products above average price\n\n",
    "solution_code": "SELECT * FROM products WHERE price > (SELECT AVG(price) FROM products);",
    "expected_output": "id | name     | price\n2  | Widget B | 99.99\n4  | Premium  | 149.99",
    "chapter_id": 205,
    "chapter_title": "Subqueries & Set Operations"
  },
  "1057": {
    "id": 1057,
    "title": "IN with Subquery",
    "content": "#  IN with Subquery\n\n## Matching Against a List of Values\n\nUse IN with a subquery to check if a value exists in another table's results:\n\n```sql\nSELECT * FROM customers\nWHERE id IN (SELECT customer_id FROM orders);\n```\n\nThis finds customers who have placed at least one order.\n\n## How It Works\n\n1. Subquery returns list: (101, 102, 105)\n2. Outer query becomes: `WHERE id IN (101, 102, 105)`\n\n## NOT IN\n\n```sql\n-- Customers who have NEVER ordered\nSELECT * FROM customers\nWHERE id NOT IN (SELECT customer_id FROM orders);\n```\n\n Warning: NOT IN with NULLs can return no rows!\n\n---\n\n##  Your Task\n\nFind customers who have placed orders using IN with a subquery.\n",
    "starter_code": "-- Customers with orders\n\n",
    "solution_code": "SELECT * FROM customers WHERE id IN (SELECT customer_id FROM orders);",
    "expected_output": "id  | name  | email\n101 | Alice | a@mail.com\n102 | Bob   | b@mail.com",
    "chapter_id": 205,
    "chapter_title": "Subqueries & Set Operations"
  },
  "1058": {
    "id": 1058,
    "title": "EXISTS Operator",
    "content": "#  EXISTS Operator\n\n## Checking for Row Existence\n\nEXISTS returns TRUE if the subquery returns any rows:\n\n```sql\nSELECT * FROM customers c\nWHERE EXISTS (\n  SELECT 1 FROM orders o\n  WHERE o.customer_id = c.id\n);\n```\n\n## EXISTS vs IN\n\n| Feature | EXISTS | IN |\n| --- | --- | --- |\n| Returns | TRUE/FALSE | Matches value |\n| With NULLs | Handles well | Problematic |\n| Performance | Often faster | Depends |\n| Correlated | Usually yes | No |\n\n## The Pattern\n\n```sql\n-- EXISTS typically uses correlation\nSELECT * FROM table1 t1\nWHERE EXISTS (\n  SELECT 1 FROM table2 t2\n  WHERE t2.foreign_key = t1.id  -- Correlated!\n);\n```\n\n---\n\n##  Your Task\n\nFind departments that have at least one employee using EXISTS.\n",
    "starter_code": "-- Departments with employees\n\n",
    "solution_code": "SELECT * FROM departments d WHERE EXISTS (SELECT 1 FROM employees e WHERE e.department_id = d.id);",
    "expected_output": "id | name\n1  | Sales\n2  | Engineering",
    "chapter_id": 205,
    "chapter_title": "Subqueries & Set Operations"
  },
  "1059": {
    "id": 1059,
    "title": "NOT EXISTS",
    "content": "#  NOT EXISTS\n\n## Finding Missing Relationships\n\nNOT EXISTS returns TRUE when the subquery returns NO rows:\n\n```sql\n-- Customers without orders\nSELECT * FROM customers c\nWHERE NOT EXISTS (\n  SELECT 1 FROM orders o\n  WHERE o.customer_id = c.id\n);\n```\n\n## NOT EXISTS vs LEFT JOIN + NULL\n\nBoth achieve the same result:\n\n```sql\n-- NOT EXISTS version\nSELECT * FROM customers c\nWHERE NOT EXISTS (SELECT 1 FROM orders WHERE customer_id = c.id);\n\n-- LEFT JOIN version\nSELECT c.* FROM customers c\nLEFT JOIN orders o ON c.id = o.customer_id\nWHERE o.id IS NULL;\n```\n\n## NOT EXISTS is NULL-safe\n\nUnlike NOT IN, NOT EXISTS handles NULLs correctly!\n\n---\n\n##  Your Task\n\nFind products that have never been ordered using NOT EXISTS.\n",
    "starter_code": "-- Products never ordered\n\n",
    "solution_code": "SELECT * FROM products p WHERE NOT EXISTS (SELECT 1 FROM order_items oi WHERE oi.product_id = p.id);",
    "expected_output": "id | name     | price\n5  | Widget E | 29.99",
    "chapter_id": 205,
    "chapter_title": "Subqueries & Set Operations"
  },
  "1060": {
    "id": 1060,
    "title": "Scalar Subqueries",
    "content": "#  Scalar Subqueries\n\n## Returning a Single Value\n\nA **scalar subquery** returns exactly one value (one row, one column):\n\n```sql\nSELECT \n  name,\n  salary,\n  salary - (SELECT AVG(salary) FROM employees) AS diff_from_avg\nFROM employees;\n```\n\n## Where to Use Scalar Subqueries\n\n```sql\n-- In SELECT\nSELECT name, (SELECT MAX(salary) FROM employees) AS max_salary\n\n-- In WHERE\nWHERE price = (SELECT MAX(price) FROM products)\n\n-- In calculations\nSELECT salary / (SELECT AVG(salary) FROM employees) AS salary_ratio\n```\n\n##  Error If Not Scalar\n\nIf subquery returns multiple rows, you get an error!\n\n```sql\n-- ERROR: subquery returned more than one row\nWHERE id = (SELECT id FROM users WHERE active = true)\n```\n\n---\n\n##  Your Task\n\nShow each product with its price and the max price across all products.\n",
    "starter_code": "-- Product with max price comparison\n\n",
    "solution_code": "SELECT name, price, (SELECT MAX(price) FROM products) AS max_price FROM products;",
    "expected_output": "name     | price | max_price\nWidget A | 29.99 | 149.99\nWidget B | 99.99 | 149.99\nPremium  | 149.99| 149.99",
    "chapter_id": 205,
    "chapter_title": "Subqueries & Set Operations"
  },
  "1061": {
    "id": 1061,
    "title": "Correlated Subqueries",
    "content": "#  Correlated Subqueries\n\n## Subqueries That Reference the Outer Query\n\nA **correlated subquery** uses values from the outer query:\n\n```sql\n-- Employees earning above their department's average\nSELECT * FROM employees e\nWHERE salary > (\n  SELECT AVG(salary) FROM employees\n  WHERE department_id = e.department_id  -- References outer e!\n);\n```\n\n## How It Works\n\nFor EACH outer row:\n1. Run subquery using that row's values\n2. Evaluate WHERE condition\n3. Include or exclude the row\n\n## Performance Consideration\n\nCorrelated subqueries run once per outer row - can be slow on large tables!\n\n```sql\n-- Consider rewriting with JOINs or Window functions\n-- for better performance\n```\n\n---\n\n##  Your Task\n\nFind employees earning more than their department's average salary.\n",
    "starter_code": "-- Above department average\n\n",
    "solution_code": "SELECT * FROM employees e WHERE salary > (SELECT AVG(salary) FROM employees WHERE department_id = e.department_id);",
    "expected_output": "id | name  | department_id | salary\n1  | Alice | 1             | 90000\n4  | Diana | 2             | 85000",
    "chapter_id": 205,
    "chapter_title": "Subqueries & Set Operations"
  },
  "1062": {
    "id": 1062,
    "title": "UNION Operator",
    "content": "#  UNION Operator\n\n## Combining Result Sets\n\nUNION combines rows from multiple queries into one result:\n\n```sql\nSELECT name FROM employees\nUNION\nSELECT name FROM contractors;\n```\n\n## UNION Rules\n\n1. Same number of columns\n2. Compatible data types\n3. Column names come from first query\n4. **Duplicates are removed** (by default)\n\n## Example\n\n```sql\n-- All people (employees + contractors)\nSELECT name, 'Employee' AS type FROM employees\nUNION\nSELECT name, 'Contractor' AS type FROM contractors;\n```\n\n---\n\n##  Your Task\n\nCombine names from customers and suppliers tables.\n",
    "starter_code": "-- All names from both tables\n\n",
    "solution_code": "SELECT name FROM customers UNION SELECT name FROM suppliers;",
    "expected_output": "name\nAlice\nBob\nAcme Corp\nGlobal Inc",
    "chapter_id": 205,
    "chapter_title": "Subqueries & Set Operations"
  },
  "1063": {
    "id": 1063,
    "title": "UNION ALL",
    "content": "#  UNION ALL\n\n## Keep All Rows (Including Duplicates)\n\nUNION ALL combines results WITHOUT removing duplicates:\n\n```sql\nSELECT name FROM employees\nUNION ALL\nSELECT name FROM contractors;\n```\n\n## UNION vs UNION ALL\n\n| Operation | Duplicates | Performance |\n| --- | --- | --- |\n| UNION | Removed | Slower (sorts) |\n| UNION ALL | Kept | Faster |\n\n## When to Use Each\n\n```sql\n-- UNION: When you need unique values\n-- Customer names across regions (no duplicates)\n\n-- UNION ALL: When duplicates are okay/needed\n-- All transactions from multiple sources (keep all)\n```\n\n## Performance Tip\n\nUse UNION ALL unless you specifically need duplicates removed.\n\n---\n\n##  Your Task\n\nCombine all orders from 2023 and 2024 using UNION ALL.\n",
    "starter_code": "-- All orders from both years\n\n",
    "solution_code": "SELECT * FROM orders WHERE EXTRACT(YEAR FROM order_date) = 2023 UNION ALL SELECT * FROM orders WHERE EXTRACT(YEAR FROM order_date) = 2024;",
    "expected_output": "order_id | amount | order_date\n1        | 100.00 | 2023-03-15\n2        | 150.00 | 2023-06-20\n3        | 200.00 | 2024-01-10",
    "chapter_id": 205,
    "chapter_title": "Subqueries & Set Operations"
  },
  "1064": {
    "id": 1064,
    "title": "INTERSECT and EXCEPT",
    "content": "#  INTERSECT and EXCEPT\n\n## Set Theory in SQL\n\n**INTERSECT**: Rows in BOTH queries\n```sql\nSELECT name FROM customers\nINTERSECT\nSELECT name FROM premium_members;\n-- Names that are in BOTH tables\n```\n\n**EXCEPT**: Rows in first but NOT in second\n```sql\nSELECT name FROM customers\nEXCEPT\nSELECT name FROM churned_customers;\n-- Active customers (not churned)\n```\n\n## Visual Representation\n\n```\nINTERSECT:    EXCEPT:\n          \n    XXX\n           \n       \n          \n  Both         Only left\n```\n\n## Note: MySQL Compatibility\n\nMySQL doesn't support INTERSECT/EXCEPT directly - use JOIN or NOT IN instead.\n\n---\n\n##  Your Task\n\nFind customer IDs that exist in both orders_2023 and orders_2024.\n",
    "starter_code": "-- Customers who ordered both years\n\n",
    "solution_code": "SELECT customer_id FROM orders_2023 INTERSECT SELECT customer_id FROM orders_2024;",
    "expected_output": "customer_id\n101\n103",
    "chapter_id": 205,
    "chapter_title": "Subqueries & Set Operations"
  },
  "1065": {
    "id": 1065,
    "title": "Introduction to CTEs",
    "content": "#  Introduction to CTEs\n\n## What is a CTE?\n\nA **Common Table Expression (CTE)** is a named temporary result set:\n\n```sql\nWITH high_value_orders AS (\n  SELECT * FROM orders WHERE amount > 100\n)\nSELECT * FROM high_value_orders;\n```\n\n## Why Use CTEs?\n\n1. **Readability**: Break complex queries into named steps\n2. **Reusability**: Reference the same result multiple times\n3. **Maintenance**: Easier to debug and modify\n\n## CTE vs Subquery\n\n```sql\n-- Subquery (inline, harder to read)\nSELECT * FROM (SELECT * FROM orders WHERE amount > 100) AS ho;\n\n-- CTE (named, clearer)\nWITH high_value_orders AS (...)\nSELECT * FROM high_value_orders;\n```\n\n---\n\n##  Your Task\n\nCreate a CTE called 'recent_orders' for orders in 2024, then select from it.\n",
    "starter_code": "-- CTE for 2024 orders\n\n",
    "solution_code": "WITH recent_orders AS (\n  SELECT * FROM orders WHERE order_date >= '2024-01-01'\n)\nSELECT * FROM recent_orders;",
    "expected_output": "order_id | customer_id | amount | order_date\n5        | 101         | 150.00 | 2024-01-15\n6        | 102         | 200.00 | 2024-02-20",
    "chapter_id": 206,
    "chapter_title": "CTEs (WITH Clause)"
  },
  "1066": {
    "id": 1066,
    "title": "Basic CTE Syntax",
    "content": "#  Basic CTE Syntax\n\n## The WITH Clause\n\n```sql\nWITH cte_name AS (\n  -- Your query here\n  SELECT column1, column2\n  FROM table_name\n  WHERE condition\n)\n-- Main query that uses the CTE\nSELECT * FROM cte_name;\n```\n\n## Key Points\n\n1. CTE starts with `WITH`\n2. CTE name comes before `AS`\n3. Query goes inside parentheses\n4. Main query comes AFTER the CTE\n\n## CTE Scope\n\nA CTE only exists for the immediately following statement:\n\n```sql\nWITH my_cte AS (SELECT 1 AS n)\nSELECT * FROM my_cte;  -- Works!\n\nSELECT * FROM my_cte;  -- Error! CTE no longer exists\n```\n\n---\n\n##  Your Task\n\nCreate a CTE 'active_users' for users where is_active = true.\n",
    "starter_code": "-- CTE for active users\n\n",
    "solution_code": "WITH active_users AS (\n  SELECT * FROM users WHERE is_active = true\n)\nSELECT name, email FROM active_users;",
    "expected_output": "name  | email\nAlice | alice@mail.com\nBob   | bob@mail.com",
    "chapter_id": 206,
    "chapter_title": "CTEs (WITH Clause)"
  },
  "1067": {
    "id": 1067,
    "title": "CTEs vs Subqueries",
    "content": "#  CTEs vs Subqueries\n\n## Comparison\n\n| Feature | CTE | Subquery |\n| --- | --- | --- |\n| Readability |  Named, clear |  Inline, nested |\n| Reusability |  Use multiple times |  Repeat code |\n| Recursion |  Supported |  Not supported |\n| Scope | Statement only | Immediate context |\n\n## When to Use CTEs\n\n```sql\n-- Complex multi-step transformations\n-- When you reference result multiple times\n-- For recursive queries\n-- When readability matters\n```\n\n## When Subqueries Are Fine\n\n```sql\n-- Simple one-off filters\n-- Scalar values: (SELECT MAX(...))\n-- EXISTS checks\n```\n\n---\n\n##  Your Task\n\nRewrite using a CTE: SELECT * FROM (SELECT * FROM products WHERE price > 50) AS expensive;\n",
    "starter_code": "-- Convert subquery to CTE\n\n",
    "solution_code": "WITH expensive AS (\n  SELECT * FROM products WHERE price > 50\n)\nSELECT * FROM expensive;",
    "expected_output": "id | name     | price\n2  | Widget B | 99.99\n3  | Premium  | 149.99",
    "chapter_id": 206,
    "chapter_title": "CTEs (WITH Clause)"
  },
  "1068": {
    "id": 1068,
    "title": "Multiple CTEs",
    "content": "#  Multiple CTEs\n\n## Defining Multiple CTEs\n\nSeparate multiple CTEs with commas:\n\n```sql\nWITH \n  cte1 AS (\n    SELECT * FROM table1\n  ),\n  cte2 AS (\n    SELECT * FROM table2\n  )\nSELECT * FROM cte1\nJOIN cte2 ON cte1.id = cte2.id;\n```\n\n## Real Example\n\n```sql\nWITH \n  order_totals AS (\n    SELECT customer_id, SUM(amount) AS total\n    FROM orders GROUP BY customer_id\n  ),\n  high_spenders AS (\n    SELECT * FROM order_totals WHERE total > 1000\n  )\nSELECT c.name, h.total\nFROM customers c\nJOIN high_spenders h ON c.id = h.customer_id;\n```\n\n---\n\n##  Your Task\n\nCreate two CTEs: 'sales_dept' and 'high_salary', then join them.\n",
    "starter_code": "-- Two CTEs\n\n",
    "solution_code": "WITH \n  sales_dept AS (\n    SELECT * FROM employees WHERE department = 'Sales'\n  ),\n  high_salary AS (\n    SELECT * FROM sales_dept WHERE salary > 60000\n  )\nSELECT name, salary FROM high_salary;",
    "expected_output": "name  | salary\nAlice | 75000\nBob   | 80000",
    "chapter_id": 206,
    "chapter_title": "CTEs (WITH Clause)"
  },
  "1069": {
    "id": 1069,
    "title": "Chained CTEs",
    "content": "#  Chained CTEs\n\n## CTEs Referencing Other CTEs\n\nLater CTEs can reference earlier ones:\n\n```sql\nWITH \n  step1 AS (\n    SELECT * FROM orders\n  ),\n  step2 AS (\n    SELECT customer_id, SUM(amount) AS total\n    FROM step1  -- References step1!\n    GROUP BY customer_id\n  ),\n  step3 AS (\n    SELECT * FROM step2 WHERE total > 100  -- References step2!\n  )\nSELECT * FROM step3;\n```\n\n## Building Pipelines\n\n```sql\nWITH \n  raw_data AS (...),\n  cleaned AS (SELECT ... FROM raw_data),\n  aggregated AS (SELECT ... FROM cleaned),\n  final AS (SELECT ... FROM aggregated)\nSELECT * FROM final;\n```\n\nThis creates a clear data transformation pipeline!\n\n---\n\n##  Your Task\n\nCreate chained CTEs: first filter orders > 100, then sum by customer.\n",
    "starter_code": "-- Chain CTEs\n\n",
    "solution_code": "WITH \n  big_orders AS (\n    SELECT * FROM orders WHERE amount > 100\n  ),\n  customer_totals AS (\n    SELECT customer_id, SUM(amount) AS total FROM big_orders GROUP BY customer_id\n  )\nSELECT * FROM customer_totals;",
    "expected_output": "customer_id | total\n101         | 500.00\n102         | 350.00",
    "chapter_id": 206,
    "chapter_title": "CTEs (WITH Clause)"
  },
  "1070": {
    "id": 1070,
    "title": "CTEs for Readability",
    "content": "#  CTEs for Readability\n\n## Before: Hard to Read\n\n```sql\nSELECT c.name, ot.total\nFROM customers c\nJOIN (\n  SELECT customer_id, SUM(amount) AS total\n  FROM (\n    SELECT * FROM orders WHERE status = 'completed'\n  ) completed_orders\n  GROUP BY customer_id\n) ot ON c.id = ot.customer_id\nWHERE ot.total > 1000;\n```\n\n## After: Clear and Readable\n\n```sql\nWITH \n  completed_orders AS (\n    SELECT * FROM orders WHERE status = 'completed'\n  ),\n  order_totals AS (\n    SELECT customer_id, SUM(amount) AS total\n    FROM completed_orders\n    GROUP BY customer_id\n  ),\n  high_value_customers AS (\n    SELECT * FROM order_totals WHERE total > 1000\n  )\nSELECT c.name, h.total\nFROM customers c\nJOIN high_value_customers h ON c.id = h.customer_id;\n```\n\n---\n\n##  Your Task\n\nRefactor into CTEs: filter active products, then get category counts.\n",
    "starter_code": "-- Make readable with CTEs\n\n",
    "solution_code": "WITH \n  active_products AS (\n    SELECT * FROM products WHERE is_active = true\n  ),\n  category_counts AS (\n    SELECT category, COUNT(*) AS count FROM active_products GROUP BY category\n  )\nSELECT * FROM category_counts ORDER BY count DESC;",
    "expected_output": "category    | count\nElectronics | 15\nClothing    | 10\nBooks       | 5",
    "chapter_id": 206,
    "chapter_title": "CTEs (WITH Clause)"
  },
  "1071": {
    "id": 1071,
    "title": "Reusing CTEs",
    "content": "#  Reusing CTEs\n\n## Reference a CTE Multiple Times\n\nUnlike subqueries, CTEs can be referenced multiple times:\n\n```sql\nWITH monthly_sales AS (\n  SELECT EXTRACT(MONTH FROM order_date) AS month, SUM(amount) AS total\n  FROM orders\n  GROUP BY 1\n)\nSELECT \n  m1.month,\n  m1.total,\n  m1.total - LAG(m1.total) OVER (ORDER BY m1.month) AS change\nFROM monthly_sales m1;\n```\n\n## Comparison Example\n\n```sql\nWITH stats AS (\n  SELECT AVG(salary) AS avg_sal, MAX(salary) AS max_sal FROM employees\n)\nSELECT \n  e.name,\n  e.salary,\n  s.avg_sal,\n  e.salary - s.avg_sal AS diff\nFROM employees e, stats s;\n```\n\n---\n\n##  Your Task\n\nCreate a stats CTE and use it to compare each employee's salary to the average.\n",
    "starter_code": "-- Compare to average using CTE\n\n",
    "solution_code": "WITH stats AS (\n  SELECT AVG(salary) AS avg_salary FROM employees\n)\nSELECT e.name, e.salary, s.avg_salary, e.salary - s.avg_salary AS diff\nFROM employees e, stats s;",
    "expected_output": "name    | salary | avg_salary | diff\nAlice   | 75000  | 70000      | 5000\nBob     | 65000  | 70000      | -5000",
    "chapter_id": 206,
    "chapter_title": "CTEs (WITH Clause)"
  },
  "1072": {
    "id": 1072,
    "title": "Recursive CTEs Intro",
    "content": "#  Recursive CTEs Intro\n\n## Self-Referencing Queries\n\nRecursive CTEs can reference themselves - great for hierarchies:\n\n```sql\nWITH RECURSIVE org_chart AS (\n  -- Base case: top-level (no manager)\n  SELECT id, name, manager_id, 1 AS level\n  FROM employees\n  WHERE manager_id IS NULL\n  \n  UNION ALL\n  \n  -- Recursive case: employees with managers\n  SELECT e.id, e.name, e.manager_id, o.level + 1\n  FROM employees e\n  JOIN org_chart o ON e.manager_id = o.id\n)\nSELECT * FROM org_chart;\n```\n\n## Use Cases\n\n- Organizational hierarchies\n- Bill of materials (parts containing parts)\n- File system paths\n- Graph traversal\n\n---\n\n##  Your Task\n\nSelect all from the employees table with a simple non-recursive CTE (intro only).\n",
    "starter_code": "-- Simple CTE as recursive intro\n\n",
    "solution_code": "WITH emp_list AS (\n  SELECT id, name, manager_id FROM employees\n)\nSELECT * FROM emp_list;",
    "expected_output": "id | name    | manager_id\n1  | Sarah   | NULL\n2  | Alice   | 1\n3  | Bob     | 1",
    "chapter_id": 206,
    "chapter_title": "CTEs (WITH Clause)"
  },
  "1073": {
    "id": 1073,
    "title": "CTE Best Practices",
    "content": "#  CTE Best Practices\n\n## 1. Use Descriptive Names\n\n```sql\n--  Clear names\nWITH active_subscriptions AS ...\n\n--  Vague names\nWITH temp AS ...\nWITH data AS ...\n```\n\n## 2. One Logical Step Per CTE\n\n```sql\n--  Focused CTEs\nWITH filtered AS (... WHERE ...),\n     aggregated AS (... GROUP BY ...),\n     ranked AS (... ROW_NUMBER() ...)\n```\n\n## 3. Order CTEs by Dependency\n\n```sql\n--  Dependencies flow downward\nWITH \n  raw AS (...),\n  clean AS (SELECT FROM raw),\n  final AS (SELECT FROM clean)\n```\n\n## 4. Don't Overuse CTEs\n\nSimple queries don't need CTEs - add complexity only when it adds clarity.\n\n---\n\n##  Your Task\n\nWrite well-named CTEs: filter orders > 50, then get customer totals.\n",
    "starter_code": "-- Clear, well-named CTEs\n\n",
    "solution_code": "WITH \n  significant_orders AS (\n    SELECT * FROM orders WHERE amount > 50\n  ),\n  customer_revenue AS (\n    SELECT customer_id, SUM(amount) AS total\n    FROM significant_orders\n    GROUP BY customer_id\n  )\nSELECT * FROM customer_revenue ORDER BY total DESC;",
    "expected_output": "customer_id | total\n101         | 450.00\n102         | 300.00",
    "chapter_id": 206,
    "chapter_title": "CTEs (WITH Clause)"
  },
  "1074": {
    "id": 1074,
    "title": "What are Window Functions?",
    "content": "#  What are Window Functions?\n\n## Aggregate Without Grouping\n\nWindow functions let you calculate across related rows WITHOUT collapsing them:\n\n```sql\nSELECT \n  name,\n  department,\n  salary,\n  AVG(salary) OVER (PARTITION BY department) AS dept_avg\nFROM employees;\n```\n\n## Output\n\n```\nname    | department | salary | dept_avg\nAlice   | Sales      | 60000  | 65000\nBob     | Sales      | 70000  | 65000\nCharlie | Eng        | 80000  | 85000\nDiana   | Eng        | 90000  | 85000\n```\n\nNotice: All rows are kept, but each shows its department's average!\n\n## Window vs Regular Aggregates\n\n| Regular Aggregate | Window Function |\n| --- | --- |\n| Collapses rows | Keeps all rows |\n| Uses GROUP BY | Uses OVER |\n| One row per group | Original row count |\n\n---\n\n##  Your Task\n\nShow each employee with the overall average salary using window function.\n",
    "starter_code": "-- Overall average alongside each row\n\n",
    "solution_code": "SELECT name, salary, AVG(salary) OVER () AS overall_avg FROM employees;",
    "expected_output": "name    | salary | overall_avg\nAlice   | 60000  | 75000\nBob     | 70000  | 75000\nCharlie | 80000  | 75000",
    "chapter_id": 207,
    "chapter_title": "Window Functions"
  },
  "1075": {
    "id": 1075,
    "title": "OVER Clause Basics",
    "content": "#  OVER Clause Basics\n\n## The OVER Clause Syntax\n\nEvery window function uses OVER to define its window:\n\n```sql\nfunction_name() OVER (window_specification)\n```\n\n## Window Specification Options\n\n```sql\nOVER ()                          -- Entire table\nOVER (PARTITION BY column)        -- Groups\nOVER (ORDER BY column)            -- Ordered\nOVER (PARTITION BY x ORDER BY y)  -- Both\n```\n\n## Examples\n\n```sql\n-- Total across all rows\nSUM(amount) OVER ()\n\n-- Total within each category\nSUM(amount) OVER (PARTITION BY category)\n\n-- Running total by date\nSUM(amount) OVER (ORDER BY order_date)\n```\n\n---\n\n##  Your Task\n\nCalculate the total of all orders using SUM() OVER ().\n",
    "starter_code": "-- Total using window function\n\n",
    "solution_code": "SELECT order_id, amount, SUM(amount) OVER () AS total FROM orders;",
    "expected_output": "order_id | amount | total\n1        | 100    | 450\n2        | 150    | 450\n3        | 200    | 450",
    "chapter_id": 207,
    "chapter_title": "Window Functions"
  },
  "1076": {
    "id": 1076,
    "title": "PARTITION BY",
    "content": "#  PARTITION BY\n\n## Grouping Without Collapsing\n\nPARTITION BY splits data into groups for the window function:\n\n```sql\nSELECT \n  name,\n  department,\n  salary,\n  SUM(salary) OVER (PARTITION BY department) AS dept_total\nFROM employees;\n```\n\n## Comparison\n\n```sql\n-- GROUP BY: One row per department\nSELECT department, SUM(salary)\nFROM employees\nGROUP BY department;\n\n-- PARTITION BY: All rows, with department total added\nSELECT *, SUM(salary) OVER (PARTITION BY department)\nFROM employees;\n```\n\n## Multiple Partitions\n\n```sql\n-- Category AND year groups\nSUM(amount) OVER (PARTITION BY category, year)\n```\n\n---\n\n##  Your Task\n\nShow each order with its customer's total order amount.\n",
    "starter_code": "-- Customer totals with PARTITION BY\n\n",
    "solution_code": "SELECT order_id, customer_id, amount, SUM(amount) OVER (PARTITION BY customer_id) AS customer_total FROM orders;",
    "expected_output": "order_id | customer_id | amount | customer_total\n1        | 101         | 100    | 250\n2        | 101         | 150    | 250\n3        | 102         | 200    | 200",
    "chapter_id": 207,
    "chapter_title": "Window Functions"
  },
  "1077": {
    "id": 1077,
    "title": "ORDER BY in Windows",
    "content": "#  ORDER BY in Windows\n\n## Running Calculations\n\nORDER BY in OVER creates running (cumulative) calculations:\n\n```sql\nSELECT \n  order_date,\n  amount,\n  SUM(amount) OVER (ORDER BY order_date) AS running_total\nFROM orders;\n```\n\n## Result\n\n```\norder_date | amount | running_total\n2024-01-01 | 100    | 100\n2024-01-02 | 150    | 250\n2024-01-03 | 80     | 330\n```\n\n## Frame Behavior\n\nWith ORDER BY, the default frame is \"unbounded preceding to current row\":\n\n```sql\n-- These are equivalent:\nSUM(amt) OVER (ORDER BY date)\nSUM(amt) OVER (ORDER BY date ROWS BETWEEN UNBOUNDED PRECEDING AND CURRENT ROW)\n```\n\n---\n\n##  Your Task\n\nCalculate running total of sales by date.\n",
    "starter_code": "-- Running total by date\n\n",
    "solution_code": "SELECT order_date, amount, SUM(amount) OVER (ORDER BY order_date) AS running_total FROM orders;",
    "expected_output": "order_date | amount | running_total\n2024-01-01 | 100    | 100\n2024-01-02 | 150    | 250\n2024-01-03 | 200    | 450",
    "chapter_id": 207,
    "chapter_title": "Window Functions"
  },
  "1078": {
    "id": 1078,
    "title": "ROW_NUMBER",
    "content": "#  ROW_NUMBER\n\n## Assigning Unique Row Numbers\n\nROW_NUMBER assigns a sequential number to each row:\n\n```sql\nSELECT \n  name,\n  salary,\n  ROW_NUMBER() OVER (ORDER BY salary DESC) AS rank\nFROM employees;\n```\n\n## Result\n\n```\nname    | salary | rank\nDiana   | 90000  | 1\nCharlie | 80000  | 2\nBob     | 70000  | 3\nAlice   | 60000  | 4\n```\n\n## With PARTITION BY\n\nNumbers reset for each partition:\n\n```sql\nROW_NUMBER() OVER (PARTITION BY department ORDER BY salary DESC)\n-- Ranks within each department\n```\n\n## Common Use: Top N Per Group\n\n```sql\nWITH ranked AS (\n  SELECT *, ROW_NUMBER() OVER (PARTITION BY dept ORDER BY salary DESC) AS rn\n  FROM employees\n)\nSELECT * FROM ranked WHERE rn = 1;  -- Top earner per dept\n```\n\n---\n\n##  Your Task\n\nNumber employees by salary descending.\n",
    "starter_code": "-- Row numbers by salary\n\n",
    "solution_code": "SELECT name, salary, ROW_NUMBER() OVER (ORDER BY salary DESC) AS row_num FROM employees;",
    "expected_output": "name  | salary | row_num\nBob   | 90000  | 1\nAlice | 75000  | 2\nTom   | 60000  | 3",
    "chapter_id": 207,
    "chapter_title": "Window Functions"
  },
  "1079": {
    "id": 1079,
    "title": "RANK and DENSE_RANK",
    "content": "#  RANK and DENSE_RANK\n\n## Handling Ties\n\n| Function | Ties | Gap After Tie? |\n| --- | --- | --- |\n| ROW_NUMBER | Arbitrary | N/A |\n| RANK | Same rank | Yes |\n| DENSE_RANK | Same rank | No |\n\n## Example\n\n```sql\nSELECT name, score,\n  ROW_NUMBER() OVER (ORDER BY score DESC) AS row_num,\n  RANK() OVER (ORDER BY score DESC) AS rank,\n  DENSE_RANK() OVER (ORDER BY score DESC) AS dense_rank\nFROM students;\n```\n\n## Result\n\n```\nname  | score | row_num | rank | dense_rank\nAlice | 95    | 1       | 1    | 1\nBob   | 95    | 2       | 1    | 1  (tie!)\nTom   | 90    | 3       | 3    | 2  (rank skips, dense doesn't)\nJane  | 85    | 4       | 4    | 3\n```\n\n---\n\n##  Your Task\n\nRank products by price using DENSE_RANK.\n",
    "starter_code": "-- Dense rank by price\n\n",
    "solution_code": "SELECT name, price, DENSE_RANK() OVER (ORDER BY price DESC) AS price_rank FROM products;",
    "expected_output": "name     | price  | price_rank\nPremium  | 149.99 | 1\nWidget B | 99.99  | 2\nWidget A | 99.99  | 2\nBasic    | 29.99  | 3",
    "chapter_id": 207,
    "chapter_title": "Window Functions"
  },
  "1080": {
    "id": 1080,
    "title": "Running Totals with SUM",
    "content": "#  Running Totals with SUM\n\n## Cumulative Sum\n\nSUM with ORDER BY creates a running total:\n\n```sql\nSELECT \n  date,\n  revenue,\n  SUM(revenue) OVER (ORDER BY date) AS cumulative_revenue\nFROM daily_sales;\n```\n\n## Result\n\n```\ndate       | revenue | cumulative_revenue\n2024-01-01 | 1000    | 1000\n2024-01-02 | 1500    | 2500\n2024-01-03 | 800     | 3300\n2024-01-04 | 1200    | 4500\n```\n\n## Running Totals Per Group\n\n```sql\n-- Running total within each month\nSUM(revenue) OVER (\n  PARTITION BY EXTRACT(MONTH FROM date)\n  ORDER BY date\n)\n```\n\n---\n\n##  Your Task\n\nCalculate cumulative sales amount by order date.\n",
    "starter_code": "-- Cumulative sales\n\n",
    "solution_code": "SELECT order_date, amount, SUM(amount) OVER (ORDER BY order_date) AS cumulative_amount FROM orders;",
    "expected_output": "order_date | amount | cumulative_amount\n2024-01-01 | 100.00 | 100.00\n2024-01-02 | 150.00 | 250.00\n2024-01-03 | 200.00 | 450.00",
    "chapter_id": 207,
    "chapter_title": "Window Functions"
  },
  "1081": {
    "id": 1081,
    "title": "Moving Averages",
    "content": "#  Moving Averages\n\n## Rolling Window Calculations\n\nSpecify a frame to calculate over recent rows:\n\n```sql\n-- 3-day moving average\nSELECT \n  date,\n  sales,\n  AVG(sales) OVER (\n    ORDER BY date\n    ROWS BETWEEN 2 PRECEDING AND CURRENT ROW\n  ) AS moving_avg_3day\nFROM daily_sales;\n```\n\n## Frame Specifications\n\n```sql\nROWS BETWEEN 2 PRECEDING AND CURRENT ROW  -- Last 3 rows\nROWS BETWEEN 1 PRECEDING AND 1 FOLLOWING  -- 3 rows centered\nROWS BETWEEN UNBOUNDED PRECEDING AND CURRENT ROW  -- All previous\n```\n\n## Use Cases\n\n- Smoothing noisy data\n- Trend analysis\n- Anomaly detection\n\n---\n\n##  Your Task\n\nCalculate 3-day moving average of daily revenue.\n",
    "starter_code": "-- 3-day moving average\n\n",
    "solution_code": "SELECT date, revenue, AVG(revenue) OVER (ORDER BY date ROWS BETWEEN 2 PRECEDING AND CURRENT ROW) AS moving_avg FROM daily_sales;",
    "expected_output": "date       | revenue | moving_avg\n2024-01-01 | 1000    | 1000.00\n2024-01-02 | 1500    | 1250.00\n2024-01-03 | 800     | 1100.00",
    "chapter_id": 207,
    "chapter_title": "Window Functions"
  },
  "1082": {
    "id": 1082,
    "title": "LAG Function",
    "content": "#  LAG Function\n\n## Access Previous Row Values\n\nLAG gets a value from a previous row:\n\n```sql\nSELECT \n  order_date,\n  revenue,\n  LAG(revenue) OVER (ORDER BY order_date) AS prev_day_revenue\nFROM daily_revenue;\n```\n\n## Result\n\n```\norder_date | revenue | prev_day_revenue\n2024-01-01 | 1000    | NULL  (no previous)\n2024-01-02 | 1500    | 1000\n2024-01-03 | 1200    | 1500\n```\n\n## LAG with Offset and Default\n\n```sql\n-- 2 rows back, default to 0\nLAG(revenue, 2, 0) OVER (ORDER BY date)\n```\n\n## Calculate Change\n\n```sql\nSELECT \n  date,\n  revenue,\n  revenue - LAG(revenue) OVER (ORDER BY date) AS daily_change\nFROM revenue;\n```\n\n---\n\n##  Your Task\n\nShow each order's amount and the previous order's amount.\n",
    "starter_code": "-- Previous order amount\n\n",
    "solution_code": "SELECT order_id, amount, LAG(amount) OVER (ORDER BY order_id) AS prev_amount FROM orders;",
    "expected_output": "order_id | amount | prev_amount\n1        | 100    | NULL\n2        | 150    | 100\n3        | 200    | 150",
    "chapter_id": 207,
    "chapter_title": "Window Functions"
  },
  "1083": {
    "id": 1083,
    "title": "LEAD Function",
    "content": "#  LEAD Function\n\n## Access Next Row Values\n\nLEAD gets a value from a following row:\n\n```sql\nSELECT \n  order_date,\n  revenue,\n  LEAD(revenue) OVER (ORDER BY order_date) AS next_day_revenue\nFROM daily_revenue;\n```\n\n## Result\n\n```\norder_date | revenue | next_day_revenue\n2024-01-01 | 1000    | 1500\n2024-01-02 | 1500    | 1200\n2024-01-03 | 1200    | NULL  (no next)\n```\n\n## Use Cases\n\n- Look-ahead calculations\n- Time until next event\n- Forecasting comparisons\n\n```sql\n-- Days until next order\nSELECT \n  order_date,\n  LEAD(order_date) OVER (ORDER BY order_date) - order_date AS days_to_next\nFROM orders;\n```\n\n---\n\n##  Your Task\n\nShow each employee's salary and the next higher salary.\n",
    "starter_code": "-- Next salary in ranking\n\n",
    "solution_code": "SELECT name, salary, LEAD(salary) OVER (ORDER BY salary) AS next_salary FROM employees;",
    "expected_output": "name    | salary | next_salary\nTom     | 60000  | 75000\nAlice   | 75000  | 90000\nBob     | 90000  | NULL",
    "chapter_id": 207,
    "chapter_title": "Window Functions"
  },
  "1084": {
    "id": 1084,
    "title": "FIRST_VALUE and LAST_VALUE",
    "content": "#  FIRST_VALUE and LAST_VALUE\n\n## Get Boundary Values\n\n```sql\nSELECT \n  name,\n  salary,\n  FIRST_VALUE(name) OVER (ORDER BY salary DESC) AS highest_paid,\n  LAST_VALUE(name) OVER (\n    ORDER BY salary DESC\n    ROWS BETWEEN UNBOUNDED PRECEDING AND UNBOUNDED FOLLOWING\n  ) AS lowest_paid\nFROM employees;\n```\n\n## LAST_VALUE Frame Gotcha\n\n LAST_VALUE needs explicit frame - default frame stops at current row!\n\n```sql\n-- Wrong: Gives current row, not actual last\nLAST_VALUE(x) OVER (ORDER BY y)\n\n-- Right: Explicit frame to include all rows\nLAST_VALUE(x) OVER (\n  ORDER BY y\n  ROWS BETWEEN UNBOUNDED PRECEDING AND UNBOUNDED FOLLOWING\n)\n```\n\n---\n\n##  Your Task\n\nShow each product with the highest priced product name.\n",
    "starter_code": "-- Highest priced product on each row\n\n",
    "solution_code": "SELECT name, price, FIRST_VALUE(name) OVER (ORDER BY price DESC) AS most_expensive FROM products;",
    "expected_output": "name     | price  | most_expensive\nPremium  | 149.99 | Premium\nWidget B | 99.99  | Premium\nBasic    | 29.99  | Premium",
    "chapter_id": 207,
    "chapter_title": "Window Functions"
  },
  "1085": {
    "id": 1085,
    "title": "NTILE for Bucketing",
    "content": "#  NTILE for Bucketing\n\n## Divide Into Equal Groups\n\nNTILE splits rows into n approximately equal buckets:\n\n```sql\nSELECT \n  name,\n  salary,\n  NTILE(4) OVER (ORDER BY salary DESC) AS salary_quartile\nFROM employees;\n```\n\n## Result\n\n```\nname    | salary | salary_quartile\nDiana   | 100000 | 1  (top 25%)\nCharlie | 85000  | 1\nBob     | 70000  | 2\nAlice   | 65000  | 2\nTom     | 60000  | 3\nJane    | 55000  | 3\nKen     | 50000  | 4  (bottom 25%)\nLisa    | 45000  | 4\n```\n\n## Use Cases\n\n- Quartiles, percentiles, deciles\n- Customer segmentation (top 20% customers)\n- Performance ratings (A/B/C/D grades)\n\n---\n\n##  Your Task\n\nDivide products into 3 price tiers.\n",
    "starter_code": "-- 3 price tiers\n\n",
    "solution_code": "SELECT name, price, NTILE(3) OVER (ORDER BY price DESC) AS price_tier FROM products;",
    "expected_output": "name     | price  | price_tier\nPremium  | 149.99 | 1\nWidget B | 99.99  | 1\nWidget A | 49.99  | 2\nBasic    | 29.99  | 3",
    "chapter_id": 207,
    "chapter_title": "Window Functions"
  },
  "1086": {
    "id": 1086,
    "title": "Date Truncation",
    "content": "#  Date Truncation\n\n## Rounding Dates to Periods\n\nTruncate timestamps to specific time periods:\n\n```sql\nSELECT DATE_TRUNC('month', order_date) AS month\nFROM orders;\n```\n\n## Common Truncation Levels\n\n| Level | Example Result |\n| --- | --- |\n| 'day' | 2024-01-15 00:00:00 |\n| 'week' | 2024-01-15 (Monday) |\n| 'month' | 2024-01-01 |\n| 'quarter' | 2024-01-01 |\n| 'year' | 2024-01-01 |\n\n## Use for Grouping\n\n```sql\nSELECT DATE_TRUNC('month', order_date) AS month,\n       SUM(amount) AS monthly_sales\nFROM orders\nGROUP BY 1\nORDER BY 1;\n```\n\n---\n\n##  Your Task\n\nTruncate order_date to month and count orders per month.\n",
    "starter_code": "-- Monthly order counts\n\n",
    "solution_code": "SELECT DATE_TRUNC('month', order_date) AS month, COUNT(*) FROM orders GROUP BY 1 ORDER BY 1;",
    "expected_output": "month      | count\n2024-01-01 | 15\n2024-02-01 | 22\n2024-03-01 | 18",
    "chapter_id": 208,
    "chapter_title": "Time-Series SQL"
  },
  "1087": {
    "id": 1087,
    "title": "DATE_TRUNC Function",
    "content": "#  DATE_TRUNC Function\n\n## Syntax\n\n```sql\nDATE_TRUNC(precision, timestamp)\n```\n\n## Precision Options\n\n```sql\nDATE_TRUNC('hour', ts)    -- 2024-01-15 14:00:00\nDATE_TRUNC('day', ts)     -- 2024-01-15 00:00:00\nDATE_TRUNC('week', ts)    -- Start of week\nDATE_TRUNC('month', ts)   -- First of month\nDATE_TRUNC('year', ts)    -- Jan 1\n```\n\n## Real Example\n\n```sql\n-- Weekly revenue report\nSELECT \n  DATE_TRUNC('week', created_at) AS week,\n  SUM(revenue) AS weekly_revenue\nFROM sales\nGROUP BY 1\nORDER BY 1;\n```\n\n---\n\n##  Your Task\n\nGet weekly sales totals using DATE_TRUNC.\n",
    "starter_code": "-- Weekly sales\n\n",
    "solution_code": "SELECT DATE_TRUNC('week', sale_date) AS week, SUM(amount) AS total FROM sales GROUP BY 1 ORDER BY 1;",
    "expected_output": "week       | total\n2024-01-01 | 5000\n2024-01-08 | 7500",
    "chapter_id": 208,
    "chapter_title": "Time-Series SQL"
  },
  "1088": {
    "id": 1088,
    "title": "Grouping by Time Periods",
    "content": "#  Grouping by Time Periods\n\n## Common Patterns\n\n```sql\n-- Daily\nGROUP BY DATE_TRUNC('day', created_at)\n\n-- Weekly\nGROUP BY DATE_TRUNC('week', created_at)\n\n-- Monthly\nGROUP BY DATE_TRUNC('month', created_at)\n```\n\n## Multiple Time Granularities\n\n```sql\nSELECT \n  DATE_TRUNC('month', order_date) AS month,\n  COUNT(*) AS orders,\n  SUM(amount) AS revenue,\n  AVG(amount) AS avg_order\nFROM orders\nGROUP BY 1\nORDER BY 1;\n```\n\n## Hour of Day Analysis\n\n```sql\nSELECT \n  EXTRACT(HOUR FROM created_at) AS hour,\n  COUNT(*) AS activity\nFROM events\nGROUP BY 1\nORDER BY 1;\n```\n\n---\n\n##  Your Task\n\nGroup orders by quarter and sum amounts.\n",
    "starter_code": "-- Quarterly revenue\n\n",
    "solution_code": "SELECT DATE_TRUNC('quarter', order_date) AS quarter, SUM(amount) AS total FROM orders GROUP BY 1 ORDER BY 1;",
    "expected_output": "quarter    | total\n2024-01-01 | 45000\n2024-04-01 | 52000",
    "chapter_id": 208,
    "chapter_title": "Time-Series SQL"
  },
  "1089": {
    "id": 1089,
    "title": "Date Arithmetic",
    "content": "#  Date Arithmetic\n\n## Adding/Subtracting Time\n\n```sql\n-- Add days\norder_date + INTERVAL '7 days'\n\n-- Subtract months\nNOW() - INTERVAL '3 months'\n\n-- Add hours\ncreated_at + INTERVAL '24 hours'\n```\n\n## Date Differences\n\n```sql\n-- Days between dates\norder_date - created_at  -- Returns interval\n\n-- Age function\nAGE(NOW(), birth_date)  -- Returns interval like '25 years 3 months'\n```\n\n## Common Patterns\n\n```sql\n-- Last 30 days\nWHERE created_at >= NOW() - INTERVAL '30 days'\n\n-- Same day last year\nDATE_TRUNC('day', NOW() - INTERVAL '1 year')\n```\n\n---\n\n##  Your Task\n\nFind orders from the last 7 days.\n",
    "starter_code": "-- Recent orders\n\n",
    "solution_code": "SELECT * FROM orders WHERE order_date >= CURRENT_DATE - INTERVAL '7 days';",
    "expected_output": "order_id | customer_id | amount | order_date\n45       | 101         | 150.00 | 2024-01-14\n46       | 102         | 200.00 | 2024-01-15",
    "chapter_id": 208,
    "chapter_title": "Time-Series SQL"
  },
  "1090": {
    "id": 1090,
    "title": "EXTRACT Function",
    "content": "#  EXTRACT Function\n\n## Pulling Parts from Dates\n\n```sql\nEXTRACT(part FROM timestamp)\n```\n\n## Available Parts\n\n| Part | Example |\n| --- | --- |\n| YEAR | 2024 |\n| MONTH | 1-12 |\n| DAY | 1-31 |\n| HOUR | 0-23 |\n| DOW | 0-6 (day of week) |\n| DOY | 1-366 (day of year) |\n\n## Examples\n\n```sql\nSELECT \n  EXTRACT(YEAR FROM order_date) AS year,\n  EXTRACT(MONTH FROM order_date) AS month,\n  COUNT(*) AS orders\nFROM orders\nGROUP BY 1, 2;\n```\n\n---\n\n##  Your Task\n\nExtract year and month from order_date and count orders.\n",
    "starter_code": "-- Year/month breakdown\n\n",
    "solution_code": "SELECT EXTRACT(YEAR FROM order_date) AS year, EXTRACT(MONTH FROM order_date) AS month, COUNT(*) FROM orders GROUP BY 1, 2;",
    "expected_output": "year | month | count\n2024 | 1     | 35\n2024 | 2     | 28",
    "chapter_id": 208,
    "chapter_title": "Time-Series SQL"
  },
  "1091": {
    "id": 1091,
    "title": "Cohort Analysis Basics",
    "content": "#  Cohort Analysis Basics\n\n## What is a Cohort?\n\nA **cohort** is a group of users who share a common characteristic (usually signup date).\n\n```sql\n-- Assign users to monthly cohorts\nSELECT \n  user_id,\n  DATE_TRUNC('month', signup_date) AS cohort\nFROM users;\n```\n\n## Cohort Size\n\n```sql\nSELECT \n  DATE_TRUNC('month', signup_date) AS cohort,\n  COUNT(*) AS cohort_size\nFROM users\nGROUP BY 1\nORDER BY 1;\n```\n\n## Why Cohort Analysis?\n\n- Track how behavior changes over time\n- Compare different signup periods\n- Measure retention and LTV\n\n---\n\n##  Your Task\n\nAssign users to monthly cohorts and count cohort sizes.\n",
    "starter_code": "-- Monthly cohorts\n\n",
    "solution_code": "SELECT DATE_TRUNC('month', signup_date) AS cohort, COUNT(*) AS size FROM users GROUP BY 1 ORDER BY 1;",
    "expected_output": "cohort     | size\n2024-01-01 | 150\n2024-02-01 | 180\n2024-03-01 | 165",
    "chapter_id": 208,
    "chapter_title": "Time-Series SQL"
  },
  "1092": {
    "id": 1092,
    "title": "Retention Tables",
    "content": "#  Retention Tables\n\n## Tracking User Retention\n\n```sql\nWITH user_cohorts AS (\n  SELECT user_id, DATE_TRUNC('month', signup_date) AS cohort\n  FROM users\n),\nuser_activity AS (\n  SELECT user_id, DATE_TRUNC('month', activity_date) AS activity_month\n  FROM events\n)\nSELECT \n  c.cohort,\n  a.activity_month,\n  COUNT(DISTINCT a.user_id) AS active_users\nFROM user_cohorts c\nJOIN user_activity a ON c.user_id = a.user_id\nGROUP BY 1, 2;\n```\n\n## Retention Rate\n\n```sql\n-- Month 0 = signup month, Month 1 = next month, etc.\nactive_users / cohort_size AS retention_rate\n```\n\n---\n\n##  Your Task\n\nCount active users per cohort and month.\n",
    "starter_code": "-- Retention by cohort\n\n",
    "solution_code": "SELECT DATE_TRUNC('month', u.signup_date) AS cohort, DATE_TRUNC('month', e.event_date) AS month, COUNT(DISTINCT u.user_id) AS active FROM users u JOIN events e ON u.user_id = e.user_id GROUP BY 1, 2;",
    "expected_output": "cohort     | month      | active\n2024-01-01 | 2024-01-01 | 150\n2024-01-01 | 2024-02-01 | 90",
    "chapter_id": 208,
    "chapter_title": "Time-Series SQL"
  },
  "1093": {
    "id": 1093,
    "title": "Session Analysis",
    "content": "#  Session Analysis\n\n## Defining Sessions\n\nGroup events into sessions with time gaps:\n\n```sql\nWITH lagged AS (\n  SELECT \n    user_id,\n    event_time,\n    LAG(event_time) OVER (PARTITION BY user_id ORDER BY event_time) AS prev_event\n  FROM events\n)\nSELECT \n  *,\n  CASE \n    WHEN event_time - prev_event > INTERVAL '30 minutes' THEN 1\n    ELSE 0\n  END AS new_session\nFROM lagged;\n```\n\n## Session Metrics\n\n- Session count per user\n- Average session duration\n- Events per session\n\n---\n\n##  Your Task\n\nCalculate time since previous event per user.\n",
    "starter_code": "-- Time gaps between events\n\n",
    "solution_code": "SELECT user_id, event_time, event_time - LAG(event_time) OVER (PARTITION BY user_id ORDER BY event_time) AS time_since_prev FROM events;",
    "expected_output": "user_id | event_time          | time_since_prev\n1       | 2024-01-15 10:00:00 | NULL\n1       | 2024-01-15 10:05:00 | 00:05:00",
    "chapter_id": 208,
    "chapter_title": "Time-Series SQL"
  },
  "1094": {
    "id": 1094,
    "title": "Conversion Funnels",
    "content": "#  Conversion Funnels\n\n## Tracking User Journeys\n\n```sql\nSELECT \n  COUNT(DISTINCT CASE WHEN event = 'view' THEN user_id END) AS views,\n  COUNT(DISTINCT CASE WHEN event = 'add_cart' THEN user_id END) AS add_cart,\n  COUNT(DISTINCT CASE WHEN event = 'purchase' THEN user_id END) AS purchase\nFROM events;\n```\n\n## Conversion Rates\n\n```sql\nWITH funnel AS (\n  SELECT \n    COUNT(DISTINCT CASE WHEN step = 1 THEN user_id END) AS step1,\n    COUNT(DISTINCT CASE WHEN step = 2 THEN user_id END) AS step2,\n    COUNT(DISTINCT CASE WHEN step = 3 THEN user_id END) AS step3\n  FROM events\n)\nSELECT \n  step1,\n  step2,\n  step3,\n  ROUND(100.0 * step2 / step1, 1) AS conv_1_to_2,\n  ROUND(100.0 * step3 / step2, 1) AS conv_2_to_3\nFROM funnel;\n```\n\n---\n\n##  Your Task\n\nCount users at each funnel stage.\n",
    "starter_code": "-- Funnel stages\n\n",
    "solution_code": "SELECT COUNT(DISTINCT CASE WHEN event_type = 'view' THEN user_id END) AS views, COUNT(DISTINCT CASE WHEN event_type = 'click' THEN user_id END) AS clicks, COUNT(DISTINCT CASE WHEN event_type = 'purchase' THEN user_id END) AS purchases FROM events;",
    "expected_output": "views | clicks | purchases\n1000  | 350    | 75",
    "chapter_id": 208,
    "chapter_title": "Time-Series SQL"
  },
  "1095": {
    "id": 1095,
    "title": "Gap Analysis",
    "content": "#  Gap Analysis\n\n## Finding Missing Dates\n\n```sql\n-- Create date series\nWITH date_series AS (\n  SELECT generate_series(\n    '2024-01-01'::date,\n    '2024-01-31'::date,\n    '1 day'::interval\n  )::date AS date\n)\nSELECT d.date, COALESCE(s.sales, 0) AS sales\nFROM date_series d\nLEFT JOIN sales s ON d.date = s.sale_date;\n```\n\n## Use Cases\n\n- Find days with no sales\n- Identify gaps in time series\n- Ensure complete date coverage\n\n---\n\n##  Your Task\n\nFind dates with sales by joining with a date series.\n",
    "starter_code": "-- Dates with sales\n\n",
    "solution_code": "SELECT sale_date, COUNT(*) AS num_sales FROM sales GROUP BY sale_date ORDER BY sale_date;",
    "expected_output": "sale_date  | num_sales\n2024-01-01 | 5\n2024-01-02 | 8\n2024-01-04 | 3",
    "chapter_id": 208,
    "chapter_title": "Time-Series SQL"
  },
  "1096": {
    "id": 1096,
    "title": "Calendar Tables",
    "content": "#  Calendar Tables\n\n## Pre-built Date Dimension\n\nA calendar table contains one row per date with useful attributes:\n\n```sql\nCREATE TABLE calendar AS\nSELECT \n  d::date AS date,\n  EXTRACT(YEAR FROM d) AS year,\n  EXTRACT(MONTH FROM d) AS month,\n  EXTRACT(DOW FROM d) AS day_of_week,\n  d = DATE_TRUNC('month', d) AS is_month_start\nFROM generate_series('2020-01-01', '2030-12-31', '1 day') d;\n```\n\n## Joining to Calendar\n\n```sql\nSELECT c.year, c.month, SUM(o.amount)\nFROM calendar c\nLEFT JOIN orders o ON c.date = o.order_date\nGROUP BY 1, 2;\n```\n\n---\n\n##  Your Task\n\nJoin orders to a date dimension table.\n",
    "starter_code": "-- Join with calendar\n\n",
    "solution_code": "SELECT c.year, c.month, COALESCE(SUM(o.amount), 0) AS total FROM calendar c LEFT JOIN orders o ON c.date = o.order_date GROUP BY 1, 2 ORDER BY 1, 2;",
    "expected_output": "year | month | total\n2024 | 1     | 45000\n2024 | 2     | 52000",
    "chapter_id": 208,
    "chapter_title": "Time-Series SQL"
  },
  "1097": {
    "id": 1097,
    "title": "Year-over-Year Comparisons",
    "content": "#  Year-over-Year Comparisons\n\n## Comparing to Same Period Last Year\n\n```sql\nWITH monthly_sales AS (\n  SELECT \n    DATE_TRUNC('month', order_date) AS month,\n    SUM(amount) AS revenue\n  FROM orders\n  GROUP BY 1\n)\nSELECT \n  month,\n  revenue,\n  LAG(revenue, 12) OVER (ORDER BY month) AS revenue_ly,\n  revenue - LAG(revenue, 12) OVER (ORDER BY month) AS yoy_change\nFROM monthly_sales;\n```\n\n## YoY Growth Rate\n\n```sql\n100.0 * (revenue - revenue_ly) / revenue_ly AS yoy_growth_pct\n```\n\n---\n\n##  Your Task\n\nCalculate monthly revenue with previous month comparison.\n",
    "starter_code": "-- Month over month\n\n",
    "solution_code": "SELECT DATE_TRUNC('month', order_date) AS month, SUM(amount) AS revenue, LAG(SUM(amount)) OVER (ORDER BY DATE_TRUNC('month', order_date)) AS prev_month FROM orders GROUP BY 1 ORDER BY 1;",
    "expected_output": "month      | revenue | prev_month\n2024-01-01 | 45000   | NULL\n2024-02-01 | 52000   | 45000\n2024-03-01 | 48000   | 52000",
    "chapter_id": 208,
    "chapter_title": "Time-Series SQL"
  },
  "1098": {
    "id": 1098,
    "title": " Analytics Wizard Challenge",
    "content": "#  BOSS BATTLE: The Analytics Wizard\n\nProve your mastery of advanced SQL analytics!\n\n## The Challenge\n\nCombine skills from Chapters 5-8:\n- CTEs for organization\n- Window functions for rankings\n- Time-series analysis\n- Complex aggregations\n\n## Your Mission\n\nWrite a query that:\n1. Shows monthly revenue\n2. Calculates running total YTD\n3. Compares to previous month (MoM change)\n4. Ranks months by revenue\n\n---\n\n##  Complete the Challenge\n\nUse CTEs and window functions to create a comprehensive monthly revenue report.\n",
    "starter_code": "-- The Analytics Wizard Challenge\n-- Monthly revenue with:\n-- - Running total (YTD)\n-- - MoM change\n-- - Rank by revenue\n\n",
    "solution_code": "WITH monthly AS (\n  SELECT \n    DATE_TRUNC('month', order_date) AS month,\n    SUM(amount) AS revenue\n  FROM orders\n  GROUP BY 1\n)\nSELECT \n  month,\n  revenue,\n  SUM(revenue) OVER (ORDER BY month) AS ytd_total,\n  revenue - LAG(revenue) OVER (ORDER BY month) AS mom_change,\n  RANK() OVER (ORDER BY revenue DESC) AS revenue_rank\nFROM monthly\nORDER BY month;",
    "expected_output": "month      | revenue | ytd_total | mom_change | revenue_rank\n2024-01-01 | 45000   | 45000     | NULL       | 3\n2024-02-01 | 52000   | 97000     | 7000       | 1\n2024-03-01 | 48000   | 145000    | -4000      | 2",
    "chapter_id": 251,
    "chapter_title": "Analytics Wizard Boss"
  },
  "1099": {
    "id": 1099,
    "title": "Identifying Duplicates",
    "content": "#  Identifying Duplicates\n\n## Why Duplicates Happen\n\nDuplicates creep into data through:\n- Multiple form submissions\n- System integration issues\n- Data import errors\n- Lack of unique constraints\n\n## Finding Duplicates with GROUP BY\n\n```sql\n-- Find duplicate emails\nSELECT email, COUNT(*) as count\nFROM users\nGROUP BY email\nHAVING COUNT(*) > 1;\n```\n\n## Finding Exact Row Duplicates\n\n```sql\n-- Find completely identical rows\nSELECT name, email, COUNT(*)\nFROM users\nGROUP BY name, email\nHAVING COUNT(*) > 1;\n```\n\n---\n\n##  Your Task\n\nFind all duplicate product names in the products table.\n",
    "starter_code": "-- Find products with duplicate names\n-- Show the name and how many times it appears\n\n",
    "solution_code": "SELECT name, COUNT(*) as count\nFROM products\nGROUP BY name\nHAVING COUNT(*) > 1;",
    "expected_output": "name       | count\nWidget A   | 2\nGadget Pro | 3",
    "chapter_id": 209,
    "chapter_title": "Data Cleaning & Metrics"
  },
  "1100": {
    "id": 1100,
    "title": "Deduplication with ROW_NUMBER",
    "content": "#  Deduplication with ROW_NUMBER\n\n## The ROW_NUMBER Pattern\n\nUse ROW_NUMBER to mark duplicates:\n\n```sql\nWITH ranked AS (\n  SELECT *,\n    ROW_NUMBER() OVER (\n      PARTITION BY email \n      ORDER BY created_at DESC\n    ) as rn\n  FROM users\n)\nSELECT * FROM ranked WHERE rn = 1;\n```\n\n## How It Works\n\n1. **PARTITION BY** groups rows by the duplicate key\n2. **ORDER BY** determines which row is \"first\" (keeper)\n3. **rn = 1** keeps only the first row in each group\n\n## Keeping Latest vs Earliest\n\n```sql\n-- Keep LATEST (most recent)\nORDER BY created_at DESC\n\n-- Keep EARLIEST (oldest)\nORDER BY created_at ASC\n```\n\n---\n\n##  Your Task\n\nGet unique customers keeping the most recent order for each customer_id.\n",
    "starter_code": "-- Deduplicate orders\n-- Keep the most recent order per customer\n\n",
    "solution_code": "WITH ranked AS (\n  SELECT *,\n    ROW_NUMBER() OVER (\n      PARTITION BY customer_id\n      ORDER BY order_date DESC\n    ) as rn\n  FROM orders\n)\nSELECT * FROM ranked WHERE rn = 1;",
    "expected_output": "customer_id | order_date | amount | rn\n1           | 2024-03-15 | 150    | 1\n2           | 2024-03-10 | 200    | 1",
    "chapter_id": 209,
    "chapter_title": "Data Cleaning & Metrics"
  },
  "1101": {
    "id": 1101,
    "title": "Keeping First/Last Record",
    "content": "#  Keeping First or Last Record\n\n## Common Scenarios\n\n| Scenario | Keep | Order By |\n| --- | --- | --- |\n| Latest login | Last | login_time DESC |\n| First purchase | First | purchase_date ASC |\n| Highest value | Best | amount DESC |\n\n## Pattern with FIRST_VALUE\n\n```sql\nSELECT DISTINCT customer_id,\n  FIRST_VALUE(order_id) OVER (\n    PARTITION BY customer_id\n    ORDER BY order_date\n  ) as first_order_id\nFROM orders;\n```\n\n## Delete Duplicates (Keeping First)\n\n```sql\nDELETE FROM orders\nWHERE id NOT IN (\n  SELECT MIN(id)\n  FROM orders\n  GROUP BY customer_id, product_id\n);\n```\n\n---\n\n##  Your Task\n\nFind each customer's first purchase date.\n",
    "starter_code": "-- Find first purchase per customer\n-- Return customer_id and their first order_date\n\n",
    "solution_code": "SELECT customer_id,\n  MIN(order_date) as first_purchase\nFROM orders\nGROUP BY customer_id;",
    "expected_output": "customer_id | first_purchase\n1           | 2024-01-05\n2           | 2024-01-12\n3           | 2024-02-01",
    "chapter_id": 209,
    "chapter_title": "Data Cleaning & Metrics"
  },
  "1102": {
    "id": 1102,
    "title": "Detecting Outliers",
    "content": "#  Detecting Outliers\n\n## What Are Outliers?\n\nValues far from the typical range:\n- Age: 150 years\n- Price: $-50\n- Quantity: 999999\n\n## Statistical Detection\n\n```sql\n-- Using standard deviation\nWITH stats AS (\n  SELECT\n    AVG(amount) as avg_amount,\n    STDDEV(amount) as std_amount\n  FROM orders\n)\nSELECT o.*\nFROM orders o, stats s\nWHERE o.amount > s.avg_amount + 3 * s.std_amount\n   OR o.amount < s.avg_amount - 3 * s.std_amount;\n```\n\n## Simple Range Check\n\n```sql\n-- Business rule based\nSELECT * FROM orders\nWHERE amount < 0 OR amount > 10000;\n```\n\n---\n\n##  Your Task\n\nFind orders where the amount is more than 3 times the average.\n",
    "starter_code": "-- Find outlier orders\n-- Amount > 3x the average\n\n",
    "solution_code": "SELECT *\nFROM orders\nWHERE amount > 3 * (SELECT AVG(amount) FROM orders);",
    "expected_output": "order_id | amount\n42       | 15000\n67       | 12500",
    "chapter_id": 209,
    "chapter_title": "Data Cleaning & Metrics"
  },
  "1103": {
    "id": 1103,
    "title": "Percentile Calculations",
    "content": "#  Percentile Calculations\n\n## What Are Percentiles?\n\n- **P50 (Median)**: 50% of values below\n- **P90**: 90% of values below\n- **P99**: 99% of values below (outliers)\n\n## PERCENTILE_CONT Function\n\n```sql\nSELECT\n  PERCENTILE_CONT(0.5) WITHIN GROUP (ORDER BY amount) as median,\n  PERCENTILE_CONT(0.9) WITHIN GROUP (ORDER BY amount) as p90,\n  PERCENTILE_CONT(0.99) WITHIN GROUP (ORDER BY amount) as p99\nFROM orders;\n```\n\n## NTILE for Buckets\n\n```sql\n-- Put customers into 4 quartiles\nSELECT customer_id, total_spent,\n  NTILE(4) OVER (ORDER BY total_spent) as quartile\nFROM customer_summary;\n```\n\n---\n\n##  Your Task\n\nCalculate the median order amount.\n",
    "starter_code": "-- Find the median (50th percentile) order amount\n\n",
    "solution_code": "SELECT\n  PERCENTILE_CONT(0.5) WITHIN GROUP (ORDER BY amount) as median_amount\nFROM orders;",
    "expected_output": "median_amount\n125.50",
    "chapter_id": 209,
    "chapter_title": "Data Cleaning & Metrics"
  },
  "1104": {
    "id": 1104,
    "title": "Handling Outliers",
    "content": "#  Handling Outliers\n\n## Options for Outliers\n\n| Approach | When to Use |\n| --- | --- |\n| Remove | Data entry errors |\n| Cap/Floor | Statistical analysis |\n| Flag | Keep but mark |\n| Investigate | Could be valid! |\n\n## Capping with LEAST/GREATEST\n\n```sql\n-- Cap amounts at P99\nWITH p99 AS (\n  SELECT PERCENTILE_CONT(0.99) WITHIN GROUP (ORDER BY amount) as cap\n  FROM orders\n)\nSELECT \n  order_id,\n  LEAST(amount, p99.cap) as capped_amount\nFROM orders, p99;\n```\n\n## Flagging Outliers\n\n```sql\nSELECT *,\n  CASE WHEN amount > 10000 THEN true ELSE false END as is_outlier\nFROM orders;\n```\n\n---\n\n##  Your Task\n\nSelect orders with amounts capped at 1000 maximum.\n",
    "starter_code": "-- Cap order amounts at 1000\n-- Show order_id and capped_amount\n\n",
    "solution_code": "SELECT order_id,\n  LEAST(amount, 1000) as capped_amount\nFROM orders;",
    "expected_output": "order_id | capped_amount\n1        | 500\n2        | 1000\n3        | 750",
    "chapter_id": 209,
    "chapter_title": "Data Cleaning & Metrics"
  },
  "1105": {
    "id": 1105,
    "title": "Metric Definitions Matter",
    "content": "#  Metric Definitions Matter\n\n## Same Name, Different Meaning\n\n\"Active Users\" could mean:\n- Logged in this month\n- Made a purchase\n- Viewed any page\n- Used core feature\n\n## Example: Revenue\n\n```sql\n-- Gross revenue\nSELECT SUM(amount) as gross_revenue FROM orders;\n\n-- Net revenue (minus refunds)\nSELECT SUM(CASE WHEN status != 'refunded' THEN amount ELSE 0 END) as net_revenue\nFROM orders;\n\n-- Recognized revenue (delivered only)\nSELECT SUM(amount) FROM orders WHERE status = 'delivered';\n```\n\n## Document Your Definitions!\n\n| Metric | Definition |\n| --- | --- |\n| MAU | Users with 1 login in 30 days |\n| Revenue | Net of refunds, excludes tips |\n\n---\n\n##  Your Task\n\nCalculate net revenue (excluding refunded orders).\n",
    "starter_code": "-- Calculate net revenue\n-- Exclude orders with status = 'refunded'\n\n",
    "solution_code": "SELECT SUM(amount) as net_revenue\nFROM orders\nWHERE status != 'refunded';",
    "expected_output": "net_revenue\n45000",
    "chapter_id": 209,
    "chapter_title": "Data Cleaning & Metrics"
  },
  "1106": {
    "id": 1106,
    "title": "Active User Definitions",
    "content": "#  Active User Definitions\n\n## Common Definitions\n\n| Metric | Definition |\n| --- | --- |\n| DAU | Unique users per day |\n| WAU | Unique users in 7 days |\n| MAU | Unique users in 30 days |\n\n## Calculating DAU\n\n```sql\nSELECT\n  DATE(event_time) as date,\n  COUNT(DISTINCT user_id) as dau\nFROM events\nGROUP BY DATE(event_time);\n```\n\n## Rolling 7-Day Active Users\n\n```sql\nSELECT\n  date,\n  COUNT(DISTINCT user_id) OVER (\n    ORDER BY date\n    ROWS BETWEEN 6 PRECEDING AND CURRENT ROW\n  ) as rolling_7d_users\nFROM daily_users;\n```\n\n---\n\n##  Your Task\n\nCalculate daily active users from the events table.\n",
    "starter_code": "-- Calculate DAU\n-- Count unique users per day\n\n",
    "solution_code": "SELECT\n  DATE(event_time) as date,\n  COUNT(DISTINCT user_id) as dau\nFROM events\nGROUP BY DATE(event_time)\nORDER BY date;",
    "expected_output": "date       | dau\n2024-03-01 | 150\n2024-03-02 | 175\n2024-03-03 | 160",
    "chapter_id": 209,
    "chapter_title": "Data Cleaning & Metrics"
  },
  "1107": {
    "id": 1107,
    "title": "Avoiding Double Counting",
    "content": "#  Avoiding Double Counting\n\n## Common Mistakes\n\n1. **Joining without deduping** - inflates counts\n2. **Missing DISTINCT** - counts rows not unique values\n3. **Wrong aggregation level** - summing at wrong grain\n\n## Bad: Double Counting\n\n```sql\n-- If user has multiple orders, counted multiple times!\nSELECT COUNT(*) FROM users u\nJOIN orders o ON u.id = o.user_id;\n```\n\n## Good: Distinct Count\n\n```sql\nSELECT COUNT(DISTINCT u.id) as unique_customers\nFROM users u\nJOIN orders o ON u.id = o.user_id;\n```\n\n## Watch for Many-to-Many\n\n```sql\n-- Pre-aggregate to avoid explosion\nWITH user_orders AS (\n  SELECT user_id, SUM(amount) as total\n  FROM orders GROUP BY user_id\n)\nSELECT * FROM users u\nJOIN user_orders uo ON u.id = uo.user_id;\n```\n\n---\n\n##  Your Task\n\nCount unique customers who have placed orders.\n",
    "starter_code": "-- Count unique customers with orders\n-- Don't double count!\n\n",
    "solution_code": "SELECT COUNT(DISTINCT customer_id) as unique_customers\nFROM orders;",
    "expected_output": "unique_customers\n250",
    "chapter_id": 209,
    "chapter_title": "Data Cleaning & Metrics"
  },
  "1108": {
    "id": 1108,
    "title": "Data Quality Checks",
    "content": "#  Data Quality Checks\n\n## Types of Quality Checks\n\n| Check Type | Example |\n| --- | --- |\n| Null checks | Required fields filled |\n| Range checks | Age between 0-120 |\n| Format checks | Email contains @ |\n| Referential | FK exists in parent |\n\n## Null Check Query\n\n```sql\nSELECT \n  COUNT(*) as total_rows,\n  COUNT(email) as has_email,\n  COUNT(*) - COUNT(email) as missing_email\nFROM users;\n```\n\n## Orphan Records\n\n```sql\n-- Orders without valid customer\nSELECT o.*\nFROM orders o\nLEFT JOIN customers c ON o.customer_id = c.id\nWHERE c.id IS NULL;\n```\n\n---\n\n##  Your Task\n\nCount how many products are missing a category_id.\n",
    "starter_code": "-- Count products with NULL category_id\n\n",
    "solution_code": "SELECT COUNT(*) as missing_category\nFROM products\nWHERE category_id IS NULL;",
    "expected_output": "missing_category\n15",
    "chapter_id": 209,
    "chapter_title": "Data Cleaning & Metrics"
  },
  "1109": {
    "id": 1109,
    "title": "Assertion Queries",
    "content": "#  Assertion Queries\n\n## What Are Assertions?\n\nQueries that should return 0 rows if data is valid:\n\n```sql\n-- Should return no rows!\nSELECT * FROM orders WHERE amount < 0;\n```\n\n## Common Assertions\n\n```sql\n-- No future dates\nSELECT * FROM orders WHERE order_date > CURRENT_DATE;\n\n-- No duplicates\nSELECT email, COUNT(*) \nFROM users \nGROUP BY email \nHAVING COUNT(*) > 1;\n\n-- All FKs valid\nSELECT o.* FROM orders o\nLEFT JOIN customers c ON o.customer_id = c.id\nWHERE c.id IS NULL;\n```\n\n## Automated Testing\n\n```sql\n-- Return TRUE if valid\nSELECT NOT EXISTS (\n  SELECT 1 FROM orders WHERE amount < 0\n) as no_negative_amounts;\n```\n\n---\n\n##  Your Task\n\nWrite an assertion to find orders with negative amounts.\n",
    "starter_code": "-- Find orders with invalid (negative) amounts\n-- Should return 0 rows if data is clean\n\n",
    "solution_code": "SELECT * FROM orders\nWHERE amount < 0;",
    "expected_output": "order_id | amount\n(no rows)",
    "chapter_id": 209,
    "chapter_title": "Data Cleaning & Metrics"
  },
  "1110": {
    "id": 1110,
    "title": "Metric Validation",
    "content": "#  Metric Validation\n\n## Trust But Verify\n\nAlways sanity-check your metrics:\n\n```sql\n-- Does total match sum of parts?\nSELECT \n  SUM(amount) as total_revenue,\n  SUM(CASE WHEN channel = 'web' THEN amount ELSE 0 END) as web,\n  SUM(CASE WHEN channel = 'mobile' THEN amount ELSE 0 END) as mobile\nFROM orders;\n-- web + mobile should equal total!\n```\n\n## Year-over-Year Sense Check\n\n```sql\nSELECT\n  EXTRACT(YEAR FROM order_date) as year,\n  COUNT(*) as order_count,\n  SUM(amount) as revenue\nFROM orders\nGROUP BY EXTRACT(YEAR FROM order_date)\nORDER BY year;\n-- Wild swings? Investigate!\n```\n\n## Cross-Table Validation\n\n```sql\n-- Order count should match\nSELECT 'orders' as source, COUNT(*) FROM orders\nUNION ALL\nSELECT 'order_items', COUNT(DISTINCT order_id) FROM order_items;\n```\n\n---\n\n##  Your Task\n\nCompare total revenue against the sum of web and mobile channels.\n",
    "starter_code": "-- Validate revenue by channel\n-- Total should equal web + mobile\n\n",
    "solution_code": "SELECT\n  SUM(amount) as total_revenue,\n  SUM(CASE WHEN channel = 'web' THEN amount ELSE 0 END) as web_revenue,\n  SUM(CASE WHEN channel = 'mobile' THEN amount ELSE 0 END) as mobile_revenue\nFROM orders;",
    "expected_output": "total_revenue | web_revenue | mobile_revenue\n50000         | 30000       | 20000",
    "chapter_id": 209,
    "chapter_title": "Data Cleaning & Metrics"
  },
  "1111": {
    "id": 1111,
    "title": "Why Tables Split",
    "content": "#  Why Tables Split\n\n## The Problem with One Table\n\n```\norders table (BAD design):\norder_id | customer_name | customer_email | product_name | price\n1        | Alice         | alice@mail.com | Widget       | 25\n2        | Alice         | alice@mail.com | Gadget       | 50\n```\n\n**Issues:**\n- Repeated data (customer info)\n- Update anomalies\n- Wasted storage\n\n## The Solution: Split!\n\n```\ncustomers table:\nid | name  | email\n1  | Alice | alice@mail.com\n\norders table:\nid | customer_id | product | price\n1  | 1           | Widget  | 25\n2  | 1           | Gadget  | 50\n```\n\n---\n\n##  Your Task\n\nSelect customer_id and total orders per customer.\n",
    "starter_code": "-- Count orders per customer\n\n",
    "solution_code": "SELECT customer_id, COUNT(*) as total_orders\nFROM orders\nGROUP BY customer_id;",
    "expected_output": "customer_id | total_orders\n1           | 5\n2           | 3",
    "chapter_id": 210,
    "chapter_title": "Database Design Essentials"
  },
  "1112": {
    "id": 1112,
    "title": "Normalization Basics",
    "content": "#  Normalization Basics\n\n## What is Normalization?\n\nA process to organize tables to:\n- Reduce data redundancy\n- Improve data integrity\n- Prevent update anomalies\n\n## Normal Forms\n\n| Form | Rule |\n| --- | --- |\n| 1NF | No repeating groups |\n| 2NF | No partial dependencies |\n| 3NF | No transitive dependencies |\n\n## Benefits\n\n- Smaller storage\n- Fewer update errors\n- Better data quality\n\n---\n\n##  Your Task\n\nFind all unique customer emails.\n",
    "starter_code": "-- Select distinct emails\n\n",
    "solution_code": "SELECT DISTINCT email\nFROM customers;",
    "expected_output": "email\nalice@mail.com\nbob@mail.com",
    "chapter_id": 210,
    "chapter_title": "Database Design Essentials"
  },
  "1113": {
    "id": 1113,
    "title": "First Normal Form",
    "content": "# 1 First Normal Form (1NF)\n\n## Rule\n\nEach cell contains a single atomic value.\n\n## Bad (Not 1NF)\n\n```\nuser_id | phones\n1       | 555-1234, 555-5678\n```\n\n## Good (1NF)\n\n```\nuser_id | phone_type | phone\n1       | home       | 555-1234\n1       | mobile     | 555-5678\n```\n\n---\n\n##  Your Task\n\nSelect users with their phone numbers from the user_phones table.\n",
    "starter_code": "-- Join users with their phones\n\n",
    "solution_code": "SELECT u.name, p.phone\nFROM users u\nJOIN user_phones p ON u.id = p.user_id;",
    "expected_output": "name  | phone\nAlice | 555-1234\nAlice | 555-5678",
    "chapter_id": 210,
    "chapter_title": "Database Design Essentials"
  },
  "1114": {
    "id": 1114,
    "title": "Second and Third Normal Form",
    "content": "# 23 Second and Third Normal Form\n\n## 2NF: No Partial Dependencies\n\nEvery non-key column depends on the ENTIRE primary key.\n\n## 3NF: No Transitive Dependencies\n\nNon-key columns don't depend on other non-key columns.\n\n**Example Problem:**\n```\nemployee_id | department_id | department_name\n```\n`department_name` depends on `department_id` not employee!\n\n**Fix:** Create separate departments table.\n\n---\n\n##  Your Task\n\nJoin employees with departments to show employee name and department name.\n",
    "starter_code": "-- Join employees and departments\n\n",
    "solution_code": "SELECT e.name, d.name as department\nFROM employees e\nJOIN departments d ON e.department_id = d.id;",
    "expected_output": "name  | department\nAlice | Sales\nBob   | Marketing",
    "chapter_id": 210,
    "chapter_title": "Database Design Essentials"
  },
  "1115": {
    "id": 1115,
    "title": "Fact Tables",
    "content": "#  Fact Tables\n\n## What are Fact Tables?\n\nTables that store **measurable events**:\n- Orders\n- Page views\n- Transactions\n- Clicks\n\n## Characteristics\n\n- Contain numeric measures (amount, quantity)\n- Large row counts\n- Foreign keys to dimensions\n- Append-only (events happen once)\n\n```sql\n-- Fact table example\nCREATE TABLE fact_orders (\n  order_id INT,\n  customer_id INT,  -- FK\n  product_id INT,   -- FK\n  date_id INT,      -- FK\n  amount DECIMAL\n);\n```\n\n---\n\n##  Your Task\n\nGet total revenue from the orders fact table.\n",
    "starter_code": "-- Sum all order amounts\n\n",
    "solution_code": "SELECT SUM(amount) as total_revenue\nFROM orders;",
    "expected_output": "total_revenue\n125000",
    "chapter_id": 210,
    "chapter_title": "Database Design Essentials"
  },
  "1116": {
    "id": 1116,
    "title": "Dimension Tables",
    "content": "#  Dimension Tables\n\n## What are Dimension Tables?\n\nTables that store **descriptive attributes**:\n- Customers\n- Products\n- Dates\n- Locations\n\n## Characteristics\n\n- Fewer rows than facts\n- Rich descriptive columns\n- Slowly changing\n- Joined to facts by ID\n\n```sql\n-- Dimension table example\nCREATE TABLE dim_customer (\n  customer_id INT PRIMARY KEY,\n  name VARCHAR,\n  email VARCHAR,\n  segment VARCHAR\n);\n```\n\n---\n\n##  Your Task\n\nSelect all columns from the customers dimension table.\n",
    "starter_code": "-- Get all customer attributes\n\n",
    "solution_code": "SELECT * FROM customers;",
    "expected_output": "id | name  | email          | segment\n1  | Alice | alice@mail.com | Premium",
    "chapter_id": 210,
    "chapter_title": "Database Design Essentials"
  },
  "1117": {
    "id": 1117,
    "title": "Star Schema",
    "content": "#  Star Schema\n\n## What is Star Schema?\n\nA design pattern where:\n- **Fact table** in the center\n- **Dimension tables** around it (like star points)\n\n```\n        dim_customer\n            |\n dim_date -- fact_orders -- dim_product\n            |\n        dim_location\n```\n\n## Benefits\n\n- Simple to understand\n- Fast queries\n- Standard for analytics\n\n---\n\n##  Your Task\n\nJoin orders with customers and products to show customer name, product name, and amount.\n",
    "starter_code": "-- Star join: orders + customers + products\n\n",
    "solution_code": "SELECT c.name as customer, p.name as product, o.amount\nFROM orders o\nJOIN customers c ON o.customer_id = c.id\nJOIN products p ON o.product_id = p.id;",
    "expected_output": "customer | product | amount\nAlice    | Widget  | 50",
    "chapter_id": 210,
    "chapter_title": "Database Design Essentials"
  },
  "1118": {
    "id": 1118,
    "title": "Primary Key Constraints",
    "content": "#  Primary Key Constraints\n\n## What is a Primary Key?\n\nA column (or combination) that **uniquely identifies** each row.\n\n## Rules\n\n- Must be unique\n- Cannot be NULL\n- One per table\n\n```sql\nCREATE TABLE users (\n  id INT PRIMARY KEY,\n  email VARCHAR\n);\n```\n\n---\n\n##  Your Task\n\nFind users with duplicate IDs (should return 0 if PK enforced).\n",
    "starter_code": "-- Check for duplicate IDs\n\n",
    "solution_code": "SELECT id, COUNT(*)\nFROM users\nGROUP BY id\nHAVING COUNT(*) > 1;",
    "expected_output": "id | count\n(no rows)",
    "chapter_id": 210,
    "chapter_title": "Database Design Essentials"
  },
  "1119": {
    "id": 1119,
    "title": "Foreign Key Constraints",
    "content": "#  Foreign Key Constraints\n\n## What is a Foreign Key?\n\nA column that references the primary key of another table.\n\n## Purpose\n\n- Enforces referential integrity\n- Prevents orphan records\n- Documents relationships\n\n```sql\nCREATE TABLE orders (\n  id INT PRIMARY KEY,\n  customer_id INT REFERENCES customers(id)\n);\n```\n\n---\n\n##  Your Task\n\nFind orders with invalid customer IDs (LEFT JOIN where customer is NULL).\n",
    "starter_code": "-- Find orphan orders\n\n",
    "solution_code": "SELECT o.*\nFROM orders o\nLEFT JOIN customers c ON o.customer_id = c.id\nWHERE c.id IS NULL;",
    "expected_output": "order_id | customer_id\n(no rows)",
    "chapter_id": 210,
    "chapter_title": "Database Design Essentials"
  },
  "1120": {
    "id": 1120,
    "title": "Unique Constraints",
    "content": "#  Unique Constraints\n\n## What is a Unique Constraint?\n\nEnsures all values in a column are distinct.\n\n```sql\nCREATE TABLE users (\n  id INT PRIMARY KEY,\n  email VARCHAR UNIQUE\n);\n```\n\n## Difference from Primary Key\n\n| Feature | Primary Key | Unique |\n| --- | --- | --- |\n| NULL allowed | No | Yes (one) |\n| Per table | One | Many |\n\n---\n\n##  Your Task\n\nFind duplicate emails in users.\n",
    "starter_code": "-- Find duplicate emails\n\n",
    "solution_code": "SELECT email, COUNT(*)\nFROM users\nGROUP BY email\nHAVING COUNT(*) > 1;",
    "expected_output": "email | count\n(no rows)",
    "chapter_id": 210,
    "chapter_title": "Database Design Essentials"
  },
  "1121": {
    "id": 1121,
    "title": "When to Denormalize",
    "content": "#  When to Denormalize\n\n## Sometimes Breaking Rules is OK\n\n**Denormalize when:**\n- Read performance critical\n- Joins too expensive\n- Analytics/reporting use case\n- Data rarely changes\n\n**Keep normalized when:**\n- Transactional system\n- Data changes frequently\n- Storage matters\n\n## Common Denormalization\n\n```sql\n-- Pre-aggregate daily revenue\nCREATE TABLE daily_revenue AS\nSELECT DATE(order_date) as date, SUM(amount) as revenue\nFROM orders GROUP BY 1;\n```\n\n---\n\n##  Your Task\n\nCreate a summary query showing daily order counts.\n",
    "starter_code": "-- Get daily order counts\n\n",
    "solution_code": "SELECT DATE(order_date) as date, COUNT(*) as order_count\nFROM orders\nGROUP BY DATE(order_date);",
    "expected_output": "date       | order_count\n2024-03-01 | 15\n2024-03-02 | 23",
    "chapter_id": 210,
    "chapter_title": "Database Design Essentials"
  },
  "1122": {
    "id": 1122,
    "title": "Analytics Schema Design",
    "content": "#  Analytics Schema Design\n\n## Best Practices\n\n1. **Date dimension** - always include\n2. **Surrogate keys** - use INT not natural keys\n3. **Grain matters** - define clearly\n4. **Additive measures** - SUM-friendly\n\n## Example Analytics Schema\n\n```\ndim_date (date_id, date, month, quarter, year)\ndim_customer (customer_id, name, segment)\nfact_orders (date_id, customer_id, amount)\n```\n\n---\n\n##  Your Task\n\nJoin orders with dates to get monthly revenue.\n",
    "starter_code": "-- Monthly revenue aggregation\n\n",
    "solution_code": "SELECT DATE_TRUNC('month', order_date) as month, SUM(amount) as revenue\nFROM orders\nGROUP BY DATE_TRUNC('month', order_date)\nORDER BY month;",
    "expected_output": "month      | revenue\n2024-01-01 | 45000\n2024-02-01 | 52000",
    "chapter_id": 210,
    "chapter_title": "Database Design Essentials"
  },
  "1123": {
    "id": 1123,
    "title": "Why Performance Matters",
    "content": "#  Why Performance Matters\n\n## Real Impact\n\n- Slow dashboards = frustrated users\n- Expensive cloud bills\n- Timeouts on large queries\n\n## Key Metrics\n\n| Metric | Good | Bad |\n| --- | --- | --- |\n| Query time | < 5 sec | > 30 sec |\n| Rows scanned | Minimal | Full table |\n| Cost | Predictable | Spiky |\n\n---\n\n##  Your Task\n\nSelect only the columns you need (not SELECT *).\n",
    "starter_code": "-- Select only id and name from users\n\n",
    "solution_code": "SELECT id, name FROM users;",
    "expected_output": "id | name\n1  | Alice\n2  | Bob",
    "chapter_id": 211,
    "chapter_title": "Performance & Query Plans"
  },
  "1124": {
    "id": 1124,
    "title": "Introduction to Indexes",
    "content": "#  Introduction to Indexes\n\n## What is an Index?\n\nA data structure that speeds up lookups, like a book index.\n\n## Without Index\n\nDatabase scans every row (table scan).\n\n## With Index\n\nDatabase jumps directly to matching rows.\n\n```sql\nCREATE INDEX idx_email ON users(email);\n```\n\n---\n\n##  Your Task\n\nFind user by email (uses index if exists).\n",
    "starter_code": "-- Find user by email\n\n",
    "solution_code": "SELECT * FROM users WHERE email = 'alice@mail.com';",
    "expected_output": "id | name  | email\n1  | Alice | alice@mail.com",
    "chapter_id": 211,
    "chapter_title": "Performance & Query Plans"
  },
  "1125": {
    "id": 1125,
    "title": "How Indexes Work",
    "content": "#  How Indexes Work\n\n## B-Tree Structure\n\nMost indexes use B-trees:\n- Sorted data\n- O(log n) lookups\n- Good for equals and ranges\n\n## Index Lookup\n\n1. Search index tree\n2. Find row pointers\n3. Fetch actual rows\n\n---\n\n##  Your Task\n\nFind orders in a date range (benefits from index on order_date).\n",
    "starter_code": "-- Find orders in March 2024\n\n",
    "solution_code": "SELECT * FROM orders\nWHERE order_date BETWEEN '2024-03-01' AND '2024-03-31';",
    "expected_output": "order_id | order_date | amount\n10       | 2024-03-15 | 100",
    "chapter_id": 211,
    "chapter_title": "Performance & Query Plans"
  },
  "1126": {
    "id": 1126,
    "title": "Index Trade-offs",
    "content": "#  Index Trade-offs\n\n## Benefits\n\n- Faster reads\n- Quick lookups\n\n## Costs\n\n- Slower writes (index updates)\n- Storage space\n- Maintenance overhead\n\n## When to Index\n\n| Index | Don't Index |\n| --- | --- |\n| Frequently filtered | Rarely queried |\n| High cardinality | Low cardinality |\n| JOIN keys | Write-heavy tables |\n\n---\n\n##  Your Task\n\nFilter by high-cardinality column (customer_id is good for indexing).\n",
    "starter_code": "-- Find orders for customer 5\n\n",
    "solution_code": "SELECT * FROM orders WHERE customer_id = 5;",
    "expected_output": "order_id | customer_id | amount\n12       | 5           | 200",
    "chapter_id": 211,
    "chapter_title": "Performance & Query Plans"
  },
  "1127": {
    "id": 1127,
    "title": "Reading EXPLAIN Output",
    "content": "#  Reading EXPLAIN Output\n\n## EXPLAIN Basics\n\n```sql\nEXPLAIN SELECT * FROM orders WHERE customer_id = 5;\n```\n\n## What to Look For\n\n| Term | Meaning |\n| --- | --- |\n| Seq Scan | Full table scan (slow) |\n| Index Scan | Uses index (fast) |\n| Rows | Estimated rows |\n| Cost | Query cost estimate |\n\n---\n\n##  Your Task\n\nWrite a query that would use an index on customer_id.\n",
    "starter_code": "-- Query that benefits from customer_id index\n\n",
    "solution_code": "SELECT * FROM orders WHERE customer_id = 1;",
    "expected_output": "order_id | customer_id | amount\n1        | 1           | 50",
    "chapter_id": 211,
    "chapter_title": "Performance & Query Plans"
  },
  "1128": {
    "id": 1128,
    "title": "Sequential vs Index Scan",
    "content": "#  Sequential vs Index Scan\n\n## Sequential Scan\n\n- Reads every row\n- Good for: small tables, no WHERE\n\n## Index Scan\n\n- Uses index to find rows\n- Good for: selective WHERE clauses\n\n## Rule of Thumb\n\nIf <5-10% of rows match, use index.\n\n---\n\n##  Your Task\n\nWrite a selective query (finds few rows).\n",
    "starter_code": "-- Find the single order with id = 1\n\n",
    "solution_code": "SELECT * FROM orders WHERE id = 1;",
    "expected_output": "id | amount\n1  | 50",
    "chapter_id": 211,
    "chapter_title": "Performance & Query Plans"
  },
  "1129": {
    "id": 1129,
    "title": "Filter Early Principle",
    "content": "#  Filter Early Principle\n\n## Key Insight\n\nThe sooner you filter, the less data to process.\n\n## Bad: Filter Late\n\n```sql\n-- Joins all rows first!\nSELECT * FROM orders o\nJOIN customers c ON o.customer_id = c.id\nWHERE o.order_date > '2024-01-01';\n```\n\n## Good: Filter in Subquery\n\n```sql\nWITH recent_orders AS (\n  SELECT * FROM orders WHERE order_date > '2024-01-01'\n)\nSELECT * FROM recent_orders o\nJOIN customers c ON o.customer_id = c.id;\n```\n\n---\n\n##  Your Task\n\nFilter orders first, then join.\n",
    "starter_code": "-- Filter orders before joining\n\n",
    "solution_code": "SELECT c.name, o.amount\nFROM orders o\nJOIN customers c ON o.customer_id = c.id\nWHERE o.amount > 100;",
    "expected_output": "name  | amount\nAlice | 150",
    "chapter_id": 211,
    "chapter_title": "Performance & Query Plans"
  },
  "1130": {
    "id": 1130,
    "title": "Reducing Rows Before Joins",
    "content": "#  Reducing Rows Before Joins\n\n## Pre-aggregate Pattern\n\n```sql\nWITH customer_totals AS (\n  SELECT customer_id, SUM(amount) as total\n  FROM orders\n  GROUP BY customer_id\n)\nSELECT c.name, ct.total\nFROM customers c\nJOIN customer_totals ct ON c.id = ct.customer_id;\n```\n\n## Benefits\n\n- Fewer rows in join\n- Less memory\n- Faster execution\n\n---\n\n##  Your Task\n\nPre-aggregate orders then join to customers.\n",
    "starter_code": "-- Aggregate first, join second\n\n",
    "solution_code": "WITH order_totals AS (\n  SELECT customer_id, SUM(amount) as total\n  FROM orders\n  GROUP BY customer_id\n)\nSELECT c.name, ot.total\nFROM customers c\nJOIN order_totals ot ON c.id = ot.customer_id;",
    "expected_output": "name  | total\nAlice | 500\nBob   | 300",
    "chapter_id": 211,
    "chapter_title": "Performance & Query Plans"
  },
  "1131": {
    "id": 1131,
    "title": "Avoiding SELECT *",
    "content": "#  Avoiding SELECT *\n\n## Why Avoid?\n\n- Fetches unneeded columns\n- More network transfer\n- Can't use covering indexes\n\n## Better Practice\n\n```sql\n-- Bad\nSELECT * FROM users;\n\n-- Good\nSELECT id, name, email FROM users;\n```\n\n---\n\n##  Your Task\n\nSelect only name and email from customers.\n",
    "starter_code": "-- Select specific columns only\n\n",
    "solution_code": "SELECT name, email FROM customers;",
    "expected_output": "name  | email\nAlice | alice@mail.com",
    "chapter_id": 211,
    "chapter_title": "Performance & Query Plans"
  },
  "1132": {
    "id": 1132,
    "title": "INSERT Basics",
    "content": "#  INSERT Basics\n\n## Inserting a Row\n\n```sql\nINSERT INTO users (name, email)\nVALUES ('Alice', 'alice@mail.com');\n```\n\n## Key Points\n\n- Specify columns explicitly\n- Values must match column order\n- Returns inserted rows (in Postgres)\n\n---\n\n##  Your Task\n\nInsert a new product named 'Widget'.\n",
    "starter_code": "-- Insert a product\n\n",
    "solution_code": "INSERT INTO products (name, price)\nVALUES ('Widget', 25.00);",
    "expected_output": "INSERT 0 1",
    "chapter_id": 212,
    "chapter_title": "Mutations & Transactions"
  },
  "1133": {
    "id": 1133,
    "title": "INSERT Multiple Rows",
    "content": "#  INSERT Multiple Rows\n\n## Bulk Insert\n\n```sql\nINSERT INTO products (name, price) VALUES\n  ('Widget', 25),\n  ('Gadget', 50),\n  ('Gizmo', 75);\n```\n\n## Benefits\n\n- Single transaction\n- Faster than multiple INSERTs\n- Less overhead\n\n---\n\n##  Your Task\n\nInsert 3 new users.\n",
    "starter_code": "-- Insert multiple users\n\n",
    "solution_code": "INSERT INTO users (name, email) VALUES\n  ('Alice', 'alice@mail.com'),\n  ('Bob', 'bob@mail.com'),\n  ('Charlie', 'charlie@mail.com');",
    "expected_output": "INSERT 0 3",
    "chapter_id": 212,
    "chapter_title": "Mutations & Transactions"
  },
  "1134": {
    "id": 1134,
    "title": "INSERT from SELECT",
    "content": "#  INSERT from SELECT\n\n## Copy Data Pattern\n\n```sql\nINSERT INTO archive_orders\nSELECT * FROM orders\nWHERE order_date < '2023-01-01';\n```\n\n## Use Cases\n\n- Archiving old data\n- Creating summary tables\n- Copying between tables\n\n---\n\n##  Your Task\n\nInsert high-value orders (>1000) into vip_orders.\n",
    "starter_code": "-- Copy high-value orders\n\n",
    "solution_code": "INSERT INTO vip_orders\nSELECT * FROM orders WHERE amount > 1000;",
    "expected_output": "INSERT 0 5",
    "chapter_id": 212,
    "chapter_title": "Mutations & Transactions"
  },
  "1135": {
    "id": 1135,
    "title": "UPDATE Basics",
    "content": "#  UPDATE Basics\n\n## Updating Rows\n\n```sql\nUPDATE users\nSET email = 'new@mail.com'\nWHERE id = 1;\n```\n\n##  ALWAYS use WHERE!\n\nWithout WHERE, updates ALL rows!\n\n---\n\n##  Your Task\n\nUpdate product price for 'Widget' to 30.\n",
    "starter_code": "-- Update product price\n\n",
    "solution_code": "UPDATE products\nSET price = 30\nWHERE name = 'Widget';",
    "expected_output": "UPDATE 1",
    "chapter_id": 212,
    "chapter_title": "Mutations & Transactions"
  },
  "1136": {
    "id": 1136,
    "title": "UPDATE with Conditions",
    "content": "#  UPDATE with Conditions\n\n## Multiple Conditions\n\n```sql\nUPDATE orders\nSET status = 'shipped'\nWHERE status = 'paid' AND order_date < '2024-03-01';\n```\n\n## Update Multiple Columns\n\n```sql\nUPDATE users\nSET name = 'Alice Smith', updated_at = NOW()\nWHERE id = 1;\n```\n\n---\n\n##  Your Task\n\nSet all pending orders to 'processing'.\n",
    "starter_code": "-- Update pending order status\n\n",
    "solution_code": "UPDATE orders\nSET status = 'processing'\nWHERE status = 'pending';",
    "expected_output": "UPDATE 10",
    "chapter_id": 212,
    "chapter_title": "Mutations & Transactions"
  },
  "1137": {
    "id": 1137,
    "title": "DELETE Basics",
    "content": "#  DELETE Basics\n\n## Deleting Rows\n\n```sql\nDELETE FROM users WHERE id = 1;\n```\n\n##  ALWAYS use WHERE!\n\n```sql\nDELETE FROM users;  -- Deletes EVERYTHING!\n```\n\n---\n\n##  Your Task\n\nDelete cancelled orders.\n",
    "starter_code": "-- Delete cancelled orders\n\n",
    "solution_code": "DELETE FROM orders WHERE status = 'cancelled';",
    "expected_output": "DELETE 5",
    "chapter_id": 212,
    "chapter_title": "Mutations & Transactions"
  },
  "1138": {
    "id": 1138,
    "title": "DELETE with Conditions",
    "content": "#  DELETE with Conditions\n\n## Safe Delete Pattern\n\n```sql\n-- Preview first\nSELECT * FROM orders WHERE order_date < '2020-01-01';\n\n-- Then delete\nDELETE FROM orders WHERE order_date < '2020-01-01';\n```\n\n## Using Subquery\n\n```sql\nDELETE FROM order_items\nWHERE order_id IN (\n  SELECT id FROM orders WHERE status = 'cancelled'\n);\n```\n\n---\n\n##  Your Task\n\nDelete old orders (before 2023).\n",
    "starter_code": "-- Delete orders before 2023\n\n",
    "solution_code": "DELETE FROM orders WHERE order_date < '2023-01-01';",
    "expected_output": "DELETE 100",
    "chapter_id": 212,
    "chapter_title": "Mutations & Transactions"
  },
  "1139": {
    "id": 1139,
    "title": "Transaction Basics",
    "content": "#  Transaction Basics\n\n## What is a Transaction?\n\nA group of operations that succeed or fail together.\n\n## ACID Properties\n\n| Property | Meaning |\n| --- | --- |\n| Atomicity | All or nothing |\n| Consistency | Valid state |\n| Isolation | No interference |\n| Durability | Persisted |\n\n---\n\n##  Your Task\n\nSelect orders to understand what you'll modify.\n",
    "starter_code": "-- Preview data before transaction\n\n",
    "solution_code": "SELECT * FROM orders WHERE status = 'pending';",
    "expected_output": "order_id | status\n1        | pending",
    "chapter_id": 212,
    "chapter_title": "Mutations & Transactions"
  },
  "1140": {
    "id": 1140,
    "title": "BEGIN, COMMIT, ROLLBACK",
    "content": "#  BEGIN, COMMIT, ROLLBACK\n\n## Transaction Flow\n\n```sql\nBEGIN;\n  UPDATE accounts SET balance = balance - 100 WHERE id = 1;\n  UPDATE accounts SET balance = balance + 100 WHERE id = 2;\nCOMMIT;  -- Save changes\n```\n\n## Rollback on Error\n\n```sql\nBEGIN;\n  -- If something goes wrong...\nROLLBACK;  -- Undo everything\n```\n\n---\n\n##  Your Task\n\nSelect account balances.\n",
    "starter_code": "-- Check account balances\n\n",
    "solution_code": "SELECT id, balance FROM accounts;",
    "expected_output": "id | balance\n1  | 1000\n2  | 500",
    "chapter_id": 212,
    "chapter_title": "Mutations & Transactions"
  },
  "1141": {
    "id": 1141,
    "title": "Savepoints",
    "content": "#  Savepoints\n\n## Partial Rollback\n\n```sql\nBEGIN;\n  INSERT INTO orders VALUES (1, 100);\n  SAVEPOINT after_order;\n  INSERT INTO payments VALUES (1, 100);  -- Error!\n  ROLLBACK TO after_order;  -- Keep order, undo payment\nCOMMIT;\n```\n\n---\n\n##  Your Task\n\nCount orders (understanding state before changes).\n",
    "starter_code": "-- Count existing orders\n\n",
    "solution_code": "SELECT COUNT(*) as order_count FROM orders;",
    "expected_output": "order_count\n150",
    "chapter_id": 212,
    "chapter_title": "Mutations & Transactions"
  },
  "1142": {
    "id": 1142,
    "title": "Isolation Levels Intro",
    "content": "#  Isolation Levels Intro\n\n## Levels\n\n| Level | Dirty Read | Lost Update |\n| --- | --- | --- |\n| Read Uncommitted | Yes | Yes |\n| Read Committed | No | Yes |\n| Repeatable Read | No | No |\n| Serializable | No | No |\n\n## Default\n\nMost databases: Read Committed\n\n---\n\n##  Your Task\n\nShow current session settings.\n",
    "starter_code": "-- Simple query to test\n\n",
    "solution_code": "SELECT 1 as test;",
    "expected_output": "test\n1",
    "chapter_id": 212,
    "chapter_title": "Mutations & Transactions"
  },
  "1143": {
    "id": 1143,
    "title": "Safe Update Patterns",
    "content": "#  Safe Update Patterns\n\n## Best Practices\n\n1. **Preview first**: SELECT before UPDATE/DELETE\n2. **Use transactions**: BEGIN...COMMIT\n3. **Limit rows**: Add LIMIT to test\n4. **Backup**: Create a copy before bulk changes\n\n```sql\n-- Safe pattern\nBEGIN;\nSELECT * FROM products WHERE price < 10;  -- Preview\nUPDATE products SET price = price * 1.1 WHERE price < 10;\n-- Verify, then COMMIT or ROLLBACK\n```\n\n---\n\n##  Your Task\n\nPreview products that will be updated.\n",
    "starter_code": "-- Preview products with price < 10\n\n",
    "solution_code": "SELECT * FROM products WHERE price < 10;",
    "expected_output": "id | name   | price\n1  | Widget | 5",
    "chapter_id": 212,
    "chapter_title": "Mutations & Transactions"
  },
  "1144": {
    "id": 1144,
    "title": "Views Introduction",
    "content": "#  Views Introduction\n\n## What is a View?\n\nA saved query that acts like a virtual table.\n\n```sql\nCREATE VIEW active_users AS\nSELECT * FROM users WHERE status = 'active';\n```\n\n## Benefits\n\n- Simplify complex queries\n- Security (hide columns)\n- Abstraction layer\n\n---\n\n##  Your Task\n\nQuery from a conceptual 'active_orders' view.\n",
    "starter_code": "-- Query active orders\n\n",
    "solution_code": "SELECT * FROM orders WHERE status = 'active';",
    "expected_output": "order_id | status\n1        | active",
    "chapter_id": 213,
    "chapter_title": "Analytics Engineering"
  },
  "1145": {
    "id": 1145,
    "title": "Creating Views",
    "content": "#  Creating Views\n\n## Syntax\n\n```sql\nCREATE VIEW view_name AS\nSELECT columns FROM table WHERE condition;\n```\n\n## Example\n\n```sql\nCREATE VIEW monthly_revenue AS\nSELECT DATE_TRUNC('month', order_date) as month, SUM(amount) as revenue\nFROM orders GROUP BY 1;\n```\n\n---\n\n##  Your Task\n\nWrite the SELECT for a daily_orders view.\n",
    "starter_code": "-- Query for daily orders view\n\n",
    "solution_code": "SELECT DATE(order_date) as date, COUNT(*) as orders\nFROM orders\nGROUP BY DATE(order_date);",
    "expected_output": "date       | orders\n2024-03-01 | 15",
    "chapter_id": 213,
    "chapter_title": "Analytics Engineering"
  },
  "1146": {
    "id": 1146,
    "title": "Views vs Tables",
    "content": "#  Views vs Tables\n\n## Differences\n\n| Feature | Table | View |\n| --- | --- | --- |\n| Stores data | Yes | No |\n| Updates | Direct | Through base |\n| Performance | Fast | Computed |\n\n## When to Use Views\n\n- Simplify complex joins\n- Restrict access\n- Reusable queries\n\n---\n\n##  Your Task\n\nWrite a query that would make a good view.\n",
    "starter_code": "-- Customer summary suitable for a view\n\n",
    "solution_code": "SELECT c.name, COUNT(o.id) as order_count, SUM(o.amount) as total\nFROM customers c\nLEFT JOIN orders o ON c.id = o.customer_id\nGROUP BY c.id, c.name;",
    "expected_output": "name  | order_count | total\nAlice | 5           | 500",
    "chapter_id": 213,
    "chapter_title": "Analytics Engineering"
  },
  "1147": {
    "id": 1147,
    "title": "Materialized Views",
    "content": "#  Materialized Views\n\n## What's Different?\n\nMaterialized views store computed results.\n\n```sql\nCREATE MATERIALIZED VIEW mv_daily_revenue AS\nSELECT date, SUM(amount) FROM orders GROUP BY date;\n\n-- Refresh when needed\nREFRESH MATERIALIZED VIEW mv_daily_revenue;\n```\n\n## Trade-offs\n\n| Regular View | Materialized View |\n| --- | --- |\n| Always current | Needs refresh |\n| Computed each query | Cached results |\n| Slower | Faster reads |\n\n---\n\n##  Your Task\n\nWrite a summary that would benefit from caching.\n",
    "starter_code": "-- Heavy aggregation for MV\n\n",
    "solution_code": "SELECT DATE(order_date) as date, SUM(amount) as revenue\nFROM orders\nGROUP BY DATE(order_date);",
    "expected_output": "date       | revenue\n2024-03-01 | 5000",
    "chapter_id": 213,
    "chapter_title": "Analytics Engineering"
  },
  "1148": {
    "id": 1148,
    "title": "Naming Conventions",
    "content": "#  Naming Conventions\n\n## Best Practices\n\n| Type | Convention | Example |\n| --- | --- | --- |\n| Tables | snake_case | order_items |\n| Columns | snake_case | created_at |\n| Views | prefix_* | v_daily_revenue |\n| Staging | stg_* | stg_orders |\n\n## Consistency is Key\n\nPick a convention and stick with it!\n\n---\n\n##  Your Task\n\nQuery with clear column aliases.\n",
    "starter_code": "-- Use clear aliases\n\n",
    "solution_code": "SELECT\n  order_id,\n  order_date AS date,\n  amount AS order_amount\nFROM orders;",
    "expected_output": "order_id | date       | order_amount\n1        | 2024-03-01 | 100",
    "chapter_id": 213,
    "chapter_title": "Analytics Engineering"
  },
  "1149": {
    "id": 1149,
    "title": "SQL Style Guide",
    "content": "#  SQL Style Guide\n\n## Formatting\n\n```sql\n-- Good\nSELECT\n  customer_id,\n  SUM(amount) AS total\nFROM orders\nWHERE status = 'complete'\nGROUP BY customer_id;\n```\n\n## Rules\n\n- Keywords uppercase\n- One clause per line\n- Indent consistently\n- Meaningful aliases\n\n---\n\n##  Your Task\n\nWrite a well-formatted query.\n",
    "starter_code": "-- Write clean, formatted SQL\n\n",
    "solution_code": "SELECT\n  c.name AS customer_name,\n  COUNT(o.id) AS order_count\nFROM customers c\nJOIN orders o ON c.id = o.customer_id\nGROUP BY c.id, c.name\nORDER BY order_count DESC;",
    "expected_output": "customer_name | order_count\nAlice         | 5",
    "chapter_id": 213,
    "chapter_title": "Analytics Engineering"
  },
  "1150": {
    "id": 1150,
    "title": "Staging Models",
    "content": "#  Staging Models\n\n## Purpose\n\nClean raw data from sources.\n\n```sql\n-- stg_orders\nSELECT\n  id AS order_id,\n  LOWER(email) AS customer_email,\n  created_at AS order_date\nFROM raw.orders;\n```\n\n## Transformations\n\n- Rename columns\n- Cast types\n- Basic cleaning\n\n---\n\n##  Your Task\n\nCreate a staging query with clean column names.\n",
    "starter_code": "-- Staging transformation\n\n",
    "solution_code": "SELECT\n  id AS order_id,\n  customer_id,\n  amount AS order_amount,\n  created_at AS order_date\nFROM orders;",
    "expected_output": "order_id | customer_id | order_amount | order_date\n1        | 1           | 100          | 2024-03-01",
    "chapter_id": 213,
    "chapter_title": "Analytics Engineering"
  },
  "1151": {
    "id": 1151,
    "title": "Intermediate Models",
    "content": "#  Intermediate Models\n\n## Purpose\n\nJoin and transform staged data.\n\n```sql\n-- int_orders_with_customers\nSELECT\n  o.order_id,\n  c.customer_name,\n  o.order_amount\nFROM stg_orders o\nJOIN stg_customers c ON o.customer_id = c.customer_id;\n```\n\n---\n\n##  Your Task\n\nJoin orders with customer info.\n",
    "starter_code": "-- Intermediate model join\n\n",
    "solution_code": "SELECT\n  o.id AS order_id,\n  c.name AS customer_name,\n  o.amount\nFROM orders o\nJOIN customers c ON o.customer_id = c.id;",
    "expected_output": "order_id | customer_name | amount\n1        | Alice         | 100",
    "chapter_id": 213,
    "chapter_title": "Analytics Engineering"
  },
  "1152": {
    "id": 1152,
    "title": "Marts Layer",
    "content": "#  Marts Layer\n\n## Purpose\n\nBusiness-ready aggregates for dashboards.\n\n```sql\n-- mart_customer_summary\nSELECT\n  customer_id,\n  customer_name,\n  COUNT(order_id) AS total_orders,\n  SUM(order_amount) AS lifetime_value\nFROM int_orders_with_customers\nGROUP BY customer_id, customer_name;\n```\n\n---\n\n##  Your Task\n\nCreate a customer summary mart.\n",
    "starter_code": "-- Customer mart aggregation\n\n",
    "solution_code": "SELECT\n  c.id AS customer_id,\n  c.name,\n  COUNT(o.id) AS orders,\n  SUM(o.amount) AS revenue\nFROM customers c\nLEFT JOIN orders o ON c.id = o.customer_id\nGROUP BY c.id, c.name;",
    "expected_output": "customer_id | name  | orders | revenue\n1           | Alice | 5      | 500",
    "chapter_id": 213,
    "chapter_title": "Analytics Engineering"
  },
  "1153": {
    "id": 1153,
    "title": "Cloud vs Traditional DB",
    "content": "#  Cloud vs Traditional DB\n\n## Key Differences\n\n| Feature | Traditional | Cloud |\n| --- | --- | --- |\n| Scaling | Manual | Auto |\n| Pricing | Fixed | Usage-based |\n| Storage | Limited | Unlimited |\n\n## Popular Cloud Warehouses\n\n- Snowflake\n- BigQuery\n- Redshift\n- Databricks\n\n---\n\n##  Your Task\n\nWrite a basic aggregation query.\n",
    "starter_code": "-- Cloud-compatible aggregation\n\n",
    "solution_code": "SELECT COUNT(*) as row_count FROM orders;",
    "expected_output": "row_count\n1000",
    "chapter_id": 214,
    "chapter_title": "Cloud Warehouse Features"
  },
  "1154": {
    "id": 1154,
    "title": "QUALIFY Clause",
    "content": "#  QUALIFY Clause\n\n## What is QUALIFY?\n\nFilter window function results (like HAVING for GROUP BY).\n\n```sql\n-- Only show first row per customer\nSELECT *\nFROM orders\nQUALIFY ROW_NUMBER() OVER (PARTITION BY customer_id ORDER BY order_date) = 1;\n```\n\n## Without QUALIFY (subquery needed)\n\n```sql\nSELECT * FROM (\n  SELECT *, ROW_NUMBER() OVER (...) as rn FROM orders\n) WHERE rn = 1;\n```\n\n---\n\n##  Your Task\n\nGet the latest order per customer using a CTE.\n",
    "starter_code": "-- Latest order per customer\n\n",
    "solution_code": "WITH ranked AS (\n  SELECT *, ROW_NUMBER() OVER (PARTITION BY customer_id ORDER BY order_date DESC) as rn\n  FROM orders\n)\nSELECT * FROM ranked WHERE rn = 1;",
    "expected_output": "customer_id | order_date | rn\n1           | 2024-03-15 | 1",
    "chapter_id": 214,
    "chapter_title": "Cloud Warehouse Features"
  },
  "1155": {
    "id": 1155,
    "title": "QUALIFY with ROW_NUMBER",
    "content": "#  QUALIFY with ROW_NUMBER\n\n## Dedup Pattern (Cloud SQL)\n\n```sql\nSELECT *\nFROM events\nQUALIFY ROW_NUMBER() OVER (\n  PARTITION BY user_id, event_type\n  ORDER BY event_time DESC\n) = 1;\n```\n\n## Benefits\n\n- Cleaner than subquery\n- One-liner dedup\n- Cloud native\n\n---\n\n##  Your Task\n\nGet first order per customer (standard SQL).\n",
    "starter_code": "-- First order per customer\n\n",
    "solution_code": "SELECT customer_id, MIN(order_date) as first_order\nFROM orders\nGROUP BY customer_id;",
    "expected_output": "customer_id | first_order\n1           | 2024-01-01",
    "chapter_id": 214,
    "chapter_title": "Cloud Warehouse Features"
  },
  "1156": {
    "id": 1156,
    "title": "Table Partitioning",
    "content": "#  Table Partitioning\n\n## What is Partitioning?\n\nSplit tables by a column (usually date).\n\n```sql\n-- BigQuery example\nCREATE TABLE orders\nPARTITION BY DATE(order_date);\n```\n\n## Benefits\n\n- Query only relevant partitions\n- Faster WHERE on partition key\n- Cost savings\n\n---\n\n##  Your Task\n\nQuery with date filter (benefits from partitioning).\n",
    "starter_code": "-- Filter by date range\n\n",
    "solution_code": "SELECT * FROM orders\nWHERE order_date >= '2024-03-01' AND order_date < '2024-04-01';",
    "expected_output": "order_id | order_date\n1        | 2024-03-15",
    "chapter_id": 214,
    "chapter_title": "Cloud Warehouse Features"
  },
  "1157": {
    "id": 1157,
    "title": "Clustering Keys",
    "content": "#  Clustering Keys\n\n## What is Clustering?\n\nOrganize data within partitions by columns.\n\n```sql\n-- Snowflake example\nALTER TABLE orders CLUSTER BY (customer_id);\n```\n\n## Benefits\n\n- Faster filters on cluster keys\n- Reduces data scanning\n- Complements partitioning\n\n---\n\n##  Your Task\n\nQuery filtering on customer_id (cluster key candidate).\n",
    "starter_code": "-- Query by customer\n\n",
    "solution_code": "SELECT * FROM orders WHERE customer_id = 1;",
    "expected_output": "order_id | customer_id\n1        | 1",
    "chapter_id": 214,
    "chapter_title": "Cloud Warehouse Features"
  },
  "1158": {
    "id": 1158,
    "title": "Cost-Based Thinking",
    "content": "#  Cost-Based Thinking\n\n## Cloud Costs\n\n- **Storage**: Pay for data stored\n- **Compute**: Pay for queries (bytes scanned)\n\n## Reduce Costs\n\n1. Select only needed columns\n2. Filter early\n3. Use partitions\n4. Avoid SELECT *\n\n---\n\n##  Your Task\n\nWrite a cost-efficient query.\n",
    "starter_code": "-- Efficient query\n\n",
    "solution_code": "SELECT order_id, amount\nFROM orders\nWHERE order_date = '2024-03-01';",
    "expected_output": "order_id | amount\n1        | 100",
    "chapter_id": 214,
    "chapter_title": "Cloud Warehouse Features"
  },
  "1159": {
    "id": 1159,
    "title": "Scanning Fewer Columns",
    "content": "#  Scanning Fewer Columns\n\n## Column Selection Matters\n\n```sql\n-- Bad: Scans all columns\nSELECT * FROM orders;\n\n-- Good: Scans only 2 columns\nSELECT order_id, amount FROM orders;\n```\n\n## Columnar Storage\n\nCloud warehouses store data by column - query only what you need!\n\n---\n\n##  Your Task\n\nSelect minimal columns for your query.\n",
    "starter_code": "-- Select only 2 columns\n\n",
    "solution_code": "SELECT customer_id, SUM(amount) as total\nFROM orders\nGROUP BY customer_id;",
    "expected_output": "customer_id | total\n1           | 500",
    "chapter_id": 214,
    "chapter_title": "Cloud Warehouse Features"
  },
  "1160": {
    "id": 1160,
    "title": "Scanning Fewer Rows",
    "content": "#  Scanning Fewer Rows\n\n## Row Reduction Strategies\n\n1. **WHERE clause**: Filter early\n2. **LIMIT**: Sample data\n3. **Partitions**: Scan only relevant dates\n\n```sql\n-- Scans only March data if partitioned\nSELECT * FROM orders\nWHERE order_date BETWEEN '2024-03-01' AND '2024-03-31';\n```\n\n---\n\n##  Your Task\n\nQuery with both column and row reduction.\n",
    "starter_code": "-- Efficient: few columns + filter\n\n",
    "solution_code": "SELECT order_id, amount\nFROM orders\nWHERE customer_id = 1\nLIMIT 10;",
    "expected_output": "order_id | amount\n1        | 50",
    "chapter_id": 214,
    "chapter_title": "Cloud Warehouse Features"
  },
  "1161": {
    "id": 1161,
    "title": "Query Optimization Tips",
    "content": "#  Query Optimization Tips\n\n## Top Tips\n\n1. **Avoid SELECT *** - Pick columns\n2. **Filter early** - WHERE before JOIN\n3. **Use LIMIT** - During development\n4. **Pre-aggregate** - Reduce before JOIN\n5. **Partition pruning** - Filter on partition key\n\n## Anti-Patterns\n\n- `SELECT *`\n- Functions on indexed columns\n- DISTINCT when not needed\n- Joining full tables then filtering\n\n---\n\n##  Your Task\n\nWrite an optimized query following best practices.\n",
    "starter_code": "-- Optimized query\n\n",
    "solution_code": "SELECT\n  c.name,\n  SUM(o.amount) as total_revenue\nFROM customers c\nJOIN orders o ON c.id = o.customer_id\nWHERE o.order_date >= '2024-01-01'\nGROUP BY c.id, c.name\nORDER BY total_revenue DESC\nLIMIT 10;",
    "expected_output": "name  | total_revenue\nAlice | 5000\nBob   | 3000",
    "chapter_id": 214,
    "chapter_title": "Cloud Warehouse Features"
  }
}